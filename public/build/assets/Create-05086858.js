import{_ as D,r as S,a as e,j as a}from"./app-cb27f0a4.js";import{D as T,a as B,b as I,c as j,d as q}from"./dialog-c9921a38.js";import{I as n}from"./InputLabel-05876d10.js";import{T as P}from"./TextInput-1f7fe903.js";import{C as E}from"./index.esm-53f5067e.js";import{I as c}from"./InputError-c773bd76.js";import{P as H}from"./PrimaryButton-59be6069.js";import{L}from"./Loading-b922045f.js";import{S as u}from"./SelectList-9a9a869f.js";import{u as O}from"./useServerFilter-c53290c1.js";import"./utils-01642ffa.js";import"./transition-1612011f.js";const X=({open:b,onClosed:d,triggeredId:t,triggeredBranch:g,triggeredWilayah:p})=>{const{wilayah:f,filteredBranch:y,selectedWilayah:h,onWilayahChangeHandler:N,setSelectedWilayah:v}=O({propsWilayah:p}),{data:s,setData:l,post:_,processing:k,errors:i,reset:C}=D({branch_id:"",unit_payment_id:1,remark:"PEMBAYARAN GORO UMROH",nominal:1e6,transaction_date:"",type_transaksi:1}),o=r=>{const{value:m,name:x}=r.target;l(x,m)},w=(r,m)=>{l(m,r)};return S.useEffect(()=>{l("branch_id",t),v(p)},[t]),e(T,{open:b,onOpenChange:r=>r==!0?l("branch_id",t):d(),className:"text-sm",children:[a(L,{show:k}),e(B,{className:"lg:max-w-lg",children:[e(I,{children:[e(j,{children:["Bayar Goro Umroh ",g]}),a(q,{children:"Pembayaran Goro Umroh Bulanan"})]}),e("form",{className:"grid gap-4 py-4",onSubmit:r=>{r.preventDefault(),_(route("goroumrah.goro_create"),{onSuccess:()=>{C(),d(),location.reload()},replace:!0})},children:[e("div",{className:"mb-3",children:[a(n,{value:"Wilayah",className:"mb-1"}),a(u,{name:"wilayah",value:h,className:"w-full",nullValue:!0,options:f,onChange:N,required:!0})]}),h!==""&&e("div",{className:"mb-3",children:[a(n,{value:"Unit",className:"mb-1"}),a(u,{name:"branch_id",className:"w-full",value:s.branch_id,nullValue:!0,options:y,onChange:o,required:!0})]}),e("div",{className:"mb-3",children:[a(n,{value:"Tipe Transaksi",className:"mb-1"}),a(u,{name:"type_transaksi",className:"w-full inline-block",onChange:o,value:s.type_transaksi,nullValue:!0,options:[{id:1,display:"Bayar",value:1},{id:2,display:"Pinjam",value:2}],required:!0}),a(c,{message:i.type_transaksi,className:"mt-2"})]}),e("div",{className:"mb-3",children:[a(n,{value:"Tanggal Transaksi",className:"mb-1"}),a(P,{name:"transaction_date",type:"date",className:"w-full inline-block",onChange:o,value:s.transaction_date,required:!0}),a(c,{message:i.transaction_date,className:"mt-2"})]}),e("div",{className:"mb-3",children:[a(n,{value:"Nominal",className:"mb-1"}),a(E,{name:"nominal",id:"nominal",className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-md mt-2",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:w,value:s.nominal,placeholder:"Inputkan angka tanpa sparator"}),a(c,{message:i.nominal,className:"mt-2"})]}),a("div",{className:"flex justify-end",children:a(H,{theme:"green",type:"submit",children:"Submit"})})]})]})]})};export{X as default};

import{W as D,r as w,a,j as s,F as E}from"./app-0a1a056b.js";import{I as o}from"./InputError-9141874c.js";import{I as r}from"./InputLabel-472e2c98.js";import{L}from"./LinkButton-31e261d1.js";import{P as T}from"./PrimaryButton-cdff6b9c.js";import{S as c}from"./SelectList-e1ad1c48.js";import{T as U}from"./TextInput-1d3cf388.js";import{A as W}from"./AuthenticatedLayout-82c12c12.js";import{C as y}from"./index.esm-4705c6ea.js";import"./SweetAlert-9a4afb76.js";import"./transition-d63cfb93.js";import"./index.esm-33e5d14f.js";import"./iconBase-359f7aca.js";import"./index.esm-893fc784.js";import"./index.esm-8cc1223b.js";import"./Loading-319b2562.js";const Z=({branch:u,employees:x,...d})=>{const{data:p,setData:b,post:k,processing:_,errors:m}=D({employee_id:"",sw_balance:0,sk_balance:0,tgl_tabugan:""}),[g,S]=w.useState(),[h,f]=w.useState(),C=Object.values(u.reduce((e,t)=>{const l=t.wilayah;return e[l]={id:l,value:l,display:`wilayah ${l}`},e},{})),I=e=>{const{value:t}=e.target,l=u.filter(n=>n.wilayah==t).map(({id:n,unit:i})=>({id:n,display:i,value:n}));console.log(l),S(l),f(null)},j=e=>{const{value:t}=e.target,l=x.filter(n=>n.branch_id==t).map(({id:n,nama_karyawan:i,jabatan:A})=>({id:n,display:`${i} - ${A}`,value:n}));f(l)},v=e=>{const{value:t,name:l}=e.target;b(l,t)},N=(e,t)=>{b(t,e)},V=e=>{e.preventDefault(),k(route("sksw.store"))};return a(W,{loading:_,auth:d.auth,errors:d.errors,header:s(E,{children:[a("h2",{className:"font-semibold text-xl text-main-800 leading-tight",children:"Tambah Baru Simpanan Sukarela"}),a("div",{className:"ml-auto flex items-center",children:a(L,{href:route("simpanan.index"),title:"Halaman Utama"})})]}),children:a("div",{className:"mx-auto sm:px-6 lg:px-8",children:a("div",{className:"p-3 bg-white rounded shadow",children:s("form",{onSubmit:V,className:"lg:grid lg:grid-cols-2 gap-3",children:[s("div",{className:"col-span-1 w-full",children:[s("div",{className:"mb-2",children:[a(r,{value:"Wilayah",className:"mb-1"}),a(c,{onChange:I,options:C,nullValue:!0})]}),g&&s("div",{className:"mb-2",children:[a(r,{value:"Unit",className:"mb-1"}),a(c,{onChange:j,nullValue:!0,options:g})]}),h&&s("div",{className:"mb-2",children:[a(r,{value:"Nama Karawan",className:"mb-1"}),a(c,{onChange:v,name:"employee_id",nullValue:!0,options:h,className:"w-full"}),a(o,{message:m.employee_id,className:"mt-2"})]})]}),s("div",{className:"col-span-1 w-full",children:[s("div",{className:"mb-2",children:[a(r,{value:"Tanggal Setor",className:"mb-1"}),a(U,{type:"month",onChange:v,name:"tgl_tabugan"}),a(o,{message:m.tgl_tabugan,className:"mt-2"})]}),s("div",{className:"mb-2",children:[a(r,{value:"Setor Awal Simpanan Wajib",className:"mb-1"}),a(y,{name:"sw_balance",id:"sw_balance",className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-sm mt-2",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:N,value:p.sw_balance,placeholder:"Inputkan angka tanpa sparator"}),a(o,{message:m.sw_balance,className:"mt-2"})]}),s("div",{className:"mb-2",children:[a(r,{value:"Setor Awal Simpanan Sukarela",className:"mb-1"}),a(y,{name:"sk_balance",id:"sk_balance",className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-sm mt-2",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:N,value:p.sk_balance,placeholder:"Inputkan angka tanpa sparator"}),a(o,{message:m.sk_balance,className:"mt-2"})]}),a("div",{className:"mb-2 flex items-end justify-end",children:a(T,{type:"submit",title:"Submit"})})]})]})})})})};export{Z as default};

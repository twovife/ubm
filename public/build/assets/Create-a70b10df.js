import{_ as S,r as T,j as a,a as e,F as g}from"./app-1d785132.js";import{I as i}from"./InputError-dbc39e5b.js";import{I as n}from"./InputLabel-faf6f2c6.js";import{L as P}from"./LinkButton-a4b9655b.js";import{P as I}from"./PrimaryButton-d85fef6e.js";import{S as d}from"./SelectList-244562dc.js";import{T as o}from"./TextInput-bd1c020b.js";import{A as K}from"./AuthenticatedLayout-3cf4e6d7.js";import"./index.esm-6428d631.js";import"./Navbar-5bc1c263.js";import"./index.esm-cfc0a015.js";import"./iconBase-72367d21.js";import"./index.esm-f651b8a5.js";import"./transition-773de677.js";import"./index.esm-0983ca43.js";import"./Loading-03bb076d.js";const X=({branch:h,employees:L,title:v,...b})=>{const{data:p,setData:c,post:f,processing:_,errors:r}=S({nama_aset:"",type_aset:"",status_kepemilikan:"pusat",isactive:"active",status_aset:"",tanggal_pembelian:"",detail_aset:"",plat_nomor:"",nama_stnk:"",tanggal_stnk:"",tax_expired:"",jabatan:"",area:0,branch_id:""}),[N,w]=T.useState(),x=Object.values(h.reduce((t,s)=>{const l=s.wilayah;return t[l]={id:l,value:l,display:`wilayah ${l}`},t},{})),y=v.map(t=>({id:t.id,value:t.title,display:t.title})),k=t=>{const{value:s}=t.target,l=h.filter(u=>u.wilayah==s).map(({id:u,unit:A})=>({id:u,display:A,value:u}));w(l)},C=t=>{const{value:s,name:l}=t.target;c(l,s)},m=t=>{const{value:s,name:l}=t.target;c(l,s)},j=t=>{const{value:s,name:l}=t.target;s==="kendaraan"?c(l,s):c({...p,[l]:s,detail_aset:"",plat_nomor:"",nama_stnk:"",tanggal_stnk:"",tax_expired:""})},q=t=>{t.preventDefault(),f(route("aset.store"))};return a(K,{loading:_,auth:b.auth,errors:b.errors,header:e(g,{children:[a("h2",{className:"font-semibold text-xl text-main-800 leading-tight",children:"Tambah Baru Simpanan Sukarela"}),a("div",{className:"ml-auto flex items-center",children:a(P,{href:route("simpanan.index"),title:"Halaman Utama"})})]}),children:a("div",{className:"mx-auto sm:px-6 lg:px-8",children:a("div",{className:"p-3 bg-white rounded shadow",children:e("form",{onSubmit:q,className:"lg:grid lg:grid-cols-2 gap-3",children:[e("div",{className:"col-span-1 w-full",children:[e("div",{className:"mb-2",children:[a(n,{value:"Type Aset",className:"mb-1"}),a(d,{name:"type_aset",onChange:j,className:"block w-full lg:w-1/2",options:[{id:1,value:"kendaraan",display:"Kendaraan"}],required:!0,nullValue:!0}),a(i,{message:r.type_aset,className:"mt-2"}),e("div",{className:"mb-2",children:[a(n,{value:"Nama Aset",className:"mb-1"}),a(o,{required:!0,type:"text",onChange:m,name:"nama_aset",className:"block w-full lg:w-1/2"}),a(i,{message:r.nama_aset,className:"mt-2"})]})]}),e("div",{className:"mb-2",children:[a(n,{value:"Tanggal Pembelian Aset",className:"mb-1",optional:!0}),a(o,{type:"date",onChange:m,name:"tanggal_pembelian",className:"block w-full lg:w-1/2"}),a(i,{message:r.tanggal_pembelian,className:"mt-2"})]}),p.type_aset=="kendaraan"&&e(g,{children:[e("div",{className:"mb-2",children:[a(n,{value:"Detail Aset",className:"mb-1",optional:!0}),a(o,{type:"text",onChange:m,name:"detail_aset",className:"block w-full lg:w-1/2"}),a(i,{message:r.detail_aset,className:"mt-2"})]}),e("div",{className:"mb-2",children:[a(n,{value:"Plat Nomor",className:"mb-1"}),a(o,{type:"text",onChange:m,required:!0,name:"plat_nomor",className:"block w-full lg:w-1/2"}),a(i,{message:r.plat_nomor,className:"mt-2"})]}),e("div",{className:"mb-2",children:[a(n,{value:"Atas Nama Kendaraan",className:"mb-1"}),a(o,{type:"text",onChange:m,name:"nama_stnk",required:!0,className:"block w-full lg:w-1/2"}),a(i,{message:r.nama_stnk,className:"mt-2"})]}),e("div",{className:"mb-2",children:[a(n,{value:"Tanggal Kadaluarsa STNK",className:"mb-1"}),a(o,{type:"date",onChange:m,name:"tanggal_stnk",required:!0,className:"block w-full lg:w-1/2"}),a(i,{message:r.tanggal_stnk,className:"mt-2"})]}),e("div",{className:"mb-2",children:[a(n,{value:"Tanggal Kadaluarsa Pajak",className:"mb-1"}),a(o,{type:"date",onChange:m,required:!0,name:"tax_expired",className:"block w-full lg:w-1/2"}),a(i,{message:r.tax_expired,className:"mt-2"})]})]})]}),e("div",{className:"col-span-1 w-full",children:[e("div",{className:"mb-2",children:[a(n,{value:"Wilayah Penempatan Aset",className:"mb-1"}),a(d,{onChange:k,options:x,required:!0,nullValue:!0,className:"block w-full lg:w-1/2"})]}),N&&e(g,{children:[e("div",{className:"mb-2",children:[a(n,{value:"Unit Penempatan Aset",className:"mb-1"}),a(d,{onChange:m,nullValue:!0,required:!0,options:N,name:"branch_id",className:"block w-full lg:w-1/2"})]}),e("div",{className:"mb-2",children:[a(n,{value:"Jabatan",className:"mb-1"}),e("div",{className:"flex gap-2 w-full lg:w-1/2",children:[a(d,{required:!0,onChange:C,nullValue:!0,options:y,className:"flex-[2]",name:"jabatan",id:"jabatan"}),p.jabatan==="mantri"&&a(o,{onChange:m,className:"flex-1",type:"number",required:!0,name:"area",id:"area"})]})]})]}),a("div",{className:"mb-2 flex items-end justify-end",children:a(I,{type:"submit",title:"Submit"})})]})]})})})})};export{X as default};

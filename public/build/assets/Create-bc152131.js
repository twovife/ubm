import{_ as F,j as a,r as K,a as e}from"./app-2b6e3e14.js";import{I as i}from"./InputError-ec9be86c.js";import{I as n}from"./InputLabel-7b93ad72.js";import{P as I}from"./PrimaryButton-6009191f.js";import{S as d}from"./SelectList-200c416d.js";import{T as m}from"./TextInput-31c79e44.js";import{u as P}from"./useServerFilter-03b27a89.js";import"./Navbar-b2484eab.js";import"./Loading-2621aad2.js";import{t as B}from"./transition-fe13407d.js";import"./index.esm-a30278c8.js";import"./iconBase-6b2cf611.js";import"./index.esm-3707023f.js";const $=({show:f,setShow:g,setLoading:c})=>{const{data:r,setData:p,post:N,reset:y,processing:T,errors:t}=F({nama_karyawan:"",nik:"",alamat:"",branch_id:"",hire_date:"",jabatan:"",area:"",janis_jaminan:""}),{wilayah:b,setSelectedWilayah:W,filteredBranch:w,selectedWilayah:h,selectedBranch:J,selectedBranch_id:M,onWilayahChangeHandler:k,onBranchChangeHandler:D,filteredEmps:E}=P(),x=[{id:1,value:"mantri",display:"Mantri"},{id:3,value:"admin",display:"Admin"},{id:4,value:"kasir",display:"Kasir"},{id:2,value:"kepala mantri",display:"Kepala Mantri"},{id:5,value:"wakil pimpinan",display:"Wakil Pimpinan"},{id:6,value:"pimpinan",display:"Pimpinan"},{id:7,value:"staf",display:"Staf"},{id:8,value:"staf kontrol",display:"Staf Kontrol"},{id:9,value:"pengawas",display:"Pengawas"}],_=[{id:1,value:1,display:"Cadangan"},{id:2,value:2,display:"Kontrak"}],l=s=>{const{name:o,value:u}=s.target;p(o,u)},j=s=>{const{name:o,value:u}=s.target,S={[o]:u,area:0};p(q=>({...q,...S}))},v=s=>{g(),y()},C=s=>{s.preventDefault(),console.log(r),c(!0),N(route("emp.store"),{onSuccess:o=>v(),onFinish:o=>c(!1)})};return a(B,{as:K.Fragment,show:f,enter:"transition ease-out duration-200",enterFrom:"transform opacity-0",enterTo:"transform opacity-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100",leaveTo:"transform opacity-0",children:a("div",{className:"fixed top-0 left-0 border px-6 py-3 rounded w-full h-screen z-[100] flex items-center justify-center",onClick:v,children:a("div",{className:"p-3 rounded shadow-lg bg-white border max-w-2xl w-full",onClick:s=>s.stopPropagation(),children:e("form",{onSubmit:C,className:"mt-3 bg-inherit",children:[a("div",{className:"text-gray-500 font-semibold text-xl mono",children:"Tambah Karywan Baru"}),e("div",{className:"w-full mx-auto flex",children:[e("div",{className:"flex-1 p-3",children:[e("div",{className:"mb-3",children:[a(n,{htmlFor:"nama_karyawan",value:"Nama Pegawai"}),a(m,{required:!0,onChange:l,className:"mt-1 w-full",name:"nama_karyawan",id:"nama_karyawan"}),a(i,{message:t.nama_karyawan,className:"mt-2"})]}),e("div",{className:"mb-3",children:[a(n,{htmlFor:"nik",value:"NIK"}),a(m,{required:!0,onChange:l,className:"mt-1 w-full",name:"nik",id:"nik"}),a(i,{message:t.nik,className:"mt-2"})]}),e("div",{className:"mb-3",children:[a(n,{required:!0,htmlFor:"alamat",value:"Alamat"}),a(m,{required:!0,onChange:l,className:"mt-1 w-full",name:"alamat",id:"alamat"}),a(i,{message:t.alamat,className:"mt-2"})]}),e("div",{className:"mb-3",children:[a(n,{value:"Wilayah",className:"mb-1"}),a(d,{name:"wilayah",value:h,className:"w-full",nullValue:!0,options:b,onChange:k,required:!0})]}),h!==""&&e("div",{className:"mb-3",children:[a(n,{value:"Unit",className:"mb-1"}),a(d,{name:"branch_id",className:"w-full",value:r.branch_id,nullValue:!0,options:w,onChange:l,required:!0})]}),e("div",{className:"mb-3",children:[a(n,{htmlFor:"hire_date",value:"Tanggal masuk"}),a(m,{required:!0,onChange:l,className:"mt-1 w-full",name:"hire_date",id:"hire_date",type:"date"}),a(i,{message:t.hire_date,className:"mt-2"})]})]}),e("div",{className:"flex-1 p-3",children:[e("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-3 mb-3",children:[e("div",{className:"flex-1",children:[a(n,{value:"Jabatan"}),a(d,{required:!0,value:r.jabatan,className:"w-full",nullvalue:!0,options:x,name:"jabatan",onChange:j}),a(i,{message:t.jabatan,className:"mt-2"})]}),r.jabatan==="mantri"&&e("div",{className:"flex-1",children:[a(n,{value:"Kelompok"}),a(m,{className:"w-full",required:!0,name:"area",value:r.area,type:"number",min:"0",onChange:l}),a(i,{message:t.area,className:"mt-2"})]})]}),e("div",{className:"mb-3",children:[a(n,{htmlFor:"janis_jaminan",value:"Jenis Jaminan"}),a(m,{onChange:l,className:"mt-1 w-full",name:"janis_jaminan",id:"janis_jaminan"}),a(i,{message:t.janis_jaminan,className:"mt-2"})]}),e("div",{className:"mb-3",children:[a(n,{value:"Status Kontrak"}),a(d,{required:!0,name:"status_kontrak",value:r.status_kontrak,className:"w-full",nullvalue:!0,options:_,onChange:l}),a(i,{message:t.status_kontrak,className:"mt-2"})]})]})]}),a("div",{className:"flex justify-end items-end",children:a(I,{type:"submit",title:"Submit",theme:"green"})})]})})})})};export{$ as default};

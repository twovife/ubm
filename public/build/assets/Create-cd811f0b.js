import{_ as D,r as w,a,j as s,F as E}from"./app-b2b4d377.js";import{I as o}from"./InputError-66b64a2b.js";import{I as r}from"./InputLabel-7294c578.js";import{L}from"./LinkButton-b95a4f1a.js";import{P as T}from"./PrimaryButton-351f95ff.js";import{S as d}from"./SelectList-494142a1.js";import{T as U}from"./TextInput-7c7c6601.js";import{A as B}from"./AuthenticatedLayout-7b953ffa.js";import{C as y}from"./index.esm-2605254a.js";import"./SweetAlert-d37b63f1.js";import"./transition-58578fc4.js";import"./iconBase-aadd6417.js";import"./index.esm-d19fb327.js";import"./index.esm-40b1f9f4.js";import"./Loading-56d50c57.js";const Y=({branch:p,employees:x,...g})=>{const{data:b,setData:h,post:_,processing:k,errors:m}=D({employee_id:"",sw_balance:0,sk_balance:0,tgl_tabugan:""}),[i,S]=w.useState();console.log(i);const[c,f]=w.useState();console.log(c);const C=Object.values(p.reduce((e,t)=>{const l=t.wilayah;return e[l]={id:l,value:l,display:`wilayah ${l}`},e},{})),I=e=>{const{value:t}=e.target,l=p.filter(n=>n.wilayah==t).map(({id:n,unit:u})=>({id:n,display:u,value:n}));console.log(l),S(l),f(null)},j=e=>{const{value:t}=e.target,l=x.filter(n=>n.branch_id==t).map(({id:n,nama_karyawan:u,jabatan:A})=>({id:n,display:`${u} - ${A}`,value:n}));f(l)},v=e=>{const{value:t,name:l}=e.target;h(l,t)},N=(e,t)=>{h(t,e)},V=e=>{e.preventDefault(),_(route("simpanan.store"))};return a(B,{loading:k,auth:g.auth,errors:g.errors,header:s(E,{children:[a("h2",{className:"font-semibold text-xl text-main-800 leading-tight",children:"Tambah Baru Simpanan Sukarela"}),a("div",{className:"ml-auto flex items-center",children:a(L,{href:route("simpanan.index"),title:"Halaman Utama"})})]}),children:a("div",{className:"mx-auto sm:px-6 lg:px-8",children:a("div",{className:"p-3 bg-white rounded shadow",children:s("form",{onSubmit:V,className:"lg:grid lg:grid-cols-2 gap-3",children:[s("div",{className:"col-span-1 w-full",children:[s("div",{className:"mb-2",children:[a(r,{value:"Wilayah",className:"mb-1"}),a(d,{onChange:I,options:C,nullValue:!0})]}),i&&s("div",{className:"mb-2",children:[a(r,{value:"Unit",className:"mb-1"}),a(d,{onChange:j,nullValue:!0,options:i})]}),c&&s("div",{className:"mb-2",children:[a(r,{value:"Nama Karawan",className:"mb-1"}),a(d,{onChange:v,name:"employee_id",nullValue:!0,options:c,className:"w-full"}),a(o,{message:m.employee_id,className:"mt-2"})]})]}),s("div",{className:"col-span-1 w-full",children:[s("div",{className:"mb-2",children:[a(r,{value:"Tanggal Setor",className:"mb-1"}),a(U,{type:"month",onChange:v,name:"tgl_tabugan"}),a(o,{message:m.tgl_tabugan,className:"mt-2"})]}),s("div",{className:"mb-2",children:[a(r,{value:"Setor Awal Simpanan Wajib",className:"mb-1"}),a(y,{name:"sw_balance",id:"sw_balance",className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-sm mt-2",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:N,value:b.sw_balance,placeholder:"Inputkan angka tanpa sparator"}),a(o,{message:m.sw_balance,className:"mt-2"})]}),s("div",{className:"mb-2",children:[a(r,{value:"Setor Awal Simpanan Sukarela",className:"mb-1"}),a(y,{name:"sk_balance",id:"sk_balance",className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-sm mt-2",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:N,value:b.sk_balance,placeholder:"Inputkan angka tanpa sparator"}),a(o,{message:m.sk_balance,className:"mt-2"})]}),a("div",{className:"mb-2 flex items-end justify-end",children:a(T,{type:"submit",title:"Submit"})})]})]})})})})};export{Y as default};

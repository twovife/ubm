import{_ as T,r as I,a as e,j as a}from"./app-7b722207.js";import{D as A,a as P,b as B,c as j,d as q}from"./dialog-dcd503c2.js";import{I as l}from"./InputLabel-581b8d07.js";import{T as O}from"./TextInput-5b557729.js";import{C as E}from"./index.esm-83cf1477.js";import{I as u}from"./InputError-89371ae4.js";import{P as G}from"./PrimaryButton-aac7732f.js";import{L}from"./Loading-64a623ac.js";import{S as d}from"./SelectList-9103eee4.js";import{u as R}from"./useServerFilter-947a2ad1.js";import"./utils-01642ffa.js";import"./transition-e2d9fa21.js";const $=({open:g,onClosed:p,triggeredId:t,triggeredBranch:N,triggeredWilayah:i})=>{console.log(t);const{wilayah:f,filteredBranch:y,selectedWilayah:h,onWilayahChangeHandler:v,setSelectedWilayah:_}=R({propsWilayah:i}),{data:o,setData:s,post:k,processing:C,errors:m,reset:w}=T({branch_id:"",unit_payment_id:4,remark:"",nominal:1e6,transaction_date:"",type_transaksi:""}),b=n=>{const{value:r,name:c}=n.target;s(c,r)},x=n=>{const{value:r,name:c}=n.target;s(S=>({...S,[c]:parseInt(r),remark:r==1?"PEMBAYARAN PINJAMAN GORO":"PINJAMAN GORO"}))},D=(n,r)=>{s(r,n)};return I.useEffect(()=>{s("branch_id",t),_(i)},[t,i]),e(A,{open:g,onOpenChange:n=>n==!0?s("branch_id",t):p(),className:"text-sm",children:[a(L,{show:C}),e(P,{className:"lg:max-w-lg",children:[e(B,{children:[e(j,{children:["Bayar Goro Umroh ",N]}),a(q,{children:"Pembayaran Goro Umroh Bulanan"})]}),e("form",{className:"grid gap-4 py-4",onSubmit:n=>{n.preventDefault(),k(route("goroumrah.goro_create"),{onSuccess:()=>{w(),p(),location.reload()},replace:!0})},children:[e("div",{className:"mb-3",children:[a(l,{value:"Wilayah",className:"mb-1"}),a(d,{name:"wilayah",value:h,className:"w-full",nullValue:!0,options:f,onChange:v,required:!0})]}),h!==""&&e("div",{className:"mb-3",children:[a(l,{value:"Unit",className:"mb-1"}),a(d,{name:"branch_id",className:"w-full",value:o.branch_id,nullValue:!0,options:y,onChange:b,required:!0})]}),e("div",{className:"mb-3",children:[a(l,{value:"Tipe Transaksi",className:"mb-1"}),a(d,{name:"type_transaksi",className:"w-full inline-block",onChange:x,value:o.type_transaksi,nullValue:!0,options:[{id:1,display:"Bayar",value:1},{id:2,display:"Pinjam",value:2}],required:!0}),a(u,{message:m.type_transaksi,className:"mt-2"})]}),e("div",{className:"mb-3",children:[a(l,{value:"Tanggal Transaksi",className:"mb-1"}),a(O,{name:"transaction_date",type:"date",className:"w-full inline-block",onChange:b,value:o.transaction_date,required:!0}),a(u,{message:m.transaction_date,className:"mt-2"})]}),e("div",{className:"mb-3",children:[a(l,{value:"Nominal",className:"mb-1"}),a(E,{name:"nominal",id:"nominal",className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-md mt-2",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:D,value:o.nominal,placeholder:"Inputkan angka tanpa sparator"}),a(u,{message:m.nominal,className:"mt-2"})]}),a("div",{className:"flex justify-end",children:a(G,{theme:"green",type:"submit",children:"Submit"})})]})]})]})};export{$ as default};

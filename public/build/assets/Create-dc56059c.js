import{W as w,r as C,a as e,j as a}from"./app-e6631525.js";import{D,a as j,b as S,c as P,d as H}from"./dialog-16576d8a.js";import{I as l}from"./InputLabel-e390bfe4.js";import{T as m}from"./TextInput-4f709a00.js";import"./index.esm-d057f182.js";import{I as r}from"./InputError-cd46b170.js";import{P as q}from"./PrimaryButton-e2b4bcd5.js";import{L as T}from"./Loading-78d94aa2.js";import{S as g}from"./SelectList-200f0b93.js";import{u as A}from"./useServerFilter-015ddb1d.js";import"./index-b84245f1.js";import"./utils-01642ffa.js";import"./transition-89a9d732.js";const J=({open:p,onClosed:c,triggeredId:o,triggeredBranch:K,triggeredWilayah:h})=>{const{wilayah:N,selectedWilayah:u,onWilayahChangeHandler:v,filteredBranch:b}=A(),{data:n,setData:d,post:_,processing:f,errors:s,reset:k}=w({asset_name:"",asset_type_id:1,asset_category_id:1,asset_detail:"",isactive:"yes",plat_nomor:"",tanggal_stnk:"",tanggal_pajak_tahunan:"",nama_stnk:"",branch_id:"",before_branch_id:"",asset_place_id:1,pengguna:"",keterangan:""}),t=i=>{const{value:x,name:y}=i.target;d(y,x)};return C.useEffect(()=>{d("branch_id",o)},[o,h]),e(D,{open:p,onOpenChange:i=>i==!0?"":c(),className:"text-sm",children:[a(T,{show:f}),e(j,{className:"lg:max-w-3xl max-h-[90vh] overflow-auto",children:[e(S,{children:[a(P,{children:"Data Aset Kendaraan"}),a(H,{children:"Rincian Aset Kendaraan"})]}),e("form",{onSubmit:i=>{i.preventDefault(),_(route("asset.kendaraan.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>c(),onFinish:()=>k()})},children:[e("div",{className:"grid lg:grid-cols-2 gap-4 py-4",children:[e("div",{children:[a("div",{className:"mb-3 font-semibold",children:"Detail Asset"}),e("div",{className:"mb-3",children:[a(l,{value:"Nama Kendaraan",className:"mb-1"}),a(m,{name:"asset_name",type:"text",className:"w-full inline-block",onChange:t,value:n.asset_name,placeHolder:"ex: Supra Fit 125",required:!0}),a(r,{message:s.asset_name,className:"mt-2"})]}),e("div",{className:"mb-3",children:[a(l,{value:"Plat Nomor",className:"mb-1"}),a(m,{name:"plat_nomor",type:"text",className:"w-full inline-block",onChange:t,value:n.plat_nomor,placeHolder:"AG1010HX tanpa spasi ",required:!0}),a(r,{message:s.plat_nomor,className:"mt-2"})]}),e("div",{className:"mb-3",children:[a(l,{value:"Detail Kendaraan",optional:!0,className:"mb-1"}),a(m,{name:"asset_detail",type:"text",className:"w-full inline-block",onChange:t,value:n.asset_detail,placeHolder:"Warna Putih"}),a(r,{message:s.asset_detail,className:"mt-2"})]}),e("div",{className:"mb-3",children:[a(l,{value:"Atas Nama Kendaraan",className:"mb-1"}),a(m,{name:"nama_stnk",type:"text",className:"w-full inline-block",onChange:t,value:n.nama_stnk,required:!0}),a(r,{message:s.nama_stnk,className:"mt-2"})]}),e("div",{className:"mb-3",children:[a(l,{value:"Tanggal STNK ( Pajak 5Tahuna )",className:"mb-1"}),a(m,{name:"tanggal_stnk",type:"date",className:"w-full inline-block",onChange:t,value:n.tanggal_stnk,placeHolder:"Warna Putih",required:!0}),a(r,{message:s.tanggal_stnk,className:"mt-2"})]}),e("div",{className:"mb-3",children:[a(l,{value:"Tanggal Pajak ( Pajak 1 Tahun )",className:"mb-1"}),a(m,{name:"tanggal_pajak_tahunan",type:"date",className:"w-full inline-block",onChange:t,value:n.tanggal_pajak_tahunan,placeHolder:"Warna Putih",required:!0}),a(r,{message:s.tanggal_pajak_tahunan,className:"mt-2"})]})]}),e("div",{children:[a("div",{className:"mb-3 font-semibold",children:"Detail Penempatan Aset"}),e("div",{className:"mb-3 flex flex-col lg:flex-row items-center justify-center gap-3 mt-3",children:[e("div",{className:"flex-1 w-full",children:[a(l,{value:"Wilayah"}),a(g,{name:"wilayah",value:u,className:"w-full",nullValue:!0,required:!0,options:N,onChange:v})]}),u!==""&&e("div",{className:"flex-1 w-full",children:[a(l,{value:"Unit"}),a(g,{name:"branch_id",className:"w-full",value:n.branch_id,nullValue:!0,required:!0,options:b,onChange:t}),a(r,{message:s.branch_id,className:"mt-2"})]})]}),e("div",{className:"mb-3",children:[a(l,{value:"Pengguna",className:"mb-1"}),a(m,{name:"pengguna",type:"text",className:"w-full inline-block",onChange:t,value:n.pengguna,placeHolder:"Mantri 1 / Admin",required:!0}),a(r,{message:s.pengguna,className:"mt-2"})]}),e("div",{className:"mb-3",children:[a(l,{value:"Keterangan",optional:!0,className:"mb-1"}),a(m,{name:"keterangan",type:"text",className:"w-full inline-block",onChange:t,value:n.keterangan}),a(r,{message:s.keterangan,className:"mt-2"})]})]})]}),a("div",{className:"flex justify-end",children:a(q,{theme:"green",type:"submit",children:"Submit"})})]})]})]})};export{J as default};

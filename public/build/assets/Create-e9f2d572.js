import{W as q,j as e,r as T,a}from"./app-9ebf769c.js";import{I as t}from"./InputError-efb1c53f.js";import{I as r}from"./InputLabel-47189f62.js";import{P as W}from"./PrimaryButton-29581f6d.js";import{S as c}from"./SelectList-714b7fc3.js";import{T as j}from"./TextInput-5c77428e.js";import{u as B}from"./useServerFilter-fa43e14d.js";import{C as h}from"./index.esm-7b87d996.js";import{q as F}from"./transition-0247d4df.js";const L=({show:g=!1,showHandler:w,setLoading:o})=>{const{wilayah:v,setSelectedWilayah:V,filteredBranch:y,selectedWilayah:i,selectedBranch:D,selectedBranch_id:N,onWilayahChangeHandler:x,onBranchChangeHandler:_,filteredEmps:u}=B(),{data:m,setData:d,post:k,processing:E,recentlySuccessful:H,reset:C,errors:n}=q({employee_id:"",sw_balance:0,sk_balance:0,tgl_tabugan:""}),f=l=>{const{value:s,name:I}=l.target;d(I,s)},p=(l,s)=>{d(s,parseInt(l))},b=()=>{w(!1),C(),o(!1)},S=l=>{l.preventDefault(),k(route("sksw.store"),{onStart:s=>{o(!0)},onSuccess:s=>{b()},onError:s=>o(!1),replace:!0})};return e(F,{as:T.Fragment,show:g,enter:"transition ease-out duration-200",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:e("div",{className:"w-full h-screen fixed top-0 left-0 z-[50]",children:e("div",{className:"flex justify-center h-full items-center p-2",onClick:b,children:a("form",{onSubmit:S,className:"w-full lg:max-w-xl bg-white py-3 px-6 shadow border",onClick:l=>l.stopPropagation(),children:[e("div",{className:"mb-3 font-semibold text-xl",children:"Tambah SKSW BARU"}),a("div",{className:"flex flex-col lg:flex-row gap-3 w-full mb-2",children:[a("div",{className:"flex-1",children:[e(r,{value:"Wilayah",className:"mb-1"}),e(c,{name:"wilayah",value:i,className:"w-full",nullValue:!0,options:v,onChange:x,required:!0})]}),i!==""&&a("div",{className:"flex-1",children:[e(r,{value:"Unit",className:"mb-1"}),e(c,{name:"branch_id",className:"w-full",value:N,nullValue:!0,options:y,onChange:_,required:!0})]}),u!==""&&a("div",{className:"flex-1",children:[e(r,{value:"Nama Karyawan",className:"mb-1"}),e(c,{name:"employee_id",className:"w-full",value:m.employee_id,nullValue:!0,options:u,onChange:f,required:!0}),e(t,{message:n.employee_id,className:"mt-2"})]})]}),a("div",{className:"w-full mb-2",children:[e(r,{value:"Tanggal Tabungan"}),e(j,{type:"date",className:"w-full",name:"tgl_tabugan",onChange:f,required:!0}),e(t,{message:n.tgl_tabugan,className:"mt-2"})]}),a("div",{className:"w-full mb-2",children:[e(r,{value:"Setor Awal Simpanan Wajib",className:"mb-1"}),e(h,{name:"sw_balance",id:"sw_balance",className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-sm mt-2",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:p,value:m.sw_balance,placeholder:"Inputkan angka tanpa sparator"}),e(t,{message:n.sw_balance,className:"mt-2"})]}),a("div",{className:"w-full mb-2",children:[e(r,{value:"Setor Awal Simpanan Sukarela",className:"mb-1"}),e(h,{name:"sk_balance",id:"sk_balance",className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-sm mt-2",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:p,value:m.sk_balance,placeholder:"Inputkan angka tanpa sparator"}),e(t,{message:n.sk_balance,className:"mt-2"})]}),e("div",{className:"flex justify-end items-center",children:e(W,{type:"submit",title:"submit"})})]})})})})};export{L as default};

import{_ as E,r as g,j as a,a as s}from"./app-6e6d0e61.js";import{A as L,C as o}from"./AuthenticatedLayout-d6e4433e.js";import{I as y}from"./InputError-84ac2462.js";import{I as r}from"./InputLabel-7f9be826.js";import{L as T}from"./LinkButton-4fa5f66f.js";import{P as U}from"./PrimaryButton-12ccfabe.js";import{S as i}from"./SelectList-010dd989.js";import{T as V}from"./TextInput-ee64155e.js";import{C as D}from"./index.esm-31577bb4.js";import"./transition-74e3025e.js";import"./index.esm-bd028a30.js";const J=({branch:u,employees:N,...P})=>{const{data:v,setData:c,post:w,processing:j,errors:p}=E({employee_id:"",besar_pinjaman:1e6}),[d,C]=g.useState(),[b,f]=g.useState(),x=Object.values(u.reduce((e,t)=>{const n=t.wilayah;return e[n]={id:n,value:n,display:`wilayah ${n}`},e},{})),_=e=>{const{value:t}=e.target,n=u.filter(l=>l.wilayah==t).map(({id:l,unit:m})=>({id:l,display:m,value:l}));C(n),f(null)},I=e=>{const{value:t}=e.target,n=N.filter(l=>l.branch_id==t).map(({id:l,nama_karyawan:m,jabatan:k})=>({id:l,display:`${m} - ${k}`,value:l}));f(n)},h=e=>{const{value:t,name:n}=e.target;c(n,t)},B=(e,t)=>{c(t,e)},S=e=>{e.preventDefault(),w(route("bonpanjer.bon_panjer_store"))};return a(L,{loading:j,children:s(o,{judul:"Bon Panjer Baru",children:[a(o.subTitle,{children:s("div",{className:"flex lg:flex-row flex-col lg:justify-between items-center gap-3",children:[a(o.startContent,{className:"flex-wrap mb-3 lg:mb-0"}),a(o.endContent,{className:"flex-wrap",children:a(T,{href:route("bonpanjer.bon_panjer"),title:"Halaman Utama"})})]})}),s("form",{onSubmit:S,className:"mb-2 max-w-lg mx-auto",children:[s("div",{className:"w-full",children:[s("div",{className:"mb-2",children:[a(r,{value:"Wilayah",className:"mb-1"}),a(i,{onChange:_,options:x,nullValue:!0,className:"w-full"})]}),d&&s("div",{className:"mb-2",children:[a(r,{value:"Unit",className:"mb-1"}),a(i,{onChange:I,nullValue:!0,options:d,className:"w-full"})]}),b&&s("div",{className:"mb-2",children:[a(r,{value:"Nama Karawan",className:"mb-1"}),a(i,{onChange:h,name:"employee_id",nullValue:!0,options:b,className:"w-full"}),a(y,{message:p.employee_id,className:"mt-2"})]})]}),s("div",{className:"mb-2",children:[a(r,{value:"Tanggal Bon",className:"mb-1"}),a(V,{name:"transaction_date",type:"date",className:"w-full",onChange:h,required:!0})]}),s("div",{className:"mb-2",children:[a(r,{value:"Nominal Bon",className:"mb-1"}),a(D,{name:"besar_pinjaman",id:"besar_pinjaman",className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block text-sm mt-2 w-full",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:B,value:v.besar_pinjaman,placeholder:"Inputkan angka tanpa sparator"}),a(y,{message:p.besar_pinjaman,className:"mt-2"})]}),a("div",{className:"flex justify-end",children:a(U,{type:"submit",title:"submit"})})]})]})})};export{J as default};

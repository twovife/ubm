import{r,j as t,F as c,a as e,n as N,g as b}from"./app-100f7ec7.js";import{I as y}from"./InputLabel-ed0e72be.js";import{L as f}from"./LinkButton-946f93bf.js";import{L as g}from"./Loading-52c760ae.js";import{P as k}from"./PrimaryButton-92f5ba1b.js";import{T as v}from"./TextInput-fab15c6a.js";import{A as w}from"./AuthenticatedLayout-8acc6ab1.js";import{a as j}from"./index.esm-167bf4cd.js";import P from"./ModalCreateNewCustomer-68ccfe6e.js";import C from"./ModalCreateOldCustomer-ed865c6c.js";import"./transition-bcf47aff.js";import"./index.esm-e9bfe840.js";import"./iconBase-65d90880.js";import"./index.esm-12fb61aa.js";import"./Checkbox-cf30997d.js";import"./InputError-18af35e6.js";import"./SelectList-28c77463.js";const G=({customer:h,...l})=>{console.log(l);const[s,K]=r.useState(h),[o,m]=r.useState(!1),[i,p]=r.useState(l.keyword??""),d=l.employees.map(a=>({id:a.id,value:a.id,display:`${a.nama_karyawan} - ${a.jabatan} ${a.area}`})),u=a=>{p(a.target.value)},x=a=>{a.preventDefault(),b.get(route("unit.pinjaman.create"),{nik:i},{onBefore:()=>m(!0),onFinish:()=>m(!1)})};return t(w,{auth:l.auth,errors:l.errors,header:t(c,{children:[e("h2",{className:"font-semibold text-xl text-main-800 leading-tight",children:"Buat Pinjaman Baru"}),e("div",{className:"ml-auto flex items-center",children:e(f,{icon:e(j,{}),size:"md",title:"Kembali",type:"a",href:route("unit.pinjaman.request.requestPinjaman")})})]}),children:[e(g,{show:o}),e(N,{title:"Data Pinjaman"}),e("div",{className:"py-3",children:e("div",{className:"mx-auto sm:px-6 lg:px-8",children:e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e("div",{className:"border p-6 text-main-800",children:t("div",{className:"flex gap-6",children:[t("div",{className:"flex-1",children:[t("form",{onSubmit:x,className:"max-w-md mb-3",children:[e(y,{value:"Masukkan Nomor KTP"}),t("div",{className:"flex items-baseline gap-3",children:[e(v,{className:"mt-1 block w-full",name:"cek_ktp",value:i,onChange:u,id:"cek_ktp"}),e(k,{size:"sm",className:"whitespace-nowrap",title:"Cek KTP",type:"submit"})]})]}),s&&t(c,{children:[t("div",{className:"mb-6",children:[e("h1",{className:"text-lg font-semibold",children:"Data Customer"}),t("div",{className:"flex w-full justify-between max-w-md border-b border-black/40 mb-2",children:[e("div",{children:"NIK"}),e("div",{children:s.nik})]}),t("div",{className:"flex w-full justify-between max-w-md border-b border-black/40 mb-2",children:[e("div",{children:"Nomor KK"}),e("div",{children:s.no_kk})]}),t("div",{className:"flex w-full justify-between max-w-md border-b border-black/40 mb-2",children:[e("div",{children:"Nama"}),e("div",{children:s.nama})]})]}),l.request.length!==0&&t("div",{className:"mb-6",children:[e("h1",{className:"text-lg font-semibold mb-3",children:"Request Berjalan"}),t("table",{className:"w-full text-sm text-left text-main-500 dark:text-main-400",children:[e("thead",{className:"text-xs text-main-700 uppercase bg-main-100 dark:bg-gray-700 dark:text-main-400",children:t("tr",{children:[e("th",{className:"px-6 py-3",children:"NIK"}),e("th",{className:"px-6 py-3",children:"Nama Customer"}),e("th",{className:"px-6 py-3",children:"Tanggal Permintaan Drop"}),e("th",{className:"px-6 py-3",children:"Hari"}),e("th",{className:"px-6 py-3",children:"Unit Pemberi Pinjaman"}),e("th",{className:"px-6 py-3",children:"Status"})]})}),e("tbody",{children:l.request.map((a,n)=>t("tr",{children:[e("td",{className:"px-6 py-4",children:a.customer.nik}),e("td",{className:"px-6 py-4",children:a.customer.nama}),e("td",{className:"px-6 py-4",children:a.tanggal_drop}),e("td",{className:"px-6 py-4",children:a.hari}),e("td",{className:"px-6 py-4",children:a.branch.unit}),e("td",{className:"px-6 py-4",children:a.status})]},n))})]})]}),l.pinjaman.length!==0?t("div",{className:"mb-6",children:[e("h1",{className:"text-lg font-semibold mb-3",children:"History Pinjaman"}),t("table",{className:"w-full text-sm text-left text-main-500 dark:text-main-400",children:[e("thead",{className:"text-xs text-main-700 uppercase bg-main-100 dark:bg-gray-700 dark:text-main-400",children:t("tr",{children:[e("th",{className:"px-6 py-3",children:"NIK"}),e("th",{className:"px-6 py-3",children:"Nama Customer"}),e("th",{className:"px-6 py-3",children:"Tanggal Permintaan Drop"}),e("th",{className:"px-6 py-3",children:"Hari"}),e("th",{className:"px-6 py-3",children:"Unit Pemberi Pinjaman"}),e("th",{className:"px-6 py-3",children:"Status"}),e("th",{className:"px-6 py-3",children:"Keterangan"})]})}),e("tbody",{children:l.pinjaman.map((a,n)=>t("tr",{children:[e("td",{className:"px-6 py-4",children:a.customer.nik}),e("td",{className:"px-6 py-4",children:a.customer.nama}),e("td",{className:"px-6 py-4",children:a.tanggal_drop}),e("td",{className:"px-6 py-4",children:a.hari}),e("td",{className:"px-6 py-4",children:a.branch.unit}),e("td",{className:"px-6 py-4 uppercase",children:a.status}),e("td",{className:"px-6 py-4 uppercase",children:a.saldo==0?"Lunas":"Belum Lunas"})]},n))})]})]}):e("div",{className:"text-lg font-semibold",children:"Customer Belum Pernah Melakukan Pinjaman"})]}),l.keyword&&!s&&e("div",{className:"text-xl",children:"Data Customer Tidak Ditemukan"})]}),l.keyword&&!s&&e("div",{className:"flex-1",children:e(P,{nik:i,auth:l.auth,employees:d})}),s&&e("div",{className:"flex-1",children:e(C,{nik:i,auth:l.auth,employees:d})})]})})})})})]})};export{G as default};

import{r,j as t,F as d,a as e,n as N,g as b}from"./app-c0f178b1.js";import{I as y}from"./InputLabel-41034c23.js";import{L as f}from"./LinkButton-6dcd0fcf.js";import{L as k}from"./Loading-120ec70c.js";import{P as g}from"./PrimaryButton-feca37e1.js";import{T as v}from"./TextInput-433d15d0.js";import{A as w}from"./AuthenticatedLayout-e2a13c4c.js";import{c as j}from"./index.esm-190e2a54.js";import P from"./ModalCreateNewCustomer-6c11597f.js";import C from"./ModalCreateOldCustomer-6b8975ce.js";import{f as K}from"./index.esm-bb725f2c.js";import"./transition-53e05b05.js";import"./index.esm-33461494.js";import"./iconBase-1c2ad925.js";import"./Checkbox-32515570.js";import"./InputError-fb935f2c.js";import"./SelectList-5a8f33a2.js";import"./index.esm-30c4b5e8.js";const Q=({customer:o,...s})=>{const[l,B]=r.useState(o),[h,m]=r.useState(!1),[i,p]=r.useState(s.keyword??""),c=s.employees.map(a=>({id:a.id,value:a.id,display:`${a.nama_karyawan} - ${a.jabatan} ${a.area}`})),u=a=>{p(a.target.value)},x=a=>{a.preventDefault(),b.get(route("unit.pinjaman.create"),{nik:i},{onBefore:()=>m(!0),onFinish:()=>m(!1)})};return t(w,{auth:s.auth,errors:s.errors,header:t(d,{children:[e("h2",{className:"font-semibold text-xl text-main-800 leading-tight",children:"Buat Pinjaman Baru"}),e("div",{className:"ml-auto flex items-center",children:e(f,{icon:e(j,{}),size:"md",title:"Kembali",type:"a",href:route("unit.pinjaman.request.requestPinjaman")})})]}),children:[e(k,{show:h}),e(N,{title:"Data Pinjaman"}),e("div",{className:"py-3",children:e("div",{className:"mx-auto sm:px-6 lg:px-8",children:e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e("div",{className:"border p-6 text-main-800",children:t("div",{className:"flex gap-6",children:[t("div",{className:"flex-1",children:[t("form",{onSubmit:x,className:"max-w-md mb-3",children:[e(y,{value:"Masukkan Nomor KTP"}),t("div",{className:"flex items-baseline gap-3",children:[e(v,{className:"mt-1 block w-full",name:"cek_ktp",value:i,onChange:u,id:"cek_ktp"}),e(g,{size:"sm",className:"whitespace-nowrap",title:"Cek KTP",type:"submit"})]})]}),l&&t(d,{children:[t("div",{className:"mb-6",children:[e("h1",{className:"text-lg font-semibold",children:"Data Customer"}),t("div",{className:"flex w-full justify-between max-w-md border-b border-black/40 mb-2",children:[e("div",{children:"NIK"}),e("div",{children:l.nik})]}),t("div",{className:"flex w-full justify-between max-w-md border-b border-black/40 mb-2",children:[e("div",{children:"Nomor KK"}),l.no_kk?t("a",{className:"text-blue-500 font-black underline decoration-dotted flex items-center",href:route("unit.customer.historyNasabahByKK",l.no_kk),target:"_blank",children:[e(K,{className:"mr-2"}),e("span",{children:l.no_kk})]}):e("span",{children:"Not Found"})]}),t("div",{className:"flex w-full justify-between max-w-md border-b border-black/40 mb-2",children:[e("div",{children:"Nama"}),e("div",{children:l.nama})]})]}),s.request.length!==0&&t("div",{className:"mb-6",children:[e("h1",{className:"text-lg font-semibold mb-3",children:"Request Berjalan"}),t("table",{className:"w-full text-sm text-left text-main-500 dark:text-main-400",children:[e("thead",{className:"text-xs text-main-700 uppercase bg-main-100 dark:bg-gray-700 dark:text-main-400",children:t("tr",{children:[e("th",{className:"px-6 py-3",children:"NIK"}),e("th",{className:"px-6 py-3",children:"Nama Customer"}),e("th",{className:"px-6 py-3",children:"Tanggal Permintaan Drop"}),e("th",{className:"px-6 py-3",children:"Hari"}),e("th",{className:"px-6 py-3",children:"Unit Pemberi Pinjaman"}),e("th",{className:"px-6 py-3",children:"Status"})]})}),e("tbody",{children:s.request.map((a,n)=>t("tr",{children:[e("td",{className:"px-6 py-4",children:a.customer.nik}),e("td",{className:"px-6 py-4",children:a.customer.nama}),e("td",{className:"px-6 py-4",children:a.tanggal_drop}),e("td",{className:"px-6 py-4",children:a.hari}),e("td",{className:"px-6 py-4",children:a.branch.unit}),e("td",{className:"px-6 py-4",children:a.status})]},n))})]})]}),s.pinjaman.length!==0?t("div",{className:"mb-6",children:[e("h1",{className:"text-lg font-semibold mb-3",children:"History Pinjaman"}),t("table",{className:"w-full text-sm text-main-500 dark:text-main-400 text-center",children:[e("thead",{className:"text-xs text-main-700 uppercase bg-main-100 dark:bg-gray-700 dark:text-main-400",children:t("tr",{children:[e("th",{className:"px-6 py-3",children:"NIK"}),e("th",{className:"px-6 py-3",children:"Nama Customer"}),e("th",{className:"px-6 py-3",children:"Tanggal Permintaan Drop"}),e("th",{className:"px-6 py-3",children:"Hari"}),e("th",{className:"px-6 py-3",children:"Unit Pemberi Pinjaman"}),e("th",{className:"px-6 py-3",children:"Status"}),e("th",{className:"px-6 py-3",children:"Keterangan"})]})}),e("tbody",{children:s.pinjaman.map((a,n)=>t("tr",{children:[e("td",{className:"px-6 py-4",children:a.customer.nik}),e("td",{className:"px-6 py-4",children:a.customer.nama}),e("td",{className:"px-6 py-4",children:a.tanggal_drop}),e("td",{className:"px-6 py-4",children:a.hari}),e("td",{className:"px-6 py-4",children:a.branch.unit}),e("td",{className:`px-6 py-4 uppercase font-black ${a.status=="normal"?"text-green-500":a.status=="cm"?"text-orange-100":a.status=="mb"?"text-red-500":a.status=="ml"?"text-white bg-red-500":""}`,children:a.status}),e("td",{className:"px-6 py-4 uppercase",children:a.lunas})]},n))})]})]}):e("div",{className:"text-lg font-semibold",children:"Customer Belum Pernah Melakukan Pinjaman"})]}),s.keyword&&!l&&e("div",{className:"text-xl",children:"Data Customer Tidak Ditemukan"})]}),s.keyword&&!l&&e("div",{className:"flex-1",children:e(P,{nik:i,auth:s.auth,employees:c})}),l&&e("div",{className:"flex-1",children:e(C,{nik:i,auth:s.auth,employees:c})})]})})})})})]})};export{Q as default};

import{_ as A,r as w,a,j as t,F as D}from"./app-577095aa.js";import{I as i}from"./InputError-2e7ccf90.js";import{I as n}from"./InputLabel-324b8a32.js";import{L as E}from"./LinkButton-c41e9ed7.js";import{P as L}from"./PrimaryButton-e87527a9.js";import{S as c}from"./SelectList-2f891eca.js";import{T}from"./TextInput-f601cbff.js";import{A as U}from"./AuthenticatedLayout-9a50dbde.js";import{C as y}from"./index.esm-c639fe91.js";import"./Card-298928cd.js";import"./index.esm-40d2e5fe.js";import"./iconBase-0c341566.js";import"./index.esm-b887299b.js";import"./transition-89244925.js";import"./index.esm-0a08b294.js";import"./index.esm-6cd27bff.js";import"./Loading-c8b73d4d.js";const aa=({branch:u,employees:x,...d})=>{const{data:p,setData:b,post:_,processing:k,errors:m}=A({employee_id:"",sw_balance:0,sk_balance:0,tgl_tabugan:""}),[h,S]=w.useState(),[g,f]=w.useState(),C=Object.values(u.reduce((e,l)=>{const s=l.wilayah;return e[s]={id:s,value:s,display:`wilayah ${s}`},e},{})),I=e=>{const{value:l}=e.target,s=u.filter(r=>r.wilayah==l).map(({id:r,unit:o})=>({id:r,display:o,value:r}));S(s),f(null)},j=e=>{const{value:l}=e.target,s=x.filter(r=>r.branch_id==l).map(({id:r,nama_karyawan:o,jabatan:V})=>({id:r,display:`${o} - ${V}`,value:r}));f(s)},v=e=>{const{value:l,name:s}=e.target;b(s,l)},N=(e,l)=>{b(l,e)},q=e=>{e.preventDefault(),_(route("sksw.store"))};return a(U,{loading:k,auth:d.auth,errors:d.errors,header:t(D,{children:[a("h2",{className:"font-semibold text-xl text-main-800 leading-tight",children:"Tambah Baru Simpanan Sukarela"}),a("div",{className:"ml-auto flex items-center",children:a(E,{href:route("simpanan.index"),title:"Halaman Utama"})})]}),children:a("div",{className:"mx-auto sm:px-6 lg:px-8",children:a("div",{className:"p-3 bg-white rounded shadow",children:t("form",{onSubmit:q,className:"lg:grid lg:grid-cols-2 gap-3",children:[t("div",{className:"col-span-1 w-full",children:[t("div",{className:"mb-2",children:[a(n,{value:"Wilayah",className:"mb-1"}),a(c,{onChange:I,options:C,nullValue:!0,required:!0})]}),h&&t("div",{className:"mb-2",children:[a(n,{value:"Unit",className:"mb-1"}),a(c,{onChange:j,nullValue:!0,options:h,required:!0})]}),g&&t("div",{className:"mb-2",children:[a(n,{value:"Nama Karawan",className:"mb-1"}),a(c,{onChange:v,name:"employee_id",nullValue:!0,options:g,className:"w-full",required:!0}),a(i,{message:m.employee_id,className:"mt-2"})]})]}),t("div",{className:"col-span-1 w-full",children:[t("div",{className:"mb-2",children:[a(n,{value:"Tanggal Setor",className:"mb-1"}),a(T,{type:"month",onChange:v,name:"tgl_tabugan",required:!0}),a(i,{message:m.tgl_tabugan,className:"mt-2"})]}),t("div",{className:"mb-2",children:[a(n,{value:"Setor Awal Simpanan Wajib",className:"mb-1"}),a(y,{name:"sw_balance",id:"sw_balance",className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-sm mt-2",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:N,value:p.sw_balance,placeholder:"Inputkan angka tanpa sparator"}),a(i,{message:m.sw_balance,className:"mt-2"})]}),t("div",{className:"mb-2",children:[a(n,{value:"Setor Awal Simpanan Sukarela",className:"mb-1"}),a(y,{name:"sk_balance",id:"sk_balance",className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-sm mt-2",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:N,value:p.sk_balance,placeholder:"Inputkan angka tanpa sparator"}),a(i,{message:m.sk_balance,className:"mt-2"})]}),a("div",{className:"mb-2 flex items-end justify-end",children:a(L,{type:"submit",title:"Submit"})})]})]})})})})};export{aa as default};

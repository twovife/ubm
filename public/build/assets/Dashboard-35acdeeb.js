import{r as l,j as a,a as i,R}from"./app-df871abb.js";import{C as n}from"./Navbar-88a283a0.js";import"./DefaultTable-0fb01719.js";import{P as _}from"./PrimaryButton-2e9f3eea.js";import{S as j}from"./Search-4a1b8990.js";import{A as F}from"./AuthenticatedLayout-ddac043c.js";import{d as H}from"./dayjs.min-c46c4501.js";import O from"./Outcome-54b0281a.js";import{u as B,T as A,a as L,b as p,c as y,f as c,d as E,e as G,g as I,h as J}from"./table-79fd49b5.js";import{F as o}from"./FormatNumbering-e591f225.js";import{F as P}from"./index.esm-6eb99c1e.js";import{D as Y}from"./DeleteDialogContent-7aedb4b1.js";import"./iconBase-6f294e2e.js";import"./transition-0c33212e.js";import"./index.esm-a32ba1d8.js";import"./SelectList-d2279005.js";import"./useServerFilter-a6266122.js";import"./TextInput-6df0972b.js";import"./ButtonWrapper-424887ee.js";import"./Loading-0b0ba1ff.js";import"./InputError-27d9f13a.js";import"./InputLabel-506b9b72.js";import"./dialog-6183c01a.js";import"./index-ca27c7cc.js";import"./utils-01642ffa.js";import"./index.esm-67de2cc5.js";import"./react-number-format.es-cf93bc84.js";import"./Checkbox-51c48c3f.js";const Te=({server_filter:z,datas:d,saldo_akhir:w,...U})=>{const[g,x]=l.useState(!1),[h,D]=l.useState(()=>d);l.useEffect(()=>{D(d)},[d]);const m=(e=>e.reduce((r,t)=>(r.saldo+=t.saldo||0,r.debit+=t.debit||0,r.kredit+=t.kredit||0,r.bop+=t.bop||0,r),{saldo:0,debit:0,kredit:0,bop:0}))(h),N=l.useMemo(()=>[{accessorKey:"deletable",id:"deletable",type:"action",cell:e=>e.getValue(),header:()=>"Action"},{accessorKey:"transaction_date",id:"transaction_date",cell:e=>a("div",{className:"text-center",children:H(e.getValue()).format("DD-MM-YY")}),header:()=>"Tanggal"},{accessorKey:"type_transaksi",id:"type_transaksi",cell:e=>e.getValue(),header:()=>"Keterangan"},{accessorKey:"wilayah",id:"wilayah",cell:e=>e.getValue(),header:()=>"Wilayah"},{accessorKey:"unit",id:"unit",cell:e=>e.getValue(),header:()=>"Unit"},{accessorKey:"nama_karyawan",id:"nama_karyawan",cell:e=>e.getValue(),header:()=>"Nama Karyawan"},{accessorKey:"bop",id:"bop",className:"bg-green-100",cell:e=>a(o,{value:e.getValue()}),header:()=>"TB 1JT",footer:e=>a(o,{value:m.bop})},{accessorKey:"debit",id:"debit",className:"bg-green-200",cell:e=>a(o,{value:e.getValue()}),header:()=>"Debit",footer:e=>a(o,{value:m.debit})},{accessorKey:"kredit",id:"kredit",className:"bg-red-100",cell:e=>a(o,{value:e.getValue()}),header:()=>"Kredit",footer:e=>a(o,{value:m.kredit})},{accessorKey:"saldo",id:"saldo",className:"bg-blue-100",cell:e=>a(o,{value:e.getValue()}),header:()=>"Saldo",footer:e=>a(o,{value:w})}],[]),s=B({data:h,columns:N,getCoreRowModel:J()}),[T,b]=l.useState(!1),k=e=>{b(!0)},C=e=>{b(!1)},[v,f]=l.useState(!1),[K,M]=l.useState(""),V=e=>{f(!0),M(route("unitsaving.delete_mutasi",e))},S=e=>{f(!1)};return i(F,{loading:g,children:[a(O,{open:T,onClosed:C}),i(n,{judul:"Buku Transaksi 1JT",children:[a(n.subTitle,{children:i("div",{className:"flex lg:flex-row flex-col lg:justify-between items-center gap-3",children:[a(n.startContent,{className:"flex-wrap mb-3 lg:mb-0"}),a(n.endContent,{className:"flex-wrap",children:a(j,{loading:g,setLoading:x,urlLink:route("unitsaving.dashboard"),localState:"1juta_transaksi",availableMonth:!0,children:a(_,{onClick:k,title:'Lain"',size:"sm",type:"button",className:"block whitespace-nowrap",theme:"primary"})})})]})}),i(A,{className:"border",children:[a(L,{children:s.getHeaderGroups().map((e,r)=>a(p,{children:e.headers.map((t,u)=>a(y,{className:"text-center",children:c(t.column.columnDef.header,t.getContext())},u))},r))}),a(E,{children:s.getRowModel().rows.length?s.getRowModel().rows.map((e,r)=>a(R.Fragment,{children:a(p,{className:"text-center",children:e.getVisibleCells().map((t,u)=>a(G,{className:t.column.columnDef.className,children:t.column.columnDef.type=="action"?a("div",{className:"flex items-center justify-center",children:a("div",{children:c(t.row.original.deletable)=="true"?a("button",{className:"bg-red-500 text-white rounded p-2",onClick:()=>V(t.row.original.id),children:a(P,{})}):""})}):c(t.column.columnDef.cell,t.getContext())},u))},r)},r)):null}),a(I,{children:s.getFooterGroups().map((e,r)=>a(p,{children:e.headers.map(t=>a(y,{className:"text-center bg-gray-100 text-black",children:c(t.column.columnDef.footer,t.getContext())},t.id))},r))})]}),a(Y,{open:v,onClosed:S,url:K})]})]})};export{Te as default};

import{q as y,r as n,j as a,a as N,R as C}from"./app-4f05f94d.js";import{u as M,T as R,a as E,b as d,c as K,f as i,d as j,e as m,h as v}from"./table-2becad6f.js";import{d as f}from"./dayjs.min-65dd6782.js";import V from"./Edit-11d05ab9.js";import"./utils-01642ffa.js";import"./dialog-93e7ef9b.js";import"./index-8a197248.js";import"./InputLabel-64407202.js";import"./TextInput-a0b3ec1e.js";import"./index.esm-7f00a46f.js";import"./InputError-57bfbd48.js";import"./PrimaryButton-98ce0df1.js";import"./Loading-f0e3f8f8.js";import"./transition-cc305502.js";import"./SelectList-e6bf5ee2.js";import"./useServerFilter-43a566ce.js";const U=({branchShow:u,typeShow:p})=>{const{datas:l}=y().props,[b,D]=n.useState([]);n.useEffect(()=>{var t,s;const o=((s=(t=l.filter(r=>r.branch_id==u))==null?void 0:t[0])==null?void 0:s.datas).filter(r=>p=="active"?r.is_active===1:r.is_active!==1);D(o)},[l,p,u]);const[w,g]=n.useState(!1),[_,h]=n.useState(),T=e=>{g(!0),h(e)},k=e=>{g(!1),h()},x=n.useMemo(()=>[{accessorKey:"asset_name",id:"asset_name",type:"button",cell:e=>e.getValue(),header:()=>"Nama Aset"},{accessorKey:"plat_nomor",id:"plat_nomor",cell:e=>e.getValue(),header:()=>"Plat Nomor"},{accessorKey:"nama_stnk",id:"nama_stnk",cell:e=>e.getValue(),header:()=>"Atas Nama"},{accessorKey:"tanggal_stnk",id:"tanggal_stnk",cell:e=>a("div",{className:"whitespace-nowrap",children:f(e.getValue()).format("DD-MM-YY")}),header:()=>"Tanggal STNK"},{accessorKey:"tanggal_pajak_tahunan",id:"tanggal_pajak_tahunan",cell:e=>a("div",{className:"whitespace-nowrap",children:f(e.getValue()).format("DD-MM-YY")}),header:()=>"Pajak Tahunan"},{accessorKey:"keterangan",id:"keterangan",cell:e=>e.getValue(),header:()=>"Keterangan"}],[l]),c=M({data:b,columns:x,getCoreRowModel:v(),debugTable:!0,debugHeaders:!0,debugColumns:!1});return N(R,{children:[a(E,{children:c.getHeaderGroups().map(e=>a(d,{children:e.headers.map(o=>a(K,{className:"text-center bg-gray-100 whitespace-nowrap",children:i(o.column.columnDef.header,o.getContext())},o.id))},e.id))}),a(j,{children:c.getRowModel().rows.length?c.getRowModel().rows.map((e,o)=>a(C.Fragment,{children:a(d,{id:e.id,children:e.getVisibleCells().map((t,s)=>t.column.columnDef.type=="button"?a(m,{className:`${t.column.columnDef.className} w-1/6`,children:a("button",{className:"px-2 py-1 rounded-md border border-roman-500 hover:bg-roman-500 hover:text-white focus:bg-roman-600 focus:text-white",onClick:()=>T(t.row.original),children:i(t.column.columnDef.cell,t.getContext())})},s):a(m,{className:`${t.column.columnDef.className} w-1/6`,children:i(t.column.columnDef.cell,t.getContext())},s))},e.id)},e.id)):a(d,{children:a(m,{colSpan:"3",children:"Tidak Ada Data Ditemukan"})})}),a(V,{open:w,onClosed:k,dataDetail:_})]})};export{U as default};

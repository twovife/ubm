import{q as N,r as s,j as a,a as b,F as j,R}from"./app-02daae82.js";import{u as T,T as k,a as v,b as c,c as H,f as n,d as K,e as m,h as M,i as V}from"./table-ece589a0.js";import{d as F}from"./dayjs.min-ef1ffec7.js";import"./dialog-902129b6.js";import"./TextInput-0be98de0.js";import"./index.esm-4764c0db.js";import"./Loading-5377d93d.js";import E from"./HerPayment-caf92955.js";import"./utils-01642ffa.js";import"./transition-de6f9320.js";import"./PrimaryButton-766ea5f3.js";import"./Checkbox-103ee50d.js";const W=({branchShow:r})=>{console.log(r);const{datas:i}=N().props,[u,y]=s.useState([]);console.log(u),s.useEffect(()=>{var o,t;const e=(t=(o=i.filter(l=>l.id==r))==null?void 0:o[0])==null?void 0:t.datas;y(e)},[i,r]);const[w,g]=s.useState(!1),[x,h]=s.useState(),_=e=>{console.log(e),g(!0),h(e)},C=e=>{g(!1),h()},D=s.useMemo(()=>[{accessorKey:"wilayah",id:"wilayah",cell:e=>e.getValue(),header:()=>"Wilayah"},{accessorKey:"branch",id:"branch",cell:e=>e.getValue(),header:()=>"Unit"},{accessorKey:"asset_name",id:"asset_name",type:"button",cell:e=>e.getValue(),header:()=>"Nama Aset"},{accessorKey:"plat_nomor",id:"plat_nomor",cell:e=>e.getValue(),header:()=>"Plat Nomor"},{accessorKey:"tanggal_pajak_tahunan",id:"tanggal_pajak_tahunan",cell:e=>a("div",{className:"whitespace-nowrap",children:F(e.getValue()).format("DD-MM-YYYY")}),header:()=>"Tanggal Pajak"},{accessorKey:"jenis_pajak",id:"jenis_pajak",cell:e=>e.getValue(),header:()=>"Jenis Pajak"},{accessorKey:"nama_stnk",id:"nama_stnk",cell:e=>e.getValue(),header:()=>"Atas Nama"},{accessorKey:"is_finish",id:"is_finish",cell:e=>a("div",{children:e.getValue()==1?"Sudah Di HER":"Belum"}),header:()=>"Keterangan"}],[i]),[p,f]=s.useState(""),d=T({data:u,columns:D,state:{globalFilter:p},onGlobalFilterChange:f,getCoreRowModel:M(),getFilteredRowModel:V(),debugTable:!0,debugHeaders:!0,debugColumns:!1});return b(j,{children:[a("div",{className:"flex mb-2",children:a("input",{className:"px-3 py-2 rounded border focus:ring-0 focus:outline-none focus:border-roman-500 shadow",placeholder:"Cari...",value:p,onChange:e=>f(e.target.value)})}),b(k,{className:" lg:text-sm text-xs",children:[a(v,{children:d.getHeaderGroups().map(e=>a(c,{children:e.headers.map(o=>a(H,{className:"text-center bg-gray-50 whitespace-nowrap",children:n(o.column.columnDef.header,o.getContext())},o.id))},e.id))}),a(K,{children:d.getRowModel().rows.length?d.getRowModel().rows.map((e,o)=>a(R.Fragment,{children:a(c,{className:`${e.original.is_finish==1?"bg-green-200 hover:bg-green-100 border border-white":""} `,id:e.id,children:e.getVisibleCells().map((t,l)=>t.column.columnDef.type=="button"?a(m,{className:`${t.column.columnDef.className} w-1/6`,children:e.original.is_finish==1?a("div",{children:n(t.column.columnDef.cell,t.getContext())}):a("button",{className:"px-2 py-1 rounded-md border border-roman-500 hover:bg-roman-500 hover:text-white focus:bg-roman-600 focus:text-white",onClick:()=>_(t.row.original.id),children:n(t.column.columnDef.cell,t.getContext())})},l):a(m,{className:`${t.column.columnDef.className} w-1/8`,children:n(t.column.columnDef.cell,t.getContext())},l))},e.id)},e.id)):a(c,{children:a(m,{colSpan:"3",children:"Tidak Ada Data Ditemukan"})})}),a(E,{open:w,onClosed:C,triggeredId:x})]})]})};export{W as default};

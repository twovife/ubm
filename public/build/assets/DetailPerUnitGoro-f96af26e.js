import{q as x,r as l,j as a,a as y,R as D,c as d}from"./app-ce9e4313.js";import{F as m}from"./FormatNumbering-03bf05a0.js";import{u as N,T as R,a as C,b as r,c as M,f as u,d as A,e as c,h as S}from"./table-6b0324a5.js";import{d as w}from"./dayjs.min-1259229d.js";import"./react-number-format.es-748b8ab3.js";import"./utils-01642ffa.js";const j=({triggerId:o})=>{const{server_filter:g,datas:b}=x().props,[h,p]=l.useState([]),[f,i]=l.useState(!0);l.useState();const T=l.useMemo(()=>[{accessorKey:"transaction_date",id:"transaction_date",cell:e=>a("div",{className:"text-center",children:e.getValue()&&w(e.getValue()).format("DD-MM-YYYY")}),header:()=>"Tanggal Transaksi"},{accessorKey:"nominal",id:"nominal",cell:e=>a(m,{value:e.getValue()}),header:()=>"Nominal Bayar"},{accessorKey:"total_pembayaran",id:"total_pembayaran",cell:e=>a(m,{value:e.getValue()}),header:()=>"Total Goro"}],[]);l.useEffect(()=>{if(o===null)return;const e=new AbortController;return(async()=>{try{const t=await d.get(route("goroumrah.requestUnitTransaction"),{params:{branch_id:o,bulan:g.bulan},signal:e.signal});p(t.data.data)}catch(t){d.isCancel(t)?console.log("Request canceled:",t.message):(setError(t),i(!1))}finally{i(!1)}})(),()=>{e.abort()}},[o,b]);const n=N({data:h,columns:T,getCoreRowModel:S(),debugTable:!0,debugHeaders:!0,debugColumns:!1});return a("div",{className:"px-3 py-6 bg-gray-50",children:y(R,{className:"text-xs lg:text-sm ",children:[a(C,{children:n.getHeaderGroups().map(e=>a(r,{children:e.headers.map(s=>a(M,{className:"text-center",children:u(s.column.columnDef.header,s.getContext())},s.id))},e.id))}),a(A,{children:f?a(r,{children:a(c,{colSpan:"3",children:"SILAHKAN TUNGGU DATA MASIH DIMUAT"})}):n.getRowModel().rows.length?n.getRowModel().rows.map((e,s)=>a(D.Fragment,{children:a(r,{id:e.id,children:e.getVisibleCells().map(t=>a(c,{className:t.column.columnDef.className,children:u(t.column.columnDef.cell,t.getContext())},t.id))},e.id)},e.id)):a(r,{children:a(c,{colSpan:"3",children:"Belum Ada Data Pembayaran Goro Umrah"})})})]})})};export{j as default};

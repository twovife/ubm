import{_ as O,r as G,j as a,a as l,F as h}from"./app-dcbf27c0.js";import{I as d}from"./InputError-e74ddbe2.js";import{I as i}from"./InputLabel-54992d6a.js";import{L as $}from"./LinkButton-e6fd77f8.js";import{P as z}from"./PrimaryButton-14f67ceb.js";import{S as g}from"./SelectList-90e36724.js";import{T as o}from"./TextInput-19b104ba.js";import{A as M}from"./AuthenticatedLayout-54ae2e81.js";import Q from"./PindahUnit-4f461b8b.js";import"./Navbar-0ec8e19d.js";import"./index.esm-dd8f9274.js";import"./iconBase-0f6f22b9.js";import"./transition-d3149520.js";import"./index.esm-ff6881d6.js";import"./Loading-474e243f.js";const ua=({aset:e,branch:b,employees:R,title:S,..._})=>{var v,x,f,y,k,w,C,j,q,A,P,T,I,K;const{data:m,setData:u,put:U,processing:D,errors:c}=O({nama_aset:e.nama_aset??null,type_aset:e.type_aset??null,status_kepemilikan:e.status_kepemilikan??null,isactive:"active",tanggal_pembelian:e.tanggal_pembelian??null,detail_aset:((v=e==null?void 0:e.vehicle_detail)==null?void 0:v.detail_aset)??null,plat_nomor:((x=e==null?void 0:e.vehicle_detail)==null?void 0:x.plat_nomor)??null,nama_stnk:((f=e==null?void 0:e.vehicle_detail)==null?void 0:f.nama_stnk)??null,tanggal_stnk:((y=e==null?void 0:e.vehicle_detail)==null?void 0:y.tanggal_stnk)??null,tax_expired:((w=(k=e==null?void 0:e.vehicle_detail)==null?void 0:k.tax)==null?void 0:w.tax_expired)??null,tax_id:((j=(C=e==null?void 0:e.vehicle_detail)==null?void 0:C.tax)==null?void 0:j.id)??null,jabatan:((q=e==null?void 0:e.aset_placement)==null?void 0:q.pengguna)??null,area:0,branch_id:((A=e==null?void 0:e.aset_placement)==null?void 0:A.branch_id)??null,aset_placement_id:((P=e==null?void 0:e.aset_placement)==null?void 0:P.id)??null});console.log(m);const[N,L]=G.useState(),V=Object.values(b.reduce((n,s)=>{const t=s.wilayah;return n[t]={id:t,value:t,display:`wilayah ${t}`},n},{})),E=S.map(n=>({id:n.id,value:n.title,display:n.title})),F=n=>{const{value:s}=n.target,t=b.filter(p=>p.wilayah==s).map(({id:p,unit:B})=>({id:p,display:B,value:p}));console.log(t),L(t)},H=n=>{const{value:s,name:t}=n.target;u(t,s)},r=n=>{const{value:s,name:t}=n.target;u(t,s)},J=n=>{const{value:s,name:t}=n.target;s==="kendaraan"?u(t,s):u({...m,[t]:s,detail_aset:"",plat_nomor:"",nama_stnk:"",tanggal_stnk:"",tax_expired:""})},W=n=>{n.preventDefault(),U(route("aset.edit",e.id))};return a(M,{loading:D,auth:_.auth,errors:_.errors,header:l(h,{children:[a("h2",{className:"font-semibold text-xl text-main-800 leading-tight",children:"Detail Kendaraan"}),a("div",{className:"ml-auto flex items-center",children:a($,{href:route("simpanan.index"),title:"Halaman Utama"})})]}),children:a("div",{className:"mx-auto sm:px-6 lg:px-8 mb-3",children:l("div",{className:"p-3 bg-white rounded shadow lg:flex gap-3",children:[l("form",{onSubmit:W,className:"lg:flex flex-[2] gap-3",children:[l("div",{className:"flex-1 w-full mb-3",children:[a("div",{className:"mb-1 font-semibold text-gray-500",children:"Ganti Detail"}),l("div",{className:"mb-2",children:[a(i,{value:"Type Aset",className:"mb-1"}),a(g,{name:"type_aset",onChange:J,className:"block w-full lg:w-2/3",value:m.type_aset,options:[{id:1,value:"kendaraan",display:"Kendaraan"}],required:!0,nullValue:!0}),a(d,{message:c.type_aset,className:"mt-2"}),l("div",{className:"mb-2",children:[a(i,{value:"Nama Aset",className:"mb-1"}),a(o,{required:!0,type:"text",onChange:r,value:m.nama_aset,name:"nama_aset",className:"block w-full lg:w-2/3"}),a(d,{message:c.nama_aset,className:"mt-2"})]})]}),l("div",{className:"mb-2",children:[a(i,{value:"Tanggal Pembelian Aset",className:"mb-1",optional:!0}),a(o,{type:"date",onChange:r,name:"tanggal_pembelian",value:m.tanggal_pembelian,className:"block w-full lg:w-2/3"}),a(d,{message:c.tanggal_pembelian,className:"mt-2"})]}),m.type_aset=="kendaraan"&&l(h,{children:[l("div",{className:"mb-2",children:[a(i,{value:"Detail Aset",className:"mb-1",optional:!0}),a(o,{type:"text",onChange:r,name:"detail_aset",value:m.detail_aset,className:"block w-full lg:w-2/3"}),a(d,{message:c.detail_aset,className:"mt-2"})]}),l("div",{className:"mb-2",children:[a(i,{value:"Plat Nomor",className:"mb-1"}),a(o,{type:"text",onChange:r,required:!0,name:"plat_nomor",value:m.plat_nomor,className:"block w-full lg:w-2/3"}),a(d,{message:c.plat_nomor,className:"mt-2"})]}),l("div",{className:"mb-2",children:[a(i,{value:"Atas Nama Kendaraan",className:"mb-1"}),a(o,{type:"text",onChange:r,name:"nama_stnk",value:m.nama_stnk,required:!0,className:"block w-full lg:w-2/3"}),a(d,{message:c.nama_stnk,className:"mt-2"})]}),l("div",{className:"mb-2",children:[a(i,{value:"Tanggal Kadaluarsa STNK",className:"mb-1"}),a(o,{type:"date",onChange:r,name:"tanggal_stnk",value:m.tanggal_stnk,required:!0,className:"block w-full lg:w-2/3"}),a(d,{message:c.tanggal_stnk,className:"mt-2"})]}),l("div",{className:"mb-2",children:[a(i,{value:"Tanggal Kadaluarsa Pajak",className:"mb-1"}),a(o,{type:"date",onChange:r,required:!0,name:"tax_expired",value:m.tax_expired,className:"block w-full lg:w-2/3"}),a(d,{message:c.tax_expired,className:"mt-2"})]})]})]}),l("div",{className:"flex-1 w-full",children:[l("div",{className:"mb-2",children:[l("div",{className:"mb-1 font-semibold text-gray-500",children:["Ubah Wilayah Penempatan",a("span",{className:"italic font-light text text-xs",children:"( Jika Terjadi Kesalahan Input )"})]}),l("div",{className:"text-xl",children:[(I=(T=e.aset_placement)==null?void 0:T.branch)==null?void 0:I.unit," -",(K=e.aset_placement)==null?void 0:K.pengguna]})]}),l("div",{className:"mb-2",children:[a(i,{value:"Ubah Wilayah Penempatan Aset",className:"mb-1"}),a(g,{onChange:F,options:V,nullValue:!0,className:"block w-full lg:w-2/3"})]}),N&&l(h,{children:[l("div",{className:"mb-2",children:[a(i,{value:"Unit Penempatan Aset",className:"mb-1"}),a(g,{onChange:r,nullValue:!0,required:!0,options:N,name:"branch_id",className:"block w-full lg:w-2/3"})]}),l("div",{className:"mb-2",children:[a(i,{value:"Jabatan",className:"mb-1"}),l("div",{className:"flex gap-2 w-full lg:w-2/3",children:[a(g,{required:!0,onChange:H,nullValue:!0,options:E,className:"flex-[2]",name:"jabatan",id:"jabatan"}),m.jabatan==="mantri"&&a(o,{onChange:r,className:"flex-1",type:"number",required:!0,name:"area",id:"area"})]})]})]}),a("div",{className:"mb-2 flex items-end justify-end",children:a(z,{type:"submit",title:"Submit"})})]})]}),a("div",{className:"flex-1",children:a(Q,{})})]})})})};export{ua as default};

import{W as x,r as w,a as e,j as a,F as j}from"./app-6b350258.js";import{D as C,a as P,b as S,c as q,d as D}from"./dialog-7116bd5a.js";import{I as n}from"./InputLabel-d209c271.js";import{T as r}from"./TextInput-1c629780.js";import"./index.esm-d3dd4622.js";import{I as i}from"./InputError-c2bb987c.js";import{P as T}from"./PrimaryButton-38a62dbf.js";import{L as W}from"./Loading-dee41ab2.js";import{S as d}from"./SelectList-f0d0fe1f.js";import{u as K}from"./useServerFilter-c7d84d6e.js";import"./index-b54cf00b.js";import"./utils-01642ffa.js";import"./transition-725fd075.js";const X=({open:g,onClosed:o,dataDetail:u})=>{const{data:l,setData:h,put:p,processing:v,errors:t,reset:N}=x({asset_name:"",asset_type_id:1,asset_category_id:1,asset_detail:"",isactive:"yes",edit:"edit",plat_nomor:"",tanggal_stnk:"",tanggal_pajak_tahunan:"",nama_stnk:"",id:"",branch_id:"",before_branch_id:"",asset_place_id:1,pengguna:"",keterangan:""});w.useEffect(()=>{h(m=>({...m,...u}))},[u]);const{wilayah:b,selectedWilayah:c,onWilayahChangeHandler:f,filteredBranch:_}=K({propsWilayah:l.wilayah});console.log(c);const s=m=>{const{value:k,name:y}=m.target;h(y,k)};return e(C,{open:g,onOpenChange:m=>m==!0?"":o(),className:"text-sm",children:[a(W,{show:v}),e(P,{className:"lg:max-w-3xl h-auto overflow-auto",children:[e(S,{children:[a(q,{children:"Edit Aset Kendaraan"}),a(D,{children:"Rincian Aset Kendaraan"})]}),a("div",{className:"overflow-auto h-[70vh] static",children:e("form",{onSubmit:m=>{m.preventDefault(),p(route("asset.kendaraan.update",l.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>o(),onFinish:()=>N(),replace:!0})},className:"relative",children:[e("div",{className:"grid lg:grid-cols-2 gap-4 py-4",children:[e("div",{children:[a("div",{className:"mb-3 font-semibold",children:"Detail Asset"}),e("div",{className:"mb-3",children:[a(n,{value:"Nama Kendaraan",className:"mb-1"}),a(r,{name:"asset_name",type:"text",className:"w-full inline-block",onChange:s,value:l.asset_name,placeholder:"ex: Supra Fit 125",required:!0}),a(i,{message:t.asset_name,className:"mt-2"})]}),e("div",{className:"mb-3",children:[a(n,{value:"Plat Nomor",className:"mb-1"}),a(r,{name:"plat_nomor",type:"text",className:"w-full inline-block",onChange:s,value:l.plat_nomor,placeholder:"AG1010HX tanpa spasi ",required:!0}),a(i,{message:t.plat_nomor,className:"mt-2"})]}),e("div",{className:"mb-3",children:[a(n,{value:"Detail Kendaraan",optional:!0,className:"mb-1"}),a(r,{name:"asset_detail",type:"text",className:"w-full inline-block",onChange:s,value:l.asset_detail,placeholder:"Warna Putih"}),a(i,{message:t.asset_detail,className:"mt-2"})]}),e("div",{className:"mb-3",children:[a(n,{value:"Atas Nama Kendaraan",className:"mb-1"}),a(r,{name:"nama_stnk",type:"text",className:"w-full inline-block",onChange:s,value:l.nama_stnk,required:!0}),a(i,{message:t.nama_stnk,className:"mt-2"})]}),e("div",{className:"mb-3",children:[a(n,{value:"Tanggal STNK ( Pajak 5Tahuna )",className:"mb-1"}),a(r,{name:"tanggal_stnk",type:"date",className:"w-full inline-block",onChange:s,value:l.tanggal_stnk,placeholder:"Warna Putih",required:!0}),a(i,{message:t.tanggal_stnk,className:"mt-2"})]}),e("div",{className:"mb-3",children:[a(n,{value:"Tanggal Pajak ( Pajak 1 Tahun )",className:"mb-1"}),a(r,{name:"tanggal_pajak_tahunan",type:"date",className:"w-full inline-block",onChange:s,value:l.tanggal_pajak_tahunan,placeholder:"Warna Putih",required:!0}),a(i,{message:t.tanggal_pajak_tahunan,className:"mt-2"})]})]}),e("div",{children:[e("div",{className:"mb-3 font-semibold",children:["Ubah Lokasi Asset",e("div",{className:"italic font-thin text-sm",children:["-"," ",a("span",{className:"text-red-500 font-semibold",children:"Edit"})," ","untuk mengubah ( jika terjadi kesalahan input )"]}),e("div",{className:"italic font-thin text-sm",children:["-"," ",a("span",{className:"text-red-500 font-semibold",children:"Pindah"})," ","untuk jika kendaraan dipindahkan ke unit lain"]}),e("div",{className:"italic font-thin text-sm",children:["-"," ",a("span",{className:"text-red-500 font-semibold",children:"Rusak / Jual"})," ","untuk aset yang dijual / rusak"]})]}),e("div",{className:"mb-3",children:[a(n,{value:"Pilih Perubahan",className:"mb-1"}),a(d,{name:"edit",value:l.edit,className:"w-full",nullValue:!0,required:!0,options:[{id:1,display:"Edit",value:"edit"},{id:2,display:"Pindah",value:"pindah"},{id:3,display:"Jual",value:"jual"},{id:4,display:"Hilang",value:"hilang"}],onChange:s})]}),l.edit=="edit"||l.edit=="pindah"?e("div",{children:[e("div",{className:"mb-3 flex flex-col lg:flex-row items-center justify-center gap-3 mt-3",children:[e("div",{className:"flex-1 w-full",children:[a(n,{value:"Wilayah"}),a(d,{name:"wilayah",value:c,className:"w-full",nullValue:!0,required:!0,options:b,onChange:f})]}),c!==""&&e("div",{className:"flex-1 w-full",children:[a(n,{value:"Unit"}),a(d,{name:"branch_id",className:"w-full",value:l.branch_id,nullValue:!0,required:!0,options:_,onChange:s}),a(i,{message:t.branch_id,className:"mt-2"})]})]}),e("div",{className:"mb-3",children:[a(n,{value:"Pengguna",className:"mb-1"}),a(r,{name:"pengguna",type:"text",className:"w-full inline-block",onChange:s,value:l.pengguna,placeholder:"Mantri 1 / Admin",required:!0}),a(i,{message:t.pengguna,className:"mt-2"})]}),e("div",{className:"mb-3",children:[a(n,{value:"Keterangan",optional:!0,className:"mb-1"}),a(r,{name:"keterangan",type:"text",className:"w-full inline-block",onChange:s,value:l.keterangan}),a(i,{message:t.keterangan,className:"mt-2"})]})]}):l.edit=="jual"||l.edit=="hilang"?e(j,{children:[e("div",{className:"mb-3",children:[a(n,{value:"Tanggal Hilang / Rusak",className:"mb-1"}),a(r,{name:"nonactive_date",type:"date",className:"w-full inline-block",onChange:s,value:l.nonactive_date,placeholder:"Warna Putih",required:!0}),a(i,{message:t.nonactive_date,className:"mt-2"})]}),e("div",{className:"mb-3",children:[a(n,{value:"Keterangan",className:"mb-1"}),a(r,{name:"nonactive_reason",type:"text",className:"w-full inline-block",onChange:s,value:l.nonactive_reason,placeholder:"Hilang / Rusak",required:!0}),a(i,{message:t.nonactive_reason,className:"mt-2"})]})]}):""]})]}),a("div",{className:"flex justify-end sticky bottom-0 left-0 bg-white border-t p-2",children:a(T,{theme:"green",type:"submit",children:"Submit"})})]})})]})]})};export{X as default};

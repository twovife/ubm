import{r as l,j as s,F as A,a,n as D,g as u}from"./app-155bc9b8.js";import{P as I}from"./Pagination-614bb991.js";import{P as h}from"./PrimaryButton-a178a35d.js";import{S as y}from"./SelectList-3c81c499.js";import{T}from"./TextInput-ffcc00a9.js";import{A as K}from"./AuthenticatedLayout-37f264d8.js";import{d as F}from"./dayjs.min-257d33af.js";import{I as L}from"./index.esm-2208c05d.js";import J from"./ActionModal-65693a5d.js";import B from"./CreateModal-11820298.js";import{I as b}from"./InputLabel-e565b117.js";import{L as E}from"./Loading-1c0b00d0.js";import"./transition-f8075e29.js";import"./index.esm-1dc4f9c5.js";import"./iconBase-fb62eb37.js";import"./index.esm-4316ac1d.js";import"./Modal-2979aa42.js";import"./FormMutasi-fa3e5ca0.js";import"./InputError-cbe4b63a.js";import"./PencairanSimpanan-ccc03bc6.js";import"./ResignModal-c3f50640.js";import"./UpdateDetail-ae07e247.js";import"./TextArea-31624feb.js";import"./Resign-74716847.js";const oa=({branch:d,employee:i,...n})=>{console.log(i);const f=i.from,o=i.data,[w,m]=l.useState(!1),[e,v]=l.useState({branch_id:"",is_active:"",search:"",...n.filters}),[_,p]=l.useState(!1),[g,x]=l.useState({show:!1,data:""}),N=t=>{p(!0);const r={...e,[t.target.name]:t.target.value};u.get(route("employee.index",{data:r}))},k=d.sort().map(t=>({id:t.id,display:t.unit,value:t.id})),C=t=>{m(!1)},P=t=>{x({show:!1,data:""})},S=t=>{v({...e,search:t.target.value})},M=t=>{p(!0),t.preventDefault();const r=document.getElementById("searchFill"),j={...e,search:r.value};u.get(route("employee.index",{data:j,onProgress:Y=>{console.log("asd")}}))},c=n.titles.map(t=>({id:t.id,value:t.title,display:t.title}));return console.log(c),s(K,{auth:n.auth,errors:n.errors,header:s(A,{children:[a("h2",{className:"font-semibold text-xl text-main-800 leading-tight",children:"Daftar Karyawan"}),a("div",{className:"ml-auto flex items-center",children:a(h,{icon:a(L,{}),size:"md",title:"Tambah",onClick:()=>m(!0)})})]}),children:[a(D,{title:"Dashboard"}),a(E,{show:_}),a(B,{show:w,onClose:C,titles:c,branch:d}),a(J,{show:g.show,data:g.data,onClose:P,titles:c,branch:d}),a("div",{className:"py-3",children:a("div",{className:"mx-auto sm:px-6 lg:px-8",children:a("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:s("div",{className:"border p-6 text-main-800",children:[s("div",{className:"flex justify-between w-full items-center mb-6",children:[s("div",{className:"flex gap-3 items-center",children:[a(b,{value:"Unit :",className:"font-semibold"}),a(y,{value:e.branch_id,name:"branch_id",onChange:N,nullValue:!0,options:k})]}),s("div",{className:"ml-3 flex gap-3 items-center",children:[a(b,{value:"Status Karyawan :",className:"font-semibold"}),a(y,{value:e.is_active,name:"is_active",onChange:N,nullValue:!0,options:[{id:1,value:1,display:"Aktiv"},{id:2,value:2,display:"Keluar"}]})]}),a("div",{className:"ml-auto",children:s("form",{className:"flex gap-3",onSubmit:M,children:[a(T,{placeholder:"Cari Nama",id:"searchFill",className:"px-6",onChange:S,value:e.search}),a(h,{type:"submit",title:"search"})]})})]}),a("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg text-main-800 mb-6",children:s("table",{className:"w-full text-sm text-left text-main-500 dark:text-main-400",children:[a("thead",{className:"text-xs text-main-700 uppercase bg-main-100 dark:bg-gray-700 dark:text-main-400",children:s("tr",{children:[a("th",{className:"px-6 py-3",children:"Nomor"}),a("th",{className:"px-6 py-3",children:"Action"}),a("th",{className:"px-6 py-3",children:"NIP"}),a("th",{className:"px-6 py-3",children:"Nama Karyawan"}),a("th",{className:"px-6 py-3",children:"NIK"}),a("th",{className:"px-6 py-3",children:a("span",{className:"px-32",children:"Alamat"})}),a("th",{className:"px-6 py-3",children:"Tanggal Masuk"}),a("th",{className:"px-6 py-3",children:"Jabatan"}),a("th",{className:"px-6 py-3",children:"Wilayah"}),a("th",{className:"px-6 py-3",children:"Cabang"}),a("th",{className:"px-6 py-3",children:"Jenis Jaminan"}),a("th",{className:"px-6 py-3 bg-gray-200",children:"Tanggal Perpindahan"}),a("th",{className:"px-6 py-3 bg-gray-200",children:"History Perpindahan"}),a("th",{className:"px-6 py-3 bg-gray-200",children:"Keterangan Perpindahan"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Tanggal Berhenti"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Keterangan Berhenti"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Tanggal Pengambilan S.Sukarela"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Petugas"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Tanggal Pengambilan S.Wajib"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Petugas"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Pengambilan Jaminan"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Petugas"})]})}),a("tbody",{children:o&&o.map((t,r)=>s("tr",{className:`border-b dark:bg-gray-900 dark:border-gray-700 ${t.date_resign?"bg-red-100":"bg-white"}`,children:[a("td",{className:"px-6 py-4",children:r+f}),a("td",{className:"px-6 py-4",children:a("div",{className:"flex gap-2",children:a(h,{onClick:()=>x({show:!0,data:t}),theme:"yellow",size:"sm",title:"Edit"})})}),a("td",{className:"px-6 py-4",children:t.nip}),a("td",{className:"px-6 py-4 whitespace-nowrap",children:t.nama_karyawan}),a("td",{className:"px-6 py-4",children:t.nik}),a("td",{className:"px-6 py-4",children:t.alamat}),a("td",{className:"px-6 py-4",children:F(t.hire_date).format("DD/MM/YYYY")}),a("td",{className:"px-6 py-4 whitespace-nowrap",children:t.area==0?t.jabatan:`${t.jabatan} ${t.area}`}),a("td",{className:"px-6 py-4 whitespace-nowrap",children:t.branch.wilayah}),a("td",{className:"px-6 py-4 whitespace-nowrap",children:t.branch.unit}),a("td",{className:"px-6 py-4",children:t.janis_jaminan}),a("td",{className:"px-6 py-4",children:t.history&&t.history.history_date}),a("td",{className:"px-6 py-4 uppercase",children:t.history&&t.history.keterangan}),a("td",{className:"px-6 py-4",children:t.history&&t.history.record}),a("td",{className:"px-6 py-4",children:t.date_resign}),a("td",{className:"px-6 py-4",children:t.resign_status}),a("td",{className:"px-6 py-4",children:t.pencairan_simpanan_date}),a("td",{className:"px-6 py-4",children:t.ttdss?t.ttdss.nama_karyawan:""}),a("td",{className:"px-6 py-4",children:t.pencairan_simpanan_w_date}),a("td",{className:"px-6 py-4",children:t.ttdsw?t.ttdsw.nama_karyawan:""}),a("td",{className:"px-6 py-4",children:t.handover_jaminan}),a("td",{className:"px-6 py-4",children:t.ttdjaminan?t.ttdjaminan.nama_karyawan:""})]},t.id))})]})}),a(I,{data:i})]})})})})]})};export{oa as default};

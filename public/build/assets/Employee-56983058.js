import{r as l,j as e,F as I,a,n as T,g as y}from"./app-ff24692e.js";import{P as K}from"./Pagination-a9601642.js";import{P as o}from"./PrimaryButton-7b80c783.js";import{S as f}from"./SelectList-bef48847.js";import{T as F}from"./TextInput-57b11146.js";import{A as E}from"./AuthenticatedLayout-29cd8151.js";import{d as J}from"./dayjs.min-57675a5c.js";import{I as B}from"./index.esm-aa8bb1bc.js";import L from"./ActionModal-1caff3d7.js";import Y from"./CreateModal-4fe5ba4b.js";import{I as b}from"./InputLabel-35b3bafd.js";import"./Loading-8d725140.js";import{M as V}from"./ModalAlert-08169fe3.js";import"./transition-384ffdb0.js";import"./index.esm-1736614f.js";import"./iconBase-18c4a41e.js";import"./index.esm-70caf1be.js";import"./Modal-60ff839e.js";import"./FormMutasi-c8d37a21.js";import"./InputError-5311aa99.js";import"./PencairanSimpanan-3789e6a0.js";import"./ResignModal-743368b6.js";import"./UpdateDetail-54f2b0b4.js";import"./TextArea-7e8b0f72.js";import"./Resign-2c99d7c4.js";const xa=({branch:d,employee:n,...s})=>{console.log(n);const w=n.from,m=n.data,[v,p]=l.useState(!1),[r,_]=l.useState({branch_id:"",is_active:"",search:"",...s.filters}),[$,g]=l.useState(!1),[x,u]=l.useState({show:!1,data:""}),N=t=>{g(!0);const i={...r,[t.target.name]:t.target.value};y.get(route("employee.index",{data:i}))},A=d.sort().map(t=>({id:t.id,display:t.unit,value:t.id})),M=t=>{p(!1)},k=t=>{u({show:!1,data:""})},C=t=>{_({...r,search:t.target.value})},P=t=>{g(!0),t.preventDefault();const i=document.getElementById("searchFill"),D={...r,search:i.value};y.get(route("employee.index",{data:D,onProgress:z=>{console.log("asd")}}))},c=s.titles.map(t=>({id:t.id,value:t.title,display:t.title}));console.log(c);const[S,h]=l.useState({show:!1,textAlert:null,typeAlert:null}),j=t=>{h(!1)};return l.useEffect(()=>{s.flash.message&&h({show:!0,textAlert:s.flash.message,typeAlert:"success"}),s.errors[0]&&h({show:!0,textAlert:s.errors[0],typeAlert:"danger"})},[]),e(E,{auth:s.auth,errors:s.errors,header:e(I,{children:[a("h2",{className:"font-semibold text-xl text-main-800 leading-tight",children:"Daftar Karyawan"}),a("div",{className:"ml-auto flex items-center",children:a(o,{icon:a(B,{}),size:"md",title:"Tambah",onClick:()=>p(!0)})})]}),children:[a(V,{alertParams:S,onClose:j}),a(T,{title:"Dashboard"}),a(Y,{show:v,onClose:M,titles:c,branch:d}),a(L,{show:x.show,data:x.data,onClose:k,titles:c,branch:d}),a("div",{className:"py-3",children:a("div",{className:"mx-auto sm:px-6 lg:px-8",children:a("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e("div",{className:"border p-6 text-main-800",children:[e("div",{className:"flex justify-between w-full items-center mb-6",children:[e("div",{className:"flex gap-3 items-center",children:[a(b,{value:"Unit :",className:"font-semibold"}),a(f,{value:r.branch_id,name:"branch_id",onChange:N,nullValue:!0,options:A})]}),e("div",{className:"ml-3 flex gap-3 items-center",children:[a(b,{value:"Status Karyawan :",className:"font-semibold"}),a(f,{value:r.is_active,name:"is_active",onChange:N,nullValue:!0,options:[{id:1,value:1,display:"Aktiv"},{id:2,value:2,display:"Keluar"}]})]}),a("div",{className:"ml-auto",children:e("form",{className:"flex gap-3",onSubmit:P,children:[a(F,{placeholder:"Cari Nama",id:"searchFill",className:"px-6",onChange:C,value:r.search}),a(o,{type:"submit",title:"search"})]})})]}),a("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg text-main-800 mb-6",children:e("table",{className:"w-full text-sm text-left text-main-500 dark:text-main-400",children:[a("thead",{className:"text-xs text-main-700 uppercase bg-main-100 dark:bg-gray-700 dark:text-main-400",children:e("tr",{children:[a("th",{className:"px-6 py-3",children:"Nomor"}),a("th",{className:"px-6 py-3",children:"Action"}),a("th",{className:"px-6 py-3",children:"NIP"}),a("th",{className:"px-6 py-3",children:"Nama Karyawan"}),a("th",{className:"px-6 py-3",children:"NIK"}),a("th",{className:"px-6 py-3",children:a("span",{className:"px-32",children:"Alamat"})}),a("th",{className:"px-6 py-3",children:"Tanggal Masuk"}),a("th",{className:"px-6 py-3",children:"Jabatan"}),a("th",{className:"px-6 py-3",children:"Wilayah"}),a("th",{className:"px-6 py-3",children:"Cabang"}),a("th",{className:"px-6 py-3",children:"Jenis Jaminan"}),a("th",{className:"px-6 py-3 bg-gray-200",children:"Tanggal Perpindahan"}),a("th",{className:"px-6 py-3 bg-gray-200",children:"History Perpindahan"}),a("th",{className:"px-6 py-3 bg-gray-200",children:"Keterangan Perpindahan"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Tanggal Berhenti"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Keterangan Berhenti"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Tanggal Pengambilan S.Sukarela"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Petugas"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Tanggal Pengambilan S.Wajib"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Petugas"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Pengambilan Jaminan"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Petugas"})]})}),a("tbody",{children:m&&m.map((t,i)=>e("tr",{className:`border-b dark:bg-gray-900 dark:border-gray-700 ${t.date_resign?"bg-red-100":"bg-white"}`,children:[a("td",{className:"px-6 py-4",children:i+w}),a("td",{className:"px-6 py-4",children:a("div",{className:"flex gap-2",children:a(o,{onClick:()=>u({show:!0,data:t}),theme:"yellow",size:"sm",title:"Edit"})})}),a("td",{className:"px-6 py-4",children:t.nip}),a("td",{className:"px-6 py-4 whitespace-nowrap",children:t.nama_karyawan}),a("td",{className:"px-6 py-4",children:t.nik}),a("td",{className:"px-6 py-4",children:t.alamat}),a("td",{className:"px-6 py-4",children:J(t.hire_date).format("DD/MM/YYYY")}),a("td",{className:"px-6 py-4 whitespace-nowrap",children:t.area==0?t.jabatan:`${t.jabatan} ${t.area}`}),a("td",{className:"px-6 py-4 whitespace-nowrap",children:t.branch.wilayah}),a("td",{className:"px-6 py-4 whitespace-nowrap",children:t.branch.unit}),a("td",{className:"px-6 py-4",children:t.janis_jaminan}),a("td",{className:"px-6 py-4",children:t.history&&t.history.history_date}),a("td",{className:"px-6 py-4 uppercase",children:t.history&&t.history.keterangan}),a("td",{className:"px-6 py-4",children:t.history&&t.history.record}),a("td",{className:"px-6 py-4",children:t.date_resign}),a("td",{className:"px-6 py-4",children:t.resign_status}),a("td",{className:"px-6 py-4",children:t.pencairan_simpanan_date}),a("td",{className:"px-6 py-4",children:t.ttdss?t.ttdss.nama_karyawan:""}),a("td",{className:"px-6 py-4",children:t.pencairan_simpanan_w_date}),a("td",{className:"px-6 py-4",children:t.ttdsw?t.ttdsw.nama_karyawan:""}),a("td",{className:"px-6 py-4",children:t.handover_jaminan}),a("td",{className:"px-6 py-4",children:t.ttdjaminan?t.ttdjaminan.nama_karyawan:""})]},t.id))})]})}),a(K,{data:n})]})})})})]})};export{xa as default};

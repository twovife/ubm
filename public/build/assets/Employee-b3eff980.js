import{r as n,j as t,F as M,a,n as A,g as N}from"./app-b1e3a402.js";import{P as D}from"./Pagination-38323176.js";import{P as d}from"./PrimaryButton-52d0cdfe.js";import{S as u}from"./SelectList-be2283c5.js";import{T as I}from"./TextInput-0f398284.js";import{A as K}from"./AuthenticatedLayout-bc5b1ef7.js";import{d as T}from"./dayjs.min-75678fd9.js";import{I as F}from"./index.esm-74adc34a.js";import L from"./ActionModal-d1c4f74d.js";import B from"./CreateModal-45253746.js";import{I as y}from"./InputLabel-c9d1d76a.js";import{L as E}from"./Loading-39904f7c.js";import"./transition-a48afc42.js";import"./index.esm-36f8410e.js";import"./iconBase-0e10d113.js";import"./index.esm-3fa4ad04.js";import"./Modal-e60bd39f.js";import"./FormMutasi-53195ed7.js";import"./InputError-474357f4.js";import"./PencairanSimpanan-e2986ddd.js";import"./PengambilanJaminan-be561407.js";import"./ResignModal-57f77981.js";import"./UpdateDetail-61625f7d.js";import"./TextArea-7561d065.js";import"./Resign-bdcfb1e9.js";const oa=({branch:l,employee:c,...i})=>{const b=c.from,h=c.data,[f,o]=n.useState(!1),[s,w]=n.useState({branch_id:"",is_active:"",search:"",...i.filters}),[v,m]=n.useState(!1),[p,x]=n.useState({show:!1,data:""}),g=e=>{m(!0);const r={...s,[e.target.name]:e.target.value};N.get(route("employee.index",{data:r}))},_=l.sort().map(e=>({id:e.id,display:e.unit,value:e.id})),C=e=>{o(!1)},S=e=>{x({show:!1,data:""})},k=e=>{w({...s,search:e.target.value})},P=e=>{m(!0),e.preventDefault();const r=document.getElementById("searchFill"),j={...s,search:r.value};N.get(route("employee.index",{data:j,onProgress:J=>{console.log("asd")}}))};return t(K,{auth:i.auth,errors:i.errors,header:t(M,{children:[a("h2",{className:"font-semibold text-xl text-main-800 leading-tight",children:"Daftar Karyawan"}),a("div",{className:"ml-auto flex items-center",children:a(d,{icon:a(F,{}),size:"md",title:"Tambah",onClick:()=>o(!0)})})]}),children:[a(A,{title:"Dashboard"}),a(E,{show:v}),a(B,{show:f,onClose:C,titles:i.titles,branch:l}),a(L,{show:p.show,data:p.data,onClose:S,branch:l}),a("div",{className:"py-3",children:a("div",{className:"mx-auto sm:px-6 lg:px-8",children:a("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:t("div",{className:"border p-6 text-main-800",children:[t("div",{className:"flex justify-between w-full items-center mb-6",children:[t("div",{className:"flex gap-3 items-center",children:[a(y,{value:"Unit :",className:"font-semibold"}),a(u,{value:s.branch_id,name:"branch_id",onChange:g,nullValue:!0,options:_})]}),t("div",{className:"ml-3 flex gap-3 items-center",children:[a(y,{value:"Status Karyawan :",className:"font-semibold"}),a(u,{value:s.is_active,name:"is_active",onChange:g,nullValue:!0,options:[{id:1,value:1,display:"Aktiv"},{id:2,value:2,display:"Keluar"}]})]}),a("div",{className:"ml-auto",children:t("form",{className:"flex gap-3",onSubmit:P,children:[a(I,{placeholder:"Cari Nama",id:"searchFill",className:"px-6",onChange:k,value:s.search}),a(d,{type:"submit",title:"search"})]})})]}),a("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg text-main-800 mb-6",children:t("table",{className:"w-full text-sm text-left text-main-500 dark:text-main-400",children:[a("thead",{className:"text-xs text-main-700 uppercase bg-main-100 dark:bg-gray-700 dark:text-main-400",children:t("tr",{children:[a("th",{className:"px-6 py-3",children:"Nomor"}),a("th",{className:"px-6 py-3",children:"Action"}),a("th",{className:"px-6 py-3",children:"NIP"}),a("th",{className:"px-6 py-3",children:"Nama Karyawan"}),a("th",{className:"px-6 py-3",children:"NIK"}),a("th",{className:"px-6 py-3",children:a("span",{className:"px-32",children:"Alamat"})}),a("th",{className:"px-6 py-3",children:"Tanggal Masuk"}),a("th",{className:"px-6 py-3",children:"Jabatan"}),a("th",{className:"px-6 py-3",children:"Wilayah"}),a("th",{className:"px-6 py-3",children:"Cabang"}),a("th",{className:"px-6 py-3",children:"Jenis Jaminan"}),a("th",{className:"px-6 py-3 bg-gray-200",children:"Tanggal Perpindahan"}),a("th",{className:"px-6 py-3 bg-gray-200",children:"History Perpindahan"}),a("th",{className:"px-6 py-3 bg-gray-200",children:"Keterangan Perpindahan"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Tanggal Berhenti"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Keterangan Berhenti"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Tanggal Pengambilan S.Sukarela"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Petugas"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Pengambilan Jaminan & S.Wajib"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Petugas"})]})}),a("tbody",{children:h&&h.map((e,r)=>t("tr",{className:`border-b dark:bg-gray-900 dark:border-gray-700 ${e.date_resign?"bg-red-100":"bg-white"}`,children:[a("td",{className:"px-6 py-4",children:r+b}),a("td",{className:"px-6 py-4",children:a("div",{className:"flex gap-2",children:a(d,{onClick:()=>x({show:!0,data:e}),theme:"yellow",size:"sm",title:"Edit"})})}),a("td",{className:"px-6 py-4",children:e.nip}),a("td",{className:"px-6 py-4 whitespace-nowrap",children:e.nama_karyawan}),a("td",{className:"px-6 py-4",children:e.nik}),a("td",{className:"px-6 py-4",children:e.alamat}),a("td",{className:"px-6 py-4",children:T(e.hire_date).format("DD/MM/YYYY")}),a("td",{className:"px-6 py-4 whitespace-nowrap",children:e.area==0?e.jabatan:`${e.jabatan} ${e.area}`}),a("td",{className:"px-6 py-4 whitespace-nowrap",children:e.branch.wilayah}),a("td",{className:"px-6 py-4 whitespace-nowrap",children:e.branch.unit}),a("td",{className:"px-6 py-4",children:e.janis_jaminan}),a("td",{className:"px-6 py-4",children:e.history&&e.history.history_date}),a("td",{className:"px-6 py-4 uppercase",children:e.history&&e.history.keterangan}),a("td",{className:"px-6 py-4",children:e.history&&e.history.record}),a("td",{className:"px-6 py-4",children:e.date_resign}),a("td",{className:"px-6 py-4",children:e.resign_status}),a("td",{className:"px-6 py-4",children:e.pencairan_simpanan_date}),a("td",{className:"px-6 py-4",children:e.pencairan_simpanan_by}),a("td",{className:"px-6 py-4",children:e.handover_jaminan}),a("td",{className:"px-6 py-4",children:e.handover_jaminan_by})]},e.id))})]})}),a(D,{data:c})]})})})})]})};export{oa as default};

import{r as i,j as t,F as j,a,n as S,g as p}from"./app-47745146.js";import{P as M}from"./Pagination-a55e1d98.js";import{P as L}from"./PrimaryButton-04884cfe.js";import{S as o}from"./SelectList-6f752f8e.js";import{T as C}from"./TextInput-23ae9f38.js";import{A as D}from"./AuthenticatedLayout-a7be6ba4.js";import{d as g}from"./dayjs.min-84fc1e18.js";import{I}from"./index.esm-e6ef8f0e.js";import{I as x}from"./InputLabel-c4775742.js";import{L as T}from"./Loading-aff3e90c.js";import"./TextArea-beb73308.js";import{M as K}from"./ModalAlert-86e312b1.js";import{L as u}from"./LinkButton-67e23ffa.js";import"./transition-a0628078.js";import"./index.esm-70f14086.js";import"./iconBase-ec8e57e6.js";import"./index.esm-60b6dca7.js";import"./Modal-19bce1e3.js";const ea=({branch:N,employee:l,...s})=>{const y=l.from,d=l.data,[r,f]=i.useState({branch_id:"",is_active:"",search:"",...s.filters}),[b,h]=i.useState(!1);i.useState({show:!1,data:""});const m=e=>{h(!0);const n={...r,[e.target.name]:e.target.value};p.get(route("employee.index",{data:n}))},w=N.sort().map(e=>({id:e.id,display:e.unit,value:e.id})),v=e=>{f({...r,search:e.target.value})},_=e=>{h(!0),e.preventDefault();const n=document.getElementById("searchFill"),A={...r,search:n.value};p.get(route("employee.index",{data:A,onProgress:B=>{console.log("asd")}}))},[P,c]=i.useState({show:!1,textAlert:null,typeAlert:null}),k=e=>{c(!1)};return i.useEffect(()=>{s.flash.message&&c({show:!0,textAlert:s.flash.message,typeAlert:"success"}),s.errors[0]&&c({show:!0,textAlert:s.errors[0],typeAlert:"danger"})},[]),t(D,{auth:s.auth,errors:s.errors,header:t(j,{children:[a("h2",{className:"font-semibold text-xl text-main-800 leading-tight",children:"Daftar Karyawan"}),a("div",{className:"ml-auto flex items-center",children:a(u,{as:"a",href:route("employee.create"),icon:a(I,{}),size:"md",title:"Tambah"})})]}),children:[a(K,{alertParams:P,onClose:k}),a(S,{title:"Dashboard"}),a(T,{show:b}),a("div",{className:"py-3",children:a("div",{className:"mx-auto sm:px-6 lg:px-8",children:a("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:t("div",{className:"border p-6 text-main-800",children:[t("div",{className:"flex justify-between w-full items-center mb-6",children:[t("div",{className:"flex gap-3 items-center",children:[a(x,{value:"Unit :",className:"font-semibold"}),a(o,{value:r.branch_id,name:"branch_id",onChange:m,nullValue:!0,options:w})]}),t("div",{className:"ml-3 flex gap-3 items-center",children:[a(x,{value:"Status Karyawan :",className:"font-semibold"}),a(o,{value:r.is_active,name:"is_active",onChange:m,nullValue:!0,options:[{id:1,value:1,display:"Aktiv"},{id:2,value:2,display:"Keluar"}]})]}),a("div",{className:"ml-auto",children:t("form",{className:"flex gap-3",onSubmit:_,children:[a(C,{placeholder:"Cari Nama",id:"searchFill",className:"px-6",onChange:v,value:r.search}),a(L,{type:"submit",title:"search"})]})})]}),a("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg text-main-800 mb-6",children:t("table",{className:"w-full text-sm text-left text-main-500 dark:text-main-400",children:[a("thead",{className:"text-xs text-main-700 uppercase bg-main-100 dark:bg-gray-700 dark:text-main-400",children:t("tr",{children:[a("th",{className:"px-6 py-3",children:"Nomor"}),a("th",{className:"px-6 py-3",children:"Action"}),a("th",{className:"px-6 py-3",children:"NIP"}),a("th",{className:"px-6 py-3",children:"Nama Karyawan"}),a("th",{className:"px-6 py-3",children:"NIK"}),a("th",{className:"px-6 py-3",children:a("span",{className:"px-32",children:"Alamat"})}),a("th",{className:"px-6 py-3",children:"Tanggal Masuk"}),a("th",{className:"px-6 py-3",children:"Lama Bekerja"}),a("th",{className:"px-6 py-3",children:"Jabatan"}),a("th",{className:"px-6 py-3",children:"Wilayah"}),a("th",{className:"px-6 py-3",children:"Cabang"}),a("th",{className:"px-6 py-3",children:"Jenis Jaminan"}),a("th",{className:"px-6 py-3 bg-gray-200",children:"Tanggal Perpindahan"}),a("th",{className:"px-6 py-3 bg-gray-200",children:"History Perpindahan"}),a("th",{className:"px-6 py-3 bg-gray-200",children:"Keterangan Perpindahan"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Tanggal Berhenti"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Keterangan Berhenti"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Tanggal Pengambilan S.Sukarela"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Petugas"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Tanggal Pengambilan S.Wajib"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Petugas"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Pengambilan Jaminan"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Petugas"})]})}),a("tbody",{children:d&&d.map((e,n)=>t("tr",{className:`border-b dark:bg-gray-900 dark:border-gray-700 ${e.resign_status=="Resign"?"bg-yellow-200":e.resign_status=="Pecat"?"bg-red-200":"bg-white"}`,children:[a("td",{className:"px-6 py-4",children:n+y}),a("td",{className:"px-6 py-4",children:a("div",{className:"flex gap-2",children:a(u,{as:"a",href:route("employee.action",e.id),theme:"yellow",size:"sm",title:"Edit"})})}),a("td",{className:"px-6 py-4",children:e.nip}),a("td",{className:"px-6 py-4 whitespace-nowrap",children:e.nama_karyawan}),a("td",{className:"px-6 py-4",children:e.nik}),a("td",{className:"px-6 py-4",children:e.alamat}),a("td",{className:"px-6 py-4",children:g(e.hire_date).format("DD/MM/YYYY")}),a("td",{className:"px-6 py-4",children:Math.floor(g().diff(e.hire_date,"year",!0))}),a("td",{className:"px-6 py-4 whitespace-nowrap",children:e.area==0?e.jabatan:`${e.jabatan} ${e.area}`}),a("td",{className:"px-6 py-4 whitespace-nowrap",children:e.branch.wilayah}),a("td",{className:"px-6 py-4 whitespace-nowrap",children:e.branch.unit}),a("td",{className:"px-6 py-4",children:e.janis_jaminan}),a("td",{className:"px-6 py-4",children:e.history&&e.history.history_date}),a("td",{className:"px-6 py-4 uppercase",children:e.history&&e.history.keterangan}),a("td",{className:"px-6 py-4",children:e.history&&e.history.record}),a("td",{className:"px-6 py-4",children:e.date_resign}),a("td",{className:"px-6 py-4",children:e.resign_status}),a("td",{className:"px-6 py-4",children:e.pencairan_simpanan_date}),a("td",{className:"px-6 py-4",children:e.ttdss?e.ttdss.nama_karyawan:""}),a("td",{className:"px-6 py-4",children:e.pencairan_simpanan_w_date}),a("td",{className:"px-6 py-4",children:e.ttdsw?e.ttdsw.nama_karyawan:""}),a("td",{className:"px-6 py-4",children:e.handover_jaminan}),a("td",{className:"px-6 py-4",children:e.ttdjaminan?e.ttdjaminan.nama_karyawan:""})]},e.id))})]})}),a(M,{data:l})]})})})})]})};export{ea as default};

import{j as a,a as s,r as d,F as I,n as S,g}from"./app-361d4a38.js";import{P as z}from"./Pagination-96670e24.js";import{P as B}from"./PrimaryButton-8ac8d257.js";import{S as u}from"./SelectList-a8172cf6.js";import{T as C}from"./TextInput-170491db.js";import{A as L}from"./AuthenticatedLayout-952e0d23.js";import{d as N}from"./dayjs.min-83cc26cc.js";import{I as D}from"./index.esm-f1e3c586.js";import{I as f}from"./InputLabel-1325250b.js";import{L as T}from"./Loading-cd7dadd4.js";import"./TextArea-6e62ffa9.js";import{M as K}from"./Modal-9e92ab92.js";import{G as o}from"./iconBase-9f6552dc.js";import{L as y}from"./LinkButton-cac727a3.js";import"./Navbar-917f3221.js";import"./transition-849d851d.js";import"./index.esm-5bb7e369.js";function b(r){return o({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 1.45l6.705 13.363h-13.409l6.705-13.363zM8 0c-0.345 0-0.69 0.233-0.951 0.698l-6.829 13.611c-0.523 0.93-0.078 1.691 0.989 1.691h13.583c1.067 0 1.512-0.761 0.989-1.691h0l-6.829-13.611c-0.262-0.465-0.606-0.698-0.951-0.698v0z"}},{tag:"path",attr:{d:"M9 13c0 0.552-0.448 1-1 1s-1-0.448-1-1c0-0.552 0.448-1 1-1s1 0.448 1 1z"}},{tag:"path",attr:{d:"M8 11c-0.552 0-1-0.448-1-1v-3c0-0.552 0.448-1 1-1s1 0.448 1 1v3c0 0.552-0.448 1-1 1z"}}]})(r)}function F(r){return o({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7 4.75c0-0.412 0.338-0.75 0.75-0.75h0.5c0.412 0 0.75 0.338 0.75 0.75v0.5c0 0.412-0.338 0.75-0.75 0.75h-0.5c-0.412 0-0.75-0.338-0.75-0.75v-0.5z"}},{tag:"path",attr:{d:"M10 12h-4v-1h1v-3h-1v-1h3v4h1z"}},{tag:"path",attr:{d:"M8 0c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zM8 14.5c-3.59 0-6.5-2.91-6.5-6.5s2.91-6.5 6.5-6.5 6.5 2.91 6.5 6.5-2.91 6.5-6.5 6.5z"}}]})(r)}function E(r){return o({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.5 2l-7.5 7.5-3.5-3.5-2.5 2.5 6 6 10-10z"}}]})(r)}const J=({alertParams:r,onClose:n})=>{const{show:i,textAlert:h,typeAlert:l}=r;let e="";return l=="warning"?e=a(b,{className:"mx-auto text-7xl my-5 text-yellow-500",onClick:n}):l=="danger"?e=a(b,{className:"mx-auto text-7xl my-5 text-red-500",onClick:n}):l=="info"?e=a(F,{className:"mx-auto text-7xl my-5 text-blue-500",onClick:n}):l=="success"&&(e=a(E,{className:"mx-auto text-7xl my-5 text-green-500",onClick:n})),a(K,{show:i,maxWidth:"md",onClose:n,children:s("div",{className:"p-6 text-center",children:[a("p",{className:"text-3xl tracking-wider font-semibold",children:h}),e]})})},na=({branch:r,employee:n,...i})=>{const h=n.from,l=n.data,[e,v]=d.useState({branch_id:"",is_active:"",search:"",...i.filters}),[w,p]=d.useState(!1);d.useState({show:!1,data:""});const x=t=>{p(!0);const c={...e,[t.target.name]:t.target.value};g.get(route("employee.index",{data:c}))},_=r.sort().map(t=>({id:t.id,display:t.unit,value:t.id})),k=t=>{v({...e,search:t.target.value})},M=t=>{p(!0),t.preventDefault();const c=document.getElementById("searchFill"),P={...e,search:c.value};g.get(route("employee.index",{data:P,onProgress:W=>{console.log("asd")}}))},[j,m]=d.useState({show:!1,textAlert:null,typeAlert:null}),A=t=>{m(!1)};return d.useEffect(()=>{i.flash.message&&m({show:!0,textAlert:i.flash.message,typeAlert:"success"}),i.errors[0]&&m({show:!0,textAlert:i.errors[0],typeAlert:"danger"})},[]),s(L,{auth:i.auth,errors:i.errors,header:s(I,{children:[a("h2",{className:"font-semibold text-xl text-main-800 leading-tight",children:"Daftar Karyawan"}),a("div",{className:"ml-auto flex items-center",children:a(y,{as:"a",href:route("employee.create"),icon:a(D,{}),size:"md",title:"Tambah"})})]}),children:[a(J,{alertParams:j,onClose:A}),a(S,{title:"Dashboard"}),a(T,{show:w}),a("div",{className:"py-3",children:a("div",{className:"mx-auto sm:px-6 lg:px-8",children:a("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:s("div",{className:"border p-6 text-main-800",children:[s("div",{className:"flex justify-between w-full items-center mb-6",children:[s("div",{className:"flex gap-3 items-center",children:[a(f,{value:"Unit :",className:"font-semibold"}),a(u,{value:e.branch_id,name:"branch_id",onChange:x,nullValue:!0,options:_})]}),s("div",{className:"ml-3 flex gap-3 items-center",children:[a(f,{value:"Status Karyawan :",className:"font-semibold"}),a(u,{value:e.is_active,name:"is_active",onChange:x,nullValue:!0,options:[{id:1,value:1,display:"Aktiv"},{id:2,value:2,display:"Keluar"}]})]}),a("div",{className:"ml-auto",children:s("form",{className:"flex gap-3",onSubmit:M,children:[a(C,{placeholder:"Cari Nama",id:"searchFill",className:"px-6",onChange:k,value:e.search}),a(B,{type:"submit",title:"search"})]})})]}),a("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg text-main-800 mb-6",children:s("table",{className:"w-full text-sm text-left text-main-500 dark:text-main-400",children:[a("thead",{className:"text-xs text-main-700 uppercase bg-main-100 dark:bg-gray-700 dark:text-main-400",children:s("tr",{children:[a("th",{className:"px-6 py-3",children:"Nomor"}),a("th",{className:"px-6 py-3",children:"Action"}),a("th",{className:"px-6 py-3",children:"NIP"}),a("th",{className:"px-6 py-3",children:"Nama Karyawan"}),a("th",{className:"px-6 py-3",children:"NIK"}),a("th",{className:"px-6 py-3",children:a("span",{className:"px-32",children:"Alamat"})}),a("th",{className:"px-6 py-3",children:"Tanggal Masuk"}),a("th",{className:"px-6 py-3",children:"Lama Bekerja"}),a("th",{className:"px-6 py-3",children:"Jabatan"}),a("th",{className:"px-6 py-3",children:"Wilayah"}),a("th",{className:"px-6 py-3",children:"Cabang"}),a("th",{className:"px-6 py-3",children:"Jenis Jaminan"}),a("th",{className:"px-6 py-3 bg-gray-200",children:"Tanggal Perpindahan"}),a("th",{className:"px-6 py-3 bg-gray-200",children:"History Perpindahan"}),a("th",{className:"px-6 py-3 bg-gray-200",children:"Keterangan Perpindahan"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Tanggal Berhenti"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Keterangan Berhenti"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Tanggal Pengambilan S.Sukarela"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Petugas"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Tanggal Pengambilan S.Wajib"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Petugas"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Pengambilan Jaminan"}),a("th",{className:"px-6 py-3 bg-rose-100",children:"Petugas"})]})}),a("tbody",{children:l&&l.map((t,c)=>s("tr",{className:`border-b dark:bg-gray-900 dark:border-gray-700 ${t.resign_status=="Resign"?"bg-yellow-200":t.resign_status=="Pecat"?"bg-red-200":t.janis_jaminan==null||t.janis_jaminan==""?"bg-blue-200":"bg-white"}`,children:[a("td",{className:"px-6 py-4",children:c+h}),a("td",{className:"px-6 py-4",children:a("div",{className:"flex gap-2",children:a(y,{as:"a",href:route("employee.action",t.id),theme:"yellow",size:"sm",title:"Edit"})})}),a("td",{className:"px-6 py-4",children:t.nip}),a("td",{className:"px-6 py-4 whitespace-nowrap",children:t.nama_karyawan}),a("td",{className:"px-6 py-4",children:t.nik}),a("td",{className:"px-6 py-4",children:t.alamat}),a("td",{className:"px-6 py-4",children:N(t.hire_date).format("DD/MM/YYYY")}),a("td",{className:"px-6 py-4",children:Math.floor(N().diff(t.hire_date,"year",!0))}),a("td",{className:"px-6 py-4 whitespace-nowrap",children:t.area==0?t.jabatan:`${t.jabatan} ${t.area}`}),a("td",{className:"px-6 py-4 whitespace-nowrap",children:t.branch.wilayah}),a("td",{className:"px-6 py-4 whitespace-nowrap",children:t.branch.unit}),a("td",{className:"px-6 py-4",children:t.janis_jaminan}),a("td",{className:"px-6 py-4",children:t.history&&t.history.history_date}),a("td",{className:"px-6 py-4 uppercase",children:t.history&&t.history.keterangan}),a("td",{className:"px-6 py-4",children:t.history&&t.history.record}),a("td",{className:"px-6 py-4",children:t.date_resign}),a("td",{className:"px-6 py-4",children:t.resign_status}),a("td",{className:"px-6 py-4",children:t.pencairan_simpanan_date}),a("td",{className:"px-6 py-4",children:t.ttdss?t.ttdss.nama_karyawan:""}),a("td",{className:"px-6 py-4",children:t.pencairan_simpanan_w_date}),a("td",{className:"px-6 py-4",children:t.ttdsw?t.ttdsw.nama_karyawan:""}),a("td",{className:"px-6 py-4",children:t.handover_jaminan}),a("td",{className:"px-6 py-4",children:t.ttdjaminan?t.ttdjaminan.nama_karyawan:""})]},t.id))})]})}),a(z,{data:n})]})})})})]})};export{na as default};

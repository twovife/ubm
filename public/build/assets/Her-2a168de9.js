import{r,a as o,j as e,R as _}from"./app-34cdcbf9.js";import{C as c}from"./Navbar-bd2e4a8a.js";import{P as D}from"./PrimaryButton-dc934c7f.js";import{A as R}from"./AuthenticatedLayout-82eb587a.js";import k from"./Create-8675d880.js";import{u as H,T as j,a as M,b as m,c as $,f as d,d as A,e as g,g as B}from"./index-0ecf6db6.js";import{S as K}from"./Search-5784ef56.js";import{F as P}from"./index.esm-cfd29145.js";import V from"./DetailHer-84efc63e.js";import{S as z,a as F}from"./scroll-area-1d03f0e1.js";import"./iconBase-3fb63a17.js";import"./transition-c77e7de4.js";import"./index.esm-0334441d.js";import"./Loading-b6b2c8b9.js";import"./dialog-0511120a.js";import"./utils-01642ffa.js";import"./InputLabel-2e42cde8.js";import"./TextInput-0970bdd4.js";import"./index.esm-1aeaf8ef.js";import"./InputError-94b92dd1.js";import"./SelectList-9aed8459.js";import"./useServerFilter-6d653e23.js";import"./ButtonWrapper-1ebf408f.js";import"./dayjs.min-f5ed558d.js";import"./HerPayment-c87827b6.js";import"./Checkbox-ed47512f.js";const fe=({datas:b,...L})=>{const[x,E]=r.useState(()=>b),[u,w]=r.useState(!1),[C,p]=r.useState(!1),N=a=>{p(!0)},T=a=>{p(!1)},[s,h]=r.useState(),[S,f]=r.useState(),v=(a,l)=>{s==a?(f(),h()):(h(a),f(l))},y=r.useMemo(()=>[{accessorKey:"bulan",id:"bulan",type:"collapse",cell:a=>a.getValue(),header:()=>"Bulan"},{accessorKey:"total_asset_aktif",id:"total_asset_aktif",cell:a=>a.getValue(),header:()=>"Total Asset"},{accessorKey:"total_asset_her",id:"total_asset_her",cell:a=>a.getValue(),header:()=>"Total Her"}],[]),n=H({data:x,columns:y,getCoreRowModel:B()});return o(R,{loading:u,children:[o(c,{judul:"Aset Kendaraan",children:[e(c.subTitle,{children:e("div",{className:"flex lg:flex-row flex-col lg:justify-between items-center gap-3",children:e(c.endContent,{className:"flex-wrap",children:e(K,{loading:u,setLoading:w,urlLink:route("asset.kendaraan.her"),localState:"asset_kendaraan_her",availableMonth:!0,children:e(D,{type:"button",onClick:N,children:"Tambah Baru"})})})})}),o(j,{className:"border text-xs lg:text-sm",children:[e(M,{children:n.getHeaderGroups().map((a,l)=>e(m,{children:a.headers.map((t,i)=>e($,{className:`text-center lg:whitespace-nowrap whitespace-pre-line duration-300 ease-linear ${s?"bg-green-200 text-black":""}`,children:d(t.column.columnDef.header,t.getContext())},i))},l))}),e(A,{className:"text-center",children:n.getRowModel().rows.length?n.getRowModel().rows.map((a,l)=>o(_.Fragment,{children:[e(m,{className:`${a.original.is_active==2?"bg-red-100 even:bg-red-50 hover:bg-red-200":""}`,children:a.getVisibleCells().map((t,i)=>e(g,{className:`${t.column.columnDef.className} ${s==a.original.id?"bg-gray-100":""} w-1/3`,children:t.column.columnDef.type=="collapse"?o("div",{className:"flex w-full items-center justify-center gap-3",children:[e("button",{onClick:()=>v(a.original.id,a.original.datas),className:`flex justify-center items-start hover:text-roman-500 ${s==a.original.id?"rotate-90 text-roman-500":""} `,children:e(P,{})}),e("div",{children:d(t.column.columnDef.cell,t.getContext())})]}):d(t.column.columnDef.cell,t.getContext())},i))},l),s==a.original.id&&e(m,{className:"p-0 hover:bg-transparent",children:e(g,{colSpan:"3",className:"p-2 border-0",children:e("div",{className:"flex max-w-full relative overflow-auto w-full z-10 h-[50vh]",children:e("div",{className:"absolute top-0 w-full h-full z-20",children:o(z,{className:"h-full w-full",children:[e(V,{datas:S}),e(F,{orientation:"horizontal"})]})})})})},`newrow${l}`)]},l)):null})]})]}),e(k,{open:C,onClosed:T})]})};export{fe as default};

import{r as l,a as o,j as a,R as _}from"./app-15a65f49.js";import{C as c}from"./Navbar-8307b345.js";import{P as D}from"./PrimaryButton-27d9f578.js";import{A as R}from"./AuthenticatedLayout-5446e34f.js";import k from"./Create-6f28b858.js";import{u as H,T as j,a as M,b as m,c as $,f as d,d as A,e as f,g as B}from"./index-7a4838b1.js";import{S as K}from"./Search-dfc252c4.js";import{F as P}from"./index.esm-8815781d.js";import V from"./DetailHer-a32f1db9.js";import"./iconBase-e73ac9d8.js";import"./transition-72712b5f.js";import"./index.esm-382287a8.js";import"./Loading-b2f2b3c5.js";import"./dialog-ea3cb2cf.js";import"./utils-01642ffa.js";import"./InputLabel-a7e268ec.js";import"./TextInput-7351ce8b.js";import"./index.esm-c19d9da0.js";import"./InputError-af6aa722.js";import"./SelectList-cb58a67c.js";import"./useServerFilter-b2d73a13.js";import"./ButtonWrapper-331eb1e4.js";import"./dayjs.min-e74ede01.js";import"./HerPayment-24bf4b2c.js";import"./Checkbox-a761eadc.js";const pe=({datas:b,...F})=>{const[x,L]=l.useState(()=>b),[p,w]=l.useState(!1),[C,u]=l.useState(!1),T=e=>{u(!0)},N=e=>{u(!1)},[s,h]=l.useState(),[v,g]=l.useState(),y=(e,r)=>{s==e?(g(),h()):(h(e),g(r))},S=l.useMemo(()=>[{accessorKey:"bulan",id:"bulan",type:"collapse",cell:e=>e.getValue(),header:()=>"Bulan"},{accessorKey:"total_asset_aktif",id:"total_asset_aktif",cell:e=>e.getValue(),header:()=>"Total Asset"},{accessorKey:"total_asset_her",id:"total_asset_her",cell:e=>e.getValue(),header:()=>"Total Her"}],[]),n=H({data:x,columns:S,getCoreRowModel:B()});return o(R,{loading:p,children:[o(c,{judul:"Aset Kendaraan",children:[a(c.subTitle,{children:a("div",{className:"flex lg:flex-row flex-col lg:justify-between items-center gap-3",children:a(c.endContent,{className:"flex-wrap",children:a(K,{loading:p,setLoading:w,urlLink:route("asset.kendaraan.her"),localState:"asset_kendaraan_her",availableMonth:!0,children:a(D,{type:"button",onClick:T,children:"Tambah Baru"})})})})}),o(j,{className:"border text-xs lg:text-sm",children:[a(M,{children:n.getHeaderGroups().map((e,r)=>a(m,{children:e.headers.map((t,i)=>a($,{className:`text-center lg:whitespace-nowrap whitespace-pre-line duration-300 ease-linear ${s?"bg-green-200 text-black":""}`,children:d(t.column.columnDef.header,t.getContext())},i))},r))}),a(A,{className:"text-center",children:n.getRowModel().rows.length?n.getRowModel().rows.map((e,r)=>o(_.Fragment,{children:[a(m,{className:`${e.original.is_active==2?"bg-red-100 even:bg-red-50 hover:bg-red-200":""}`,children:e.getVisibleCells().map((t,i)=>a(f,{className:`${t.column.columnDef.className} ${s==e.original.id?"bg-gray-100":""} w-1/3`,children:t.column.columnDef.type=="collapse"?o("div",{className:"flex w-full items-center justify-center gap-3",children:[a("button",{onClick:()=>y(e.original.id,e.original.datas),className:`flex justify-center items-start hover:text-roman-500 ${s==e.original.id?"rotate-90 text-roman-500":""} `,children:a(P,{})}),a("div",{children:d(t.column.columnDef.cell,t.getContext())})]}):d(t.column.columnDef.cell,t.getContext())},i))},r),s==e.original.id&&a(m,{className:"p-0 hover:bg-transparent",children:a(f,{colSpan:"3",className:"p-2 border-0",children:a("div",{className:"flex max-w-full relative overflow-auto w-full h-[50vh]",children:a(V,{datas:v})})})},`newrow${r}`)]},r)):null})]})]}),a(k,{open:C,onClosed:N})]})};export{pe as default};

import{r as s,a as o,j as a,R as A}from"./app-15a65f49.js";import{C as m}from"./Navbar-8307b345.js";import{P as R}from"./PrimaryButton-27d9f578.js";import{A as j}from"./AuthenticatedLayout-5446e34f.js";import H from"./Create-6f28b858.js";import{u as M,T as $,a as F,b as p,c as K,f as i,d as P,e as w,g as V}from"./index-7a4838b1.js";import"./Loading-b2f2b3c5.js";import"./dayjs.min-e74ede01.js";import{S as B}from"./Search-dfc252c4.js";import{F as L}from"./index.esm-8815781d.js";import O from"./DataDetail-a6fbeb66.js";import"./iconBase-e73ac9d8.js";import"./transition-72712b5f.js";import"./index.esm-382287a8.js";import"./dialog-ea3cb2cf.js";import"./utils-01642ffa.js";import"./InputLabel-a7e268ec.js";import"./TextInput-7351ce8b.js";import"./index.esm-c19d9da0.js";import"./InputError-af6aa722.js";import"./SelectList-cb58a67c.js";import"./useServerFilter-b2d73a13.js";import"./ButtonWrapper-331eb1e4.js";import"./Edit-424e3442.js";const he=({datas:C,...E})=>{const[N,G]=s.useState(()=>C),[u,v]=s.useState(!1),[_,h]=s.useState(!1),y=e=>{h(!0)},S=e=>{h(!1)},[r,f]=s.useState(),[c,g]=s.useState(),[T,x]=s.useState(),D=(e,l,t)=>{if(console.log(e),r==l&&c==e)x(),f(),g();else{f(l);const n=t.filter(b=>e=="active"?b.is_active===1:b.is_active!==1);x(n),g(e)}},k=s.useMemo(()=>[{accessorKey:"branch",id:"branch",cell:e=>e.getValue(),header:()=>"Unit"},{accessorKey:"total_asset_aktif",id:"total_asset_aktif",type:"collapse",dataColapse:"active",cell:e=>e.getValue(),header:()=>"Asset Aktif"},{accessorKey:"total_asset_non_aktif",id:"total_asset_non_aktif",type:"collapse",dataColapse:"non",cell:e=>e.getValue(),header:()=>"Asset Non Aktif"}],[]),d=M({data:N,columns:k,getCoreRowModel:V()});return o(j,{loading:u,children:[o(m,{judul:"Aset Kendaraan",children:[a(m.subTitle,{children:a("div",{className:"flex lg:flex-row flex-col lg:justify-between items-center gap-3",children:a(m.endContent,{className:"flex-wrap",children:a(B,{loading:u,setLoading:v,urlLink:route("asset.kendaraan.index"),localState:"asset_kendaraan_index",FilterWilayahOnly:!0,children:a(R,{type:"button",onClick:y,children:"Tambah Baru"})})})})}),o($,{className:"border text-xs lg:text-sm",children:[a(F,{children:d.getHeaderGroups().map((e,l)=>a(p,{children:e.headers.map((t,n)=>a(K,{className:`text-center lg:whitespace-nowrap whitespace-pre-line duration-300 ease-linear ${r?"bg-green-200 text-black":""}`,children:i(t.column.columnDef.header,t.getContext())},n))},l))}),a(P,{className:"text-center",children:d.getRowModel().rows.length?d.getRowModel().rows.map((e,l)=>o(A.Fragment,{children:[a(p,{className:`${e.original.is_active==2?"bg-red-100 even:bg-red-50 hover:bg-red-200":""}`,children:e.getVisibleCells().map((t,n)=>a(w,{className:`${t.column.columnDef.className} w-1/3`,children:t.column.columnDef.type=="collapse"?o("div",{className:"flex w-full items-center justify-center gap-3",children:[a("button",{onClick:()=>D(t.column.columnDef.dataColapse,e.original.branch_id,e.original.datas),className:`flex justify-center items-start hover:text-roman-500 ${r==e.original.branch_id&&c==t.column.columnDef.dataColapse?"rotate-90 text-roman-500":""} `,children:a(L,{})}),a("div",{children:i(t.column.columnDef.cell,t.getContext())})]}):r==e.original.branch_id?o("div",{className:"grid lg:grid-cols-2 grid-cols-1",children:[i(t.column.columnDef.cell,t.getContext()),c=="non"?a("span",{className:"ml-1 px-2 py-1 bg-red-400 text-white rounded-full text-xs",children:"Non Active"}):a("span",{className:"ml-1 px-2 py-1 bg-green-400 text-white rounded-full text-xs",children:"Active"})]}):i(t.column.columnDef.cell,t.getContext())},n))},l),r==e.original.branch_id&&a(p,{className:"p-0 hover:bg-transparent",children:a(w,{colSpan:"3",className:"p-2 border-0",children:a("div",{className:"flex max-w-full relative overflow-auto w-full h-[50vh]",children:a(O,{datas:T})})})},`newrow${l}`)]},l)):null})]})]}),a(H,{open:_,onClosed:S})]})};export{he as default};

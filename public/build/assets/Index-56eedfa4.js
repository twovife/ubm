import{r as l,j as e,a as n,R as k,F as R}from"./app-02daae82.js";import{A as _}from"./AuthenticatedLayout-50b04756.js";import{C as o}from"./Navbar-25c622c5.js";import{S as j}from"./Search-b0264cc4.js";import"./DefaultTable-5265205f.js";import F from"./TabelUnit-ce829370.js";import{u as S,T as D,a as M,b as h,c as w,f as i,d as L,e as A,g as K,h as V}from"./table-ece589a0.js";import{F as y}from"./FormatNumbering-4321500b.js";import"./Loading-5377d93d.js";import"./transition-de6f9320.js";import"./iconBase-29f29ecf.js";import"./index.esm-b32c738a.js";import"./index.esm-21f6a8e9.js";import"./PrimaryButton-766ea5f3.js";import"./SelectList-2b8f6e47.js";import"./useServerFilter-cf57a595.js";import"./TextInput-0be98de0.js";import"./ButtonWrapper-c5241022.js";import"./Create-66c33e35.js";import"./InputError-4b2065f7.js";import"./InputLabel-cf4d0354.js";import"./index.esm-4764c0db.js";import"./dialog-902129b6.js";import"./utils-01642ffa.js";import"./react-number-format.es-44e0fe2c.js";const ue=({branch:B,server_filters:H,datas:d,batch_datas:s,...W})=>{var f;const[m,p]=l.useState(!1),[g,x]=l.useState(((f=s[0])==null?void 0:f.wilayah)??null),v=a=>{x(a)},[b,N]=l.useState(()=>d);l.useEffect(()=>{N(d)},[d]);const T=(a=>a.reduce((r,t)=>(r.total+=t.total||0,r),{total:0}))(b),C=l.useMemo(()=>[{accessorKey:"wilayah",id:"wilayah",cell:a=>a.getValue(),header:()=>"Wilayah"},{accessorKey:"total",id:"total",cell:a=>e(y,{value:a.getValue()}),header:()=>"Total",footer:a=>e(y,{value:T.total})},{accessorKey:"last_month_payment",id:"last_month_payment",cell:a=>a.getValue(),header:()=>"Keterangan"}],[]),c=S({data:b,columns:C,getCoreRowModel:V()});return n(_,{loading:m,children:[n(o,{judul:"Tabungan 1JT Unit",children:[e(o.subTitle,{children:n("div",{className:"flex lg:flex-row flex-col lg:justify-between items-center gap-3",children:[e(o.startContent,{className:"flex-wrap mb-3 lg:mb-0"}),e(o.endContent,{className:"flex-wrap",children:e(j,{loading:m,setLoading:p,urlLink:route("unitsaving.index"),localState:"unitsaving_index",availableMonth:!0})})]})}),n(D,{className:"border",children:[e(M,{children:c.getHeaderGroups().map((a,r)=>e(h,{children:a.headers.map((t,u)=>e(w,{className:"text-center",children:i(t.column.columnDef.header,t.getContext())},u))},r))}),e(L,{children:c.getRowModel().rows.length?c.getRowModel().rows.map((a,r)=>e(k.Fragment,{children:e(h,{className:"text-center",children:a.getVisibleCells().map((t,u)=>e(A,{className:t.column.columnDef.className,children:t.column.columnDef.type=="action"?e("div",{className:"flex items-center justify-center-center",children:e("div",{className:"w-full",children:i(t.row.original.button_type)==2?e("button",{onClick:()=>handleOpenCreate(t.row.original.branch_id,t.row.original.unit),className:"px-2 py-1 rounded-lg bg-green-500 text-white",children:"Baru"}):i(t.row.original.button_type)==3?e(Link,{href:route("unitsaving.savingdetails",t.row.original.id),className:"px-2 py-1 rounded-lg bg-gray-500 text-white",children:"Tutup"}):i(t.row.original.button_type)==4?e("div",{className:"px-2 py-1 rounded-lg",children:"Non Aktif"}):i(t.row.original.button_type)==1?e(Link,{href:route("unitsaving.savingdetails",t.row.original.id),className:"px-2 py-1 rounded-lg bg-indigo-500 text-white",children:"Setor"}):i(t.row.original.button_type)==5?e(Link,{href:route("unitsaving.savingdetails",t.row.original.id),className:"px-2 py-1 rounded-lg bg-amber-500 text-white",children:"Nihil"}):"invalid"})}):i(t.column.columnDef.cell,t.getContext())},u))},r)},r)):null}),e(K,{children:c.getFooterGroups().map((a,r)=>e(h,{children:a.headers.map(t=>e(w,{className:"text-center bg-gray-100 text-black",children:i(t.column.columnDef.footer,t.getContext())},t.id))},r))})]})]}),e(o,{judul:"Wilayah",children:e("div",{className:"w-full",children:s.length>0?n(R,{children:[e("ul",{className:"tab-list flex justify-start gap-3 flex-wrap",children:s.map(a=>e("li",{className:`tab ${g===a.wilayah?"active bg-main-400 ring-2 ring-main-500":""} px-3 py-1 border rounded hover:bg-main-400 hover:cursor-pointer`,onClick:()=>v(a.wilayah),children:a.wilayah},a.wilayah))}),e("div",{className:"tab-content mt-3",children:s.map(a=>e("div",{className:g===a.wilayah?"active":"hidden",children:e(F,{triggeredWilayah:a.wilayah,loading:m,setLoading:p})},a.wilayah))})]}):e("div",{children:"Belum ada data yang di input di wilayah ini"})})})]})};export{ue as default};

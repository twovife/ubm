import{r as s,a as o,j as a,R as A}from"./app-03fb5093.js";import{A as R,C as m}from"./AuthenticatedLayout-3b6ef8cf.js";import{P as j}from"./PrimaryButton-842e4140.js";import H from"./Create-ae1d8cea.js";import{u as M,T as $,a as F,b as p,c as K,f as i,d as P,e as w,g as V}from"./index-a2cbdac7.js";import"./Loading-6c5c37e7.js";import"./dayjs.min-3ce3b738.js";import{S as B}from"./Search-d9e54ee9.js";import{F as L}from"./index.esm-72e650d3.js";import O from"./DataDetail-a63db918.js";import"./transition-62fd6406.js";import"./iconBase-4881e141.js";import"./index.esm-7a477193.js";import"./dialog-4ea01c6c.js";import"./utils-01642ffa.js";import"./InputLabel-2a4bfdd0.js";import"./TextInput-9244e08a.js";import"./index.esm-e8b696db.js";import"./InputError-379f7db7.js";import"./SelectList-1a007774.js";import"./useServerFilter-32035045.js";import"./ButtonWrapper-67671d32.js";import"./Edit-44ac9f30.js";const ue=({datas:C,...E})=>{const[N,G]=s.useState(()=>C),[u,v]=s.useState(!1),[_,h]=s.useState(!1),y=e=>{h(!0)},S=e=>{h(!1)},[r,f]=s.useState(),[c,g]=s.useState(),[T,x]=s.useState(),D=(e,l,t)=>{if(console.log(e),r==l&&c==e)x(),f(),g();else{f(l);const n=t.filter(b=>e=="active"?b.is_active===1:b.is_active!==1);x(n),g(e)}},k=s.useMemo(()=>[{accessorKey:"branch",id:"branch",cell:e=>e.getValue(),header:()=>"Unit"},{accessorKey:"total_asset_aktif",id:"total_asset_aktif",type:"collapse",dataColapse:"active",cell:e=>e.getValue(),header:()=>"Asset Aktif"},{accessorKey:"total_asset_non_aktif",id:"total_asset_non_aktif",type:"collapse",dataColapse:"non",cell:e=>e.getValue(),header:()=>"Asset Non Aktif"}],[]),d=M({data:N,columns:k,getCoreRowModel:V()});return o(R,{loading:u,children:[o(m,{judul:"Aset Kendaraan",children:[a(m.subTitle,{children:a("div",{className:"flex lg:flex-row flex-col lg:justify-between items-center gap-3",children:a(m.endContent,{className:"flex-wrap",children:a(B,{loading:u,setLoading:v,urlLink:route("asset.kendaraan.index"),localState:"asset_kendaraan_index",FilterWilayahOnly:!0,children:a(j,{type:"button",onClick:y,children:"Tambah Baru"})})})})}),o($,{className:"border text-xs lg:text-sm",children:[a(F,{children:d.getHeaderGroups().map((e,l)=>a(p,{children:e.headers.map((t,n)=>a(K,{className:`text-center lg:whitespace-nowrap whitespace-pre-line duration-300 ease-linear ${r?"bg-green-200 text-black":""}`,children:i(t.column.columnDef.header,t.getContext())},n))},l))}),a(P,{className:"text-center",children:d.getRowModel().rows.length?d.getRowModel().rows.map((e,l)=>o(A.Fragment,{children:[a(p,{className:`${e.original.is_active==2?"bg-red-100 even:bg-red-50 hover:bg-red-200":""}`,children:e.getVisibleCells().map((t,n)=>a(w,{className:`${t.column.columnDef.className} w-1/3`,children:t.column.columnDef.type=="collapse"?o("div",{className:"flex w-full items-center justify-center gap-3",children:[a("button",{onClick:()=>D(t.column.columnDef.dataColapse,e.original.branch_id,e.original.datas),className:`flex justify-center items-start hover:text-roman-500 ${r==e.original.branch_id&&c==t.column.columnDef.dataColapse?"rotate-90 text-roman-500":""} `,children:a(L,{})}),a("div",{children:i(t.column.columnDef.cell,t.getContext())})]}):r==e.original.branch_id?o("div",{className:"grid lg:grid-cols-2 grid-cols-1",children:[i(t.column.columnDef.cell,t.getContext()),c=="non"?a("span",{className:"ml-1 px-2 py-1 bg-red-400 text-white rounded-full text-xs",children:"Non Active"}):a("span",{className:"ml-1 px-2 py-1 bg-green-400 text-white rounded-full text-xs",children:"Active"})]}):i(t.column.columnDef.cell,t.getContext())},n))},l),r==e.original.branch_id&&a(p,{className:"p-0 hover:bg-transparent",children:a(w,{colSpan:"3",className:"p-2 border-0",children:a("div",{className:"flex max-w-full relative overflow-auto w-full h-[50vh]",children:a(O,{datas:T})})})},`newrow${l}`)]},l)):null})]})]}),a(H,{open:_,onClosed:S})]})};export{ue as default};

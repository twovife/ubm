import{r as o,j as e,a as i,R as C,F as _}from"./app-9ebf769c.js";import{A as S,C as n}from"./AuthenticatedLayout-24a86f0d.js";import{S as k}from"./Search-c8f48bb6.js";import R from"./TabelUnit-8b5c8a53.js";import{u as j,T as F,a as L,b as g,c as f,f as l,d as D,e as M,g as A,h as I}from"./table-483daf3b.js";import{T as K,a as V,b as E,c as H}from"./tabs-5fd494a8.js";import{F as w}from"./FormatNumbering-10cce313.js";import"./transition-0247d4df.js";import"./Loading-d148a701.js";import"./iconBase-65420739.js";import"./index.esm-248cfe20.js";import"./index.esm-28d8e751.js";import"./PrimaryButton-29581f6d.js";import"./SelectList-714b7fc3.js";import"./useServerFilter-fa43e14d.js";import"./TextInput-5c77428e.js";import"./ButtonWrapper-a1f738f6.js";import"./Create-b17e5be2.js";import"./InputError-efb1c53f.js";import"./InputLabel-47189f62.js";import"./index.esm-7b87d996.js";import"./dialog-8ea8bf26.js";import"./index-b12c8b0a.js";import"./utils-01642ffa.js";import"./react-number-format.es-5b2e0b92.js";import"./index-cab5e03c.js";const be=({branch:W,server_filters:B,datas:d,batch_datas:s,...G})=>{const[m,p]=o.useState(!1),[x,h]=o.useState(0),y=a=>{localStorage.setItem("tabsActive_sksw_global_index",a),h(a)};o.useEffect(()=>{const a=localStorage.getItem("tabsActive_sksw_global_index");h(parseInt(a)||0)},[]);const[b,T]=o.useState(()=>d);o.useEffect(()=>{T(d)},[d]);const v=(a=>a.reduce((r,t)=>(r.total+=t.total||0,r),{total:0}))(b),N=o.useMemo(()=>[{accessorKey:"wilayah",id:"wilayah",cell:a=>a.getValue(),header:()=>"Wilayah"},{accessorKey:"total",id:"total",cell:a=>e(w,{value:a.getValue()}),header:()=>"Total",footer:a=>e(w,{value:v.total})},{accessorKey:"last_month_payment",id:"last_month_payment",cell:a=>a.getValue(),header:()=>"Keterangan"}],[]),c=j({data:b,columns:N,getCoreRowModel:I()});return i(S,{loading:m,children:[i(n,{judul:"Tabungan 1JT Unit",children:[e(n.subTitle,{children:i("div",{className:"flex flex-col items-center gap-3 lg:flex-row lg:justify-between",children:[e(n.startContent,{className:"flex-wrap mb-3 lg:mb-0"}),e(n.endContent,{className:"flex-wrap",children:e(k,{loading:m,setLoading:p,urlLink:route("unitsaving.index"),localState:"unitsaving_index",availableMonth:!0})})]})}),i(F,{className:"border",children:[e(L,{children:c.getHeaderGroups().map((a,r)=>e(g,{children:a.headers.map((t,u)=>e(f,{className:"text-center",children:l(t.column.columnDef.header,t.getContext())},u))},r))}),e(D,{children:c.getRowModel().rows.length?c.getRowModel().rows.map((a,r)=>e(C.Fragment,{children:e(g,{className:"text-center",children:a.getVisibleCells().map((t,u)=>e(M,{className:t.column.columnDef.className,children:t.column.columnDef.type=="action"?e("div",{className:"flex items-center justify-center-center",children:e("div",{className:"w-full",children:l(t.row.original.button_type)==2?e("button",{onClick:()=>handleOpenCreate(t.row.original.branch_id,t.row.original.unit),className:"px-2 py-1 text-white bg-green-500 rounded-lg",children:"Baru"}):l(t.row.original.button_type)==3?e(Link,{href:route("unitsaving.savingdetails",t.row.original.id),className:"px-2 py-1 text-white bg-gray-500 rounded-lg",children:"Tutup"}):l(t.row.original.button_type)==4?e("div",{className:"px-2 py-1 rounded-lg",children:"Non Aktif"}):l(t.row.original.button_type)==1?e(Link,{href:route("unitsaving.savingdetails",t.row.original.id),className:"px-2 py-1 text-white bg-indigo-500 rounded-lg",children:"Setor"}):l(t.row.original.button_type)==5?e(Link,{href:route("unitsaving.savingdetails",t.row.original.id),className:"px-2 py-1 text-white rounded-lg bg-amber-500",children:"Nihil"}):"invalid"})}):l(t.column.columnDef.cell,t.getContext())},u))},r)},r)):null}),e(A,{children:c.getFooterGroups().map((a,r)=>e(g,{children:a.headers.map(t=>e(f,{className:"text-center text-black bg-gray-100",children:l(t.column.columnDef.footer,t.getContext())},t.id))},r))})]})]}),e(n,{judul:"Wilayah",children:e("div",{className:"w-full",children:i(K,{className:"w-full",value:x,children:[e(V,{children:s.length>0?s.map((a,r)=>e(E,{onClick:()=>y(a.wilayah),value:a.wilayah,className:"ml-3 first:ml-0",children:a.wilayah})):null}),e(_,{children:s.length>0?s.map((a,r)=>e(H,{value:a.wilayah,children:e(R,{triggeredWilayah:a.wilayah,loading:m,setLoading:p})})):null})]})})})]})};export{be as default};

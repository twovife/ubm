import{r as v,j as w,f as Xe,a as rt,R as Ge}from"./app-02daae82.js";import{C as pt}from"./Navbar-25c622c5.js";import{F as it}from"./FormatNumbering-4321500b.js";import{S as Ke}from"./Search-b0264cc4.js";import{A as Ue}from"./AuthenticatedLayout-50b04756.js";import{c as oe}from"./utils-01642ffa.js";import{P as lt,i as Et,e as re,u as At,h as qe,g as st,f as ie,j as Ze,R as Je,S as Qe,k as tn,F as en,l as nn,m as on}from"./dialog-902129b6.js";import{u as rn,T as sn,a as an,b as mt,c as Xt,f as ht,d as cn,e as Gt,g as ln,h as fn}from"./table-ece589a0.js";import un from"./DetailGoro-92073422.js";import{a as dn}from"./index.esm-b32c738a.js";import{d as pn}from"./dayjs.min-ef1ffec7.js";import"./iconBase-29f29ecf.js";import"./transition-de6f9320.js";import"./index.esm-21f6a8e9.js";import"./react-number-format.es-44e0fe2c.js";import"./PrimaryButton-766ea5f3.js";import"./SelectList-2b8f6e47.js";import"./useServerFilter-cf57a595.js";import"./TextInput-0be98de0.js";import"./ButtonWrapper-c5241022.js";import"./Loading-5377d93d.js";import"./DetailPerUnitGoro-149c52e0.js";import"./Create-71645071.js";import"./InputLabel-cf4d0354.js";import"./index.esm-4764c0db.js";import"./InputError-4b2065f7.js";const mn=v.forwardRef(({className:t,type:e,...n},o)=>w("input",{type:e,className:oe("flex h-9 w-full rounded-md border border-slate-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-slate-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",t),ref:o,...n}));mn.displayName="Input";const hn=["top","right","bottom","left"],z=Math.min,H=Math.max,xt=Math.round,gt=Math.floor,G=t=>({x:t,y:t}),gn={left:"right",right:"left",bottom:"top",top:"bottom"},wn={start:"end",end:"start"};function Nt(t,e,n){return H(t,z(e,n))}function j(t,e){return typeof t=="function"?t(e):t}function Y(t){return t.split("-")[0]}function et(t){return t.split("-")[1]}function Mt(t){return t==="x"?"y":"x"}function _t(t){return t==="y"?"height":"width"}function K(t){return["top","bottom"].includes(Y(t))?"y":"x"}function Dt(t){return Mt(K(t))}function xn(t,e,n){n===void 0&&(n=!1);const o=et(t),r=Dt(t),i=_t(r);let s=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=vt(s)),[s,vt(s)]}function vn(t){const e=vt(t);return[Tt(t),e,Tt(e)]}function Tt(t){return t.replace(/start|end/g,e=>wn[e])}function yn(t,e,n){const o=["left","right"],r=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:o:e?o:r;case"left":case"right":return e?i:s;default:return[]}}function bn(t,e,n,o){const r=et(t);let i=yn(Y(t),n==="start",o);return r&&(i=i.map(s=>s+"-"+r),e&&(i=i.concat(i.map(Tt)))),i}function vt(t){return t.replace(/left|right|bottom|top/g,e=>gn[e])}function An(t){return{top:0,right:0,bottom:0,left:0,...t}}function se(t){return typeof t!="number"?An(t):{top:t,right:t,bottom:t,left:t}}function yt(t){const{x:e,y:n,width:o,height:r}=t;return{width:o,height:r,top:n,left:e,right:e+o,bottom:n+r,x:e,y:n}}function Kt(t,e,n){let{reference:o,floating:r}=t;const i=K(e),s=Dt(e),a=_t(s),c=Y(e),l=i==="y",m=o.x+o.width/2-r.width/2,d=o.y+o.height/2-r.height/2,h=o[a]/2-r[a]/2;let u;switch(c){case"top":u={x:m,y:o.y-r.height};break;case"bottom":u={x:m,y:o.y+o.height};break;case"right":u={x:o.x+o.width,y:d};break;case"left":u={x:o.x-r.width,y:d};break;default:u={x:o.x,y:o.y}}switch(et(e)){case"start":u[s]-=h*(n&&l?-1:1);break;case"end":u[s]+=h*(n&&l?-1:1);break}return u}const Pn=async(t,e,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let l=await s.getElementRects({reference:t,floating:e,strategy:r}),{x:m,y:d}=Kt(l,o,c),h=o,u={},f=0;for(let p=0;p<a.length;p++){const{name:g,fn:x}=a[p],{x:y,y:P,data:b,reset:A}=await x({x:m,y:d,initialPlacement:o,placement:h,strategy:r,middlewareData:u,rects:l,platform:s,elements:{reference:t,floating:e}});m=y??m,d=P??d,u={...u,[g]:{...u[g],...b}},A&&f<=50&&(f++,typeof A=="object"&&(A.placement&&(h=A.placement),A.rects&&(l=A.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:r}):A.rects),{x:m,y:d}=Kt(l,h,c)),p=-1)}return{x:m,y:d,placement:h,strategy:r,middlewareData:u}};async function at(t,e){var n;e===void 0&&(e={});const{x:o,y:r,platform:i,rects:s,elements:a,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:m="viewport",elementContext:d="floating",altBoundary:h=!1,padding:u=0}=j(e,t),f=se(u),g=a[h?d==="floating"?"reference":"floating":d],x=yt(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(g)))==null||n?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:l,rootBoundary:m,strategy:c})),y=d==="floating"?{x:o,y:r,width:s.floating.width,height:s.floating.height}:s.reference,P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),b=await(i.isElement==null?void 0:i.isElement(P))?await(i.getScale==null?void 0:i.getScale(P))||{x:1,y:1}:{x:1,y:1},A=yt(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:P,strategy:c}):y);return{top:(x.top-A.top+f.top)/b.y,bottom:(A.bottom-x.bottom+f.bottom)/b.y,left:(x.left-A.left+f.left)/b.x,right:(A.right-x.right+f.right)/b.x}}const Cn=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:r,rects:i,platform:s,elements:a,middlewareData:c}=e,{element:l,padding:m=0}=j(t,e)||{};if(l==null)return{};const d=se(m),h={x:n,y:o},u=Dt(r),f=_t(u),p=await s.getDimensions(l),g=u==="y",x=g?"top":"left",y=g?"bottom":"right",P=g?"clientHeight":"clientWidth",b=i.reference[f]+i.reference[u]-h[u]-i.floating[f],A=h[u]-i.reference[u],C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let E=C?C[P]:0;(!E||!await(s.isElement==null?void 0:s.isElement(C)))&&(E=a.floating[P]||i.floating[f]);const _=b/2-A/2,F=E/2-p[f]/2-1,T=z(d[x],F),D=z(d[y],F),k=T,L=E-p[f]-D,O=E/2-p[f]/2+_,M=Nt(k,O,L),$=!c.arrow&&et(r)!=null&&O!==M&&i.reference[f]/2-(O<k?T:D)-p[f]/2<0,R=$?O<k?O-k:O-L:0;return{[u]:h[u]+R,data:{[u]:M,centerOffset:O-M-R,...$&&{alignmentOffset:R}},reset:$}}}),Rn=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:r,middlewareData:i,rects:s,initialPlacement:a,platform:c,elements:l}=e,{mainAxis:m=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:p=!0,...g}=j(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Y(r),y=K(a),P=Y(a)===a,b=await(c.isRTL==null?void 0:c.isRTL(l.floating)),A=h||(P||!p?[vt(a)]:vn(a)),C=f!=="none";!h&&C&&A.push(...bn(a,p,f,b));const E=[a,...A],_=await at(e,g),F=[];let T=((o=i.flip)==null?void 0:o.overflows)||[];if(m&&F.push(_[x]),d){const O=xn(r,s,b);F.push(_[O[0]],_[O[1]])}if(T=[...T,{placement:r,overflows:F}],!F.every(O=>O<=0)){var D,k;const O=(((D=i.flip)==null?void 0:D.index)||0)+1,M=E[O];if(M)return{data:{index:O,overflows:T},reset:{placement:M}};let $=(k=T.filter(R=>R.overflows[0]<=0).sort((R,S)=>R.overflows[1]-S.overflows[1])[0])==null?void 0:k.placement;if(!$)switch(u){case"bestFit":{var L;const R=(L=T.filter(S=>{if(C){const N=K(S.placement);return N===y||N==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(N=>N>0).reduce((N,Ot)=>N+Ot,0)]).sort((S,N)=>S[1]-N[1])[0])==null?void 0:L[0];R&&($=R);break}case"initialPlacement":$=a;break}if(r!==$)return{reset:{placement:$}}}return{}}}};function Ut(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function qt(t){return hn.some(e=>t[e]>=0)}const On=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:o="referenceHidden",...r}=j(t,e);switch(o){case"referenceHidden":{const i=await at(e,{...r,elementContext:"reference"}),s=Ut(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:qt(s)}}}case"escaped":{const i=await at(e,{...r,altBoundary:!0}),s=Ut(i,n.floating);return{data:{escapedOffsets:s,escaped:qt(s)}}}default:return{}}}}};async function Sn(t,e){const{placement:n,platform:o,elements:r}=t,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),s=Y(n),a=et(n),c=K(n)==="y",l=["left","top"].includes(s)?-1:1,m=i&&c?-1:1,d=j(e,t);let{mainAxis:h,crossAxis:u,alignmentAxis:f}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof f=="number"&&(u=a==="end"?f*-1:f),c?{x:u*m,y:h*l}:{x:h*l,y:u*m}}const En=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:r,y:i,placement:s,middlewareData:a}=e,c=await Sn(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:r+c.x,y:i+c.y,data:{...c,placement:s}}}}},Nn=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:r}=e,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:g=>{let{x,y}=g;return{x,y}}},...c}=j(t,e),l={x:n,y:o},m=await at(e,c),d=K(Y(r)),h=Mt(d);let u=l[h],f=l[d];if(i){const g=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=u+m[g],P=u-m[x];u=Nt(y,u,P)}if(s){const g=d==="y"?"top":"left",x=d==="y"?"bottom":"right",y=f+m[g],P=f-m[x];f=Nt(y,f,P)}const p=a.fn({...e,[h]:u,[d]:f});return{...p,data:{x:p.x-n,y:p.y-o}}}}},Tn=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:o,placement:r,rects:i,middlewareData:s}=e,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=j(t,e),m={x:n,y:o},d=K(r),h=Mt(d);let u=m[h],f=m[d];const p=j(a,e),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const P=h==="y"?"height":"width",b=i.reference[h]-i.floating[P]+g.mainAxis,A=i.reference[h]+i.reference[P]-g.mainAxis;u<b?u=b:u>A&&(u=A)}if(l){var x,y;const P=h==="y"?"width":"height",b=["top","left"].includes(Y(r)),A=i.reference[d]-i.floating[P]+(b&&((x=s.offset)==null?void 0:x[d])||0)+(b?0:g.crossAxis),C=i.reference[d]+i.reference[P]+(b?0:((y=s.offset)==null?void 0:y[d])||0)-(b?g.crossAxis:0);f<A?f=A:f>C&&(f=C)}return{[h]:u,[d]:f}}}},Mn=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:r,elements:i}=e,{apply:s=()=>{},...a}=j(t,e),c=await at(e,a),l=Y(n),m=et(n),d=K(n)==="y",{width:h,height:u}=o.floating;let f,p;l==="top"||l==="bottom"?(f=l,p=m===(await(r.isRTL==null?void 0:r.isRTL(i.floating))?"start":"end")?"left":"right"):(p=l,f=m==="end"?"top":"bottom");const g=u-c.top-c.bottom,x=h-c.left-c.right,y=z(u-c[f],g),P=z(h-c[p],x),b=!e.middlewareData.shift;let A=y,C=P;if(d?C=m||b?z(P,x):x:A=m||b?z(y,g):g,b&&!m){const _=H(c.left,0),F=H(c.right,0),T=H(c.top,0),D=H(c.bottom,0);d?C=h-2*(_!==0||F!==0?_+F:H(c.left,c.right)):A=u-2*(T!==0||D!==0?T+D:H(c.top,c.bottom))}await s({...e,availableWidth:C,availableHeight:A});const E=await r.getDimensions(i.floating);return h!==E.width||u!==E.height?{reset:{rects:!0}}:{}}}};function nt(t){return ae(t)?(t.nodeName||"").toLowerCase():"#document"}function W(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function X(t){var e;return(e=(ae(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ae(t){return t instanceof Node||t instanceof W(t).Node}function B(t){return t instanceof Element||t instanceof W(t).Element}function V(t){return t instanceof HTMLElement||t instanceof W(t).HTMLElement}function Zt(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof W(t).ShadowRoot}function ft(t){const{overflow:e,overflowX:n,overflowY:o,display:r}=I(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(r)}function _n(t){return["table","td","th"].includes(nt(t))}function Pt(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function kt(t){const e=Ft(),n=I(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function Dn(t){let e=U(t);for(;V(e)&&!Q(e);){if(Pt(e))return null;if(kt(e))return e;e=U(e)}return null}function Ft(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Q(t){return["html","body","#document"].includes(nt(t))}function I(t){return W(t).getComputedStyle(t)}function Ct(t){return B(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function U(t){if(nt(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Zt(t)&&t.host||X(t);return Zt(e)?e.host:e}function ce(t){const e=U(t);return Q(e)?t.ownerDocument?t.ownerDocument.body:t.body:V(e)&&ft(e)?e:ce(e)}function ct(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=ce(t),i=r===((o=t.ownerDocument)==null?void 0:o.body),s=W(r);return i?e.concat(s,s.visualViewport||[],ft(r)?r:[],s.frameElement&&n?ct(s.frameElement):[]):e.concat(r,ct(r,[],n))}function le(t){const e=I(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const r=V(t),i=r?t.offsetWidth:n,s=r?t.offsetHeight:o,a=xt(n)!==i||xt(o)!==s;return a&&(n=i,o=s),{width:n,height:o,$:a}}function Lt(t){return B(t)?t:t.contextElement}function J(t){const e=Lt(t);if(!V(e))return G(1);const n=e.getBoundingClientRect(),{width:o,height:r,$:i}=le(e);let s=(i?xt(n.width):n.width)/o,a=(i?xt(n.height):n.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const kn=G(0);function fe(t){const e=W(t);return!Ft()||!e.visualViewport?kn:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Fn(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==W(t)?!1:e}function Z(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=Lt(t);let s=G(1);e&&(o?B(o)&&(s=J(o)):s=J(t));const a=Fn(i,n,o)?fe(i):G(0);let c=(r.left+a.x)/s.x,l=(r.top+a.y)/s.y,m=r.width/s.x,d=r.height/s.y;if(i){const h=W(i),u=o&&B(o)?W(o):o;let f=h,p=f.frameElement;for(;p&&o&&u!==f;){const g=J(p),x=p.getBoundingClientRect(),y=I(p),P=x.left+(p.clientLeft+parseFloat(y.paddingLeft))*g.x,b=x.top+(p.clientTop+parseFloat(y.paddingTop))*g.y;c*=g.x,l*=g.y,m*=g.x,d*=g.y,c+=P,l+=b,f=W(p),p=f.frameElement}}return yt({width:m,height:d,x:c,y:l})}function Ln(t){let{elements:e,rect:n,offsetParent:o,strategy:r}=t;const i=r==="fixed",s=X(o),a=e?Pt(e.floating):!1;if(o===s||a&&i)return n;let c={scrollLeft:0,scrollTop:0},l=G(1);const m=G(0),d=V(o);if((d||!d&&!i)&&((nt(o)!=="body"||ft(s))&&(c=Ct(o)),V(o))){const h=Z(o);l=J(o),m.x=h.x+o.clientLeft,m.y=h.y+o.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+m.x,y:n.y*l.y-c.scrollTop*l.y+m.y}}function $n(t){return Array.from(t.getClientRects())}function ue(t){return Z(X(t)).left+Ct(t).scrollLeft}function Hn(t){const e=X(t),n=Ct(t),o=t.ownerDocument.body,r=H(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),i=H(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let s=-n.scrollLeft+ue(t);const a=-n.scrollTop;return I(o).direction==="rtl"&&(s+=H(e.clientWidth,o.clientWidth)-r),{width:r,height:i,x:s,y:a}}function Wn(t,e){const n=W(t),o=X(t),r=n.visualViewport;let i=o.clientWidth,s=o.clientHeight,a=0,c=0;if(r){i=r.width,s=r.height;const l=Ft();(!l||l&&e==="fixed")&&(a=r.offsetLeft,c=r.offsetTop)}return{width:i,height:s,x:a,y:c}}function In(t,e){const n=Z(t,!0,e==="fixed"),o=n.top+t.clientTop,r=n.left+t.clientLeft,i=V(t)?J(t):G(1),s=t.clientWidth*i.x,a=t.clientHeight*i.y,c=r*i.x,l=o*i.y;return{width:s,height:a,x:c,y:l}}function Jt(t,e,n){let o;if(e==="viewport")o=Wn(t,n);else if(e==="document")o=Hn(X(t));else if(B(e))o=In(e,n);else{const r=fe(t);o={...e,x:e.x-r.x,y:e.y-r.y}}return yt(o)}function de(t,e){const n=U(t);return n===e||!B(n)||Q(n)?!1:I(n).position==="fixed"||de(n,e)}function zn(t,e){const n=e.get(t);if(n)return n;let o=ct(t,[],!1).filter(a=>B(a)&&nt(a)!=="body"),r=null;const i=I(t).position==="fixed";let s=i?U(t):t;for(;B(s)&&!Q(s);){const a=I(s),c=kt(s);!c&&a.position==="fixed"&&(r=null),(i?!c&&!r:!c&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||ft(s)&&!c&&de(t,s))?o=o.filter(m=>m!==s):r=a,s=U(s)}return e.set(t,o),o}function Bn(t){let{element:e,boundary:n,rootBoundary:o,strategy:r}=t;const s=[...n==="clippingAncestors"?Pt(e)?[]:zn(e,this._c):[].concat(n),o],a=s[0],c=s.reduce((l,m)=>{const d=Jt(e,m,r);return l.top=H(d.top,l.top),l.right=z(d.right,l.right),l.bottom=z(d.bottom,l.bottom),l.left=H(d.left,l.left),l},Jt(e,a,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Vn(t){const{width:e,height:n}=le(t);return{width:e,height:n}}function jn(t,e,n){const o=V(e),r=X(e),i=n==="fixed",s=Z(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=G(0);if(o||!o&&!i)if((nt(e)!=="body"||ft(r))&&(a=Ct(e)),o){const d=Z(e,!0,i,e);c.x=d.x+e.clientLeft,c.y=d.y+e.clientTop}else r&&(c.x=ue(r));const l=s.left+a.scrollLeft-c.x,m=s.top+a.scrollTop-c.y;return{x:l,y:m,width:s.width,height:s.height}}function St(t){return I(t).position==="static"}function Qt(t,e){return!V(t)||I(t).position==="fixed"?null:e?e(t):t.offsetParent}function pe(t,e){const n=W(t);if(Pt(t))return n;if(!V(t)){let r=U(t);for(;r&&!Q(r);){if(B(r)&&!St(r))return r;r=U(r)}return n}let o=Qt(t,e);for(;o&&_n(o)&&St(o);)o=Qt(o,e);return o&&Q(o)&&St(o)&&!kt(o)?n:o||Dn(t)||n}const Yn=async function(t){const e=this.getOffsetParent||pe,n=this.getDimensions,o=await n(t.floating);return{reference:jn(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Xn(t){return I(t).direction==="rtl"}const Gn={convertOffsetParentRelativeRectToViewportRelativeRect:Ln,getDocumentElement:X,getClippingRect:Bn,getOffsetParent:pe,getElementRects:Yn,getClientRects:$n,getDimensions:Vn,getScale:J,isElement:B,isRTL:Xn};function Kn(t,e){let n=null,o;const r=X(t);function i(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:l,top:m,width:d,height:h}=t.getBoundingClientRect();if(a||e(),!d||!h)return;const u=gt(m),f=gt(r.clientWidth-(l+d)),p=gt(r.clientHeight-(m+h)),g=gt(l),y={rootMargin:-u+"px "+-f+"px "+-p+"px "+-g+"px",threshold:H(0,z(1,c))||1};let P=!0;function b(A){const C=A[0].intersectionRatio;if(C!==c){if(!P)return s();C?s(!1,C):o=setTimeout(()=>{s(!1,1e-7)},1e3)}P=!1}try{n=new IntersectionObserver(b,{...y,root:r.ownerDocument})}catch{n=new IntersectionObserver(b,y)}n.observe(t)}return s(!0),i}function Un(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=o,l=Lt(t),m=r||i?[...l?ct(l):[],...ct(e)]:[];m.forEach(x=>{r&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const d=l&&a?Kn(l,n):null;let h=-1,u=null;s&&(u=new ResizeObserver(x=>{let[y]=x;y&&y.target===l&&u&&(u.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var P;(P=u)==null||P.observe(e)})),n()}),l&&!c&&u.observe(l),u.observe(e));let f,p=c?Z(t):null;c&&g();function g(){const x=Z(t);p&&(x.x!==p.x||x.y!==p.y||x.width!==p.width||x.height!==p.height)&&n(),p=x,f=requestAnimationFrame(g)}return n(),()=>{var x;m.forEach(y=>{r&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),d==null||d(),(x=u)==null||x.disconnect(),u=null,c&&cancelAnimationFrame(f)}}const qn=En,Zn=Nn,Jn=Rn,Qn=Mn,to=On,te=Cn,eo=Tn,no=(t,e,n)=>{const o=new Map,r={platform:Gn,...n},i={...r.platform,_c:o};return Pn(t,e,{...r,platform:i})};var wt=typeof document<"u"?v.useLayoutEffect:v.useEffect;function bt(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,o,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(o=n;o--!==0;)if(!bt(t[o],e[o]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(e,r[o]))return!1;for(o=n;o--!==0;){const i=r[o];if(!(i==="_owner"&&t.$$typeof)&&!bt(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function me(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ee(t,e){const n=me(t);return Math.round(e*n)/n}function ne(t){const e=v.useRef(t);return wt(()=>{e.current=t}),e}function oo(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:c,open:l}=t,[m,d]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,u]=v.useState(o);bt(h,o)||u(o);const[f,p]=v.useState(null),[g,x]=v.useState(null),y=v.useCallback(R=>{R!==C.current&&(C.current=R,p(R))},[]),P=v.useCallback(R=>{R!==E.current&&(E.current=R,x(R))},[]),b=i||f,A=s||g,C=v.useRef(null),E=v.useRef(null),_=v.useRef(m),F=c!=null,T=ne(c),D=ne(r),k=v.useCallback(()=>{if(!C.current||!E.current)return;const R={placement:e,strategy:n,middleware:h};D.current&&(R.platform=D.current),no(C.current,E.current,R).then(S=>{const N={...S,isPositioned:!0};L.current&&!bt(_.current,N)&&(_.current=N,Xe.flushSync(()=>{d(N)}))})},[h,e,n,D]);wt(()=>{l===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,d(R=>({...R,isPositioned:!1})))},[l]);const L=v.useRef(!1);wt(()=>(L.current=!0,()=>{L.current=!1}),[]),wt(()=>{if(b&&(C.current=b),A&&(E.current=A),b&&A){if(T.current)return T.current(b,A,k);k()}},[b,A,k,T,F]);const O=v.useMemo(()=>({reference:C,floating:E,setReference:y,setFloating:P}),[y,P]),M=v.useMemo(()=>({reference:b,floating:A}),[b,A]),$=v.useMemo(()=>{const R={position:n,left:0,top:0};if(!M.floating)return R;const S=ee(M.floating,m.x),N=ee(M.floating,m.y);return a?{...R,transform:"translate("+S+"px, "+N+"px)",...me(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:S,top:N}},[n,a,M.floating,m.x,m.y]);return v.useMemo(()=>({...m,update:k,refs:O,elements:M,floatingStyles:$}),[m,k,O,M,$])}const ro=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:o,padding:r}=typeof t=="function"?t(n):t;return o&&e(o)?o.current!=null?te({element:o.current,padding:r}).fn(n):{}:o?te({element:o,padding:r}).fn(n):{}}}},io=(t,e)=>({...qn(t),options:[t,e]}),so=(t,e)=>({...Zn(t),options:[t,e]}),ao=(t,e)=>({...eo(t),options:[t,e]}),co=(t,e)=>({...Jn(t),options:[t,e]}),lo=(t,e)=>({...Qn(t),options:[t,e]}),fo=(t,e)=>({...to(t),options:[t,e]}),uo=(t,e)=>({...ro(t),options:[t,e]});var po="Arrow",he=v.forwardRef((t,e)=>{const{children:n,width:o=10,height:r=5,...i}=t;return w(lt.svg,{...i,ref:e,width:o,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:w("polygon",{points:"0,0 30,0 15,10"})})});he.displayName=po;var mo=he;function ho(t){const[e,n]=v.useState(void 0);return Et(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const o=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let s,a;if("borderBoxSize"in i){const c=i.borderBoxSize,l=Array.isArray(c)?c[0]:c;s=l.inlineSize,a=l.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return o.observe(t,{box:"border-box"}),()=>o.unobserve(t)}else n(void 0)},[t]),e}var ge="Popper",[we,xe]=re(ge),[sr,ve]=we(ge),ye="PopperAnchor",be=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:o,...r}=t,i=ve(ye,n),s=v.useRef(null),a=At(e,s);return v.useEffect(()=>{i.onAnchorChange((o==null?void 0:o.current)||s.current)}),o?null:w(lt.div,{...r,ref:a})});be.displayName=ye;var $t="PopperContent",[go,wo]=we($t),Ae=v.forwardRef((t,e)=>{var Wt,It,zt,Bt,Vt,jt;const{__scopePopper:n,side:o="bottom",sideOffset:r=0,align:i="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:m=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:u="optimized",onPlaced:f,...p}=t,g=ve($t,n),[x,y]=v.useState(null),P=At(e,ot=>y(ot)),[b,A]=v.useState(null),C=ho(b),E=(C==null?void 0:C.width)??0,_=(C==null?void 0:C.height)??0,F=o+(i!=="center"?"-"+i:""),T=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},D=Array.isArray(l)?l:[l],k=D.length>0,L={padding:T,boundary:D.filter(vo),altBoundary:k},{refs:O,floatingStyles:M,placement:$,isPositioned:R,middlewareData:S}=oo({strategy:"fixed",placement:F,whileElementsMounted:(...ot)=>Un(...ot,{animationFrame:u==="always"}),elements:{reference:g.anchor},middleware:[io({mainAxis:r+_,alignmentAxis:s}),c&&so({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?ao():void 0,...L}),c&&co({...L}),lo({...L,apply:({elements:ot,rects:Yt,availableWidth:Be,availableHeight:Ve})=>{const{width:je,height:Ye}=Yt.reference,dt=ot.floating.style;dt.setProperty("--radix-popper-available-width",`${Be}px`),dt.setProperty("--radix-popper-available-height",`${Ve}px`),dt.setProperty("--radix-popper-anchor-width",`${je}px`),dt.setProperty("--radix-popper-anchor-height",`${Ye}px`)}}),b&&uo({element:b,padding:a}),yo({arrowWidth:E,arrowHeight:_}),h&&fo({strategy:"referenceHidden",...L})]}),[N,Ot]=Re($),ut=qe(f);Et(()=>{R&&(ut==null||ut())},[R,ut]);const $e=(Wt=S.arrow)==null?void 0:Wt.x,He=(It=S.arrow)==null?void 0:It.y,We=((zt=S.arrow)==null?void 0:zt.centerOffset)!==0,[Ie,ze]=v.useState();return Et(()=>{x&&ze(window.getComputedStyle(x).zIndex)},[x]),w("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:R?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ie,"--radix-popper-transform-origin":[(Bt=S.transformOrigin)==null?void 0:Bt.x,(Vt=S.transformOrigin)==null?void 0:Vt.y].join(" "),...((jt=S.hide)==null?void 0:jt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:w(go,{scope:n,placedSide:N,onArrowChange:A,arrowX:$e,arrowY:He,shouldHideArrow:We,children:w(lt.div,{"data-side":N,"data-align":Ot,...p,ref:P,style:{...p.style,animation:R?void 0:"none"}})})})});Ae.displayName=$t;var Pe="PopperArrow",xo={top:"bottom",right:"left",bottom:"top",left:"right"},Ce=v.forwardRef(function(e,n){const{__scopePopper:o,...r}=e,i=wo(Pe,o),s=xo[i.placedSide];return w("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:w(mo,{...r,ref:n,style:{...r.style,display:"block"}})})});Ce.displayName=Pe;function vo(t){return t!==null}var yo=t=>({name:"transformOrigin",options:t,fn(e){var g,x,y;const{placement:n,rects:o,middlewareData:r}=e,s=((g=r.arrow)==null?void 0:g.centerOffset)!==0,a=s?0:t.arrowWidth,c=s?0:t.arrowHeight,[l,m]=Re(n),d={start:"0%",center:"50%",end:"100%"}[m],h=(((x=r.arrow)==null?void 0:x.x)??0)+a/2,u=(((y=r.arrow)==null?void 0:y.y)??0)+c/2;let f="",p="";return l==="bottom"?(f=s?d:`${h}px`,p=`${-c}px`):l==="top"?(f=s?d:`${h}px`,p=`${o.floating.height+c}px`):l==="right"?(f=`${-c}px`,p=s?d:`${u}px`):l==="left"&&(f=`${o.floating.width+c}px`,p=s?d:`${u}px`),{data:{x:f,y:p}}}});function Re(t){const[e,n="center"]=t.split("-");return[e,n]}var Oe=be,bo=Ae,Ao=Ce,Se="Popover",[Ee,ar]=re(Se,[xe]),Rt=xe(),[cr,q]=Ee(Se),Ne="PopoverAnchor",Po=v.forwardRef((t,e)=>{const{__scopePopover:n,...o}=t,r=q(Ne,n),i=Rt(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:a}=r;return v.useEffect(()=>(s(),()=>a()),[s,a]),w(Oe,{...i,...o,ref:e})});Po.displayName=Ne;var Te="PopoverTrigger",Co=v.forwardRef((t,e)=>{const{__scopePopover:n,...o}=t,r=q(Te,n),i=Rt(n),s=At(e,r.triggerRef),a=w(lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Fe(r.open),...o,ref:s,onClick:st(t.onClick,r.onOpenToggle)});return r.hasCustomAnchor?a:w(Oe,{asChild:!0,...i,children:a})});Co.displayName=Te;var Ht="PopoverPortal",[Ro,Oo]=Ee(Ht,{forceMount:void 0}),Me=t=>{const{__scopePopover:e,forceMount:n,children:o,container:r}=t,i=q(Ht,e);return w(Ro,{scope:e,forceMount:n,children:w(ie,{present:n||i.open,children:w(on,{asChild:!0,container:r,children:o})})})};Me.displayName=Ht;var tt="PopoverContent",_e=v.forwardRef((t,e)=>{const n=Oo(tt,t.__scopePopover),{forceMount:o=n.forceMount,...r}=t,i=q(tt,t.__scopePopover);return w(ie,{present:o||i.open,children:i.modal?w(So,{...r,ref:e}):w(Eo,{...r,ref:e})})});_e.displayName=tt;var So=v.forwardRef((t,e)=>{const n=q(tt,t.__scopePopover),o=v.useRef(null),r=At(e,o),i=v.useRef(!1);return v.useEffect(()=>{const s=o.current;if(s)return Ze(s)},[]),w(Je,{as:Qe,allowPinchZoom:!0,children:w(De,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:st(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:st(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,l=a.button===2||c;i.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:st(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),Eo=v.forwardRef((t,e)=>{const n=q(tt,t.__scopePopover),o=v.useRef(!1),r=v.useRef(!1);return w(De,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,i),i.defaultPrevented||(o.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),o.current=!1,r.current=!1},onInteractOutside:i=>{var c,l;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(o.current=!0,i.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const s=i.target;((l=n.triggerRef.current)==null?void 0:l.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.current&&i.preventDefault()}})}),De=v.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:o,onOpenAutoFocus:r,onCloseAutoFocus:i,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:l,onInteractOutside:m,...d}=t,h=q(tt,n),u=Rt(n);return tn(),w(en,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:r,onUnmountAutoFocus:i,children:w(nn,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:m,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:l,onDismiss:()=>h.onOpenChange(!1),children:w(bo,{"data-state":Fe(h.open),role:"dialog",id:h.contentId,...u,...d,ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ke="PopoverClose",No=v.forwardRef((t,e)=>{const{__scopePopover:n,...o}=t,r=q(ke,n);return w(lt.button,{type:"button",...o,ref:e,onClick:st(t.onClick,()=>r.onOpenChange(!1))})});No.displayName=ke;var To="PopoverArrow",Mo=v.forwardRef((t,e)=>{const{__scopePopover:n,...o}=t,r=Rt(n);return w(Ao,{...r,...o,ref:e})});Mo.displayName=To;function Fe(t){return t?"open":"closed"}var _o=Me,Le=_e;const Do=v.forwardRef(({className:t,align:e="center",sideOffset:n=4,...o},r)=>w(_o,{children:w(Le,{ref:r,align:e,sideOffset:n,className:oe("z-50 w-72 rounded-md border border-slate-200 bg-white p-4 text-slate-950 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",t),...o})}));Do.displayName=Le.displayName;const lr=({datas:t,...e})=>{const n=pn(e.server_filter.bulan).format("MMM"),[o,r]=v.useState(!1),[i,s]=v.useState(()=>t);v.useEffect(()=>{s(t)},[t]);const[a,c]=v.useState(),l=f=>{c(p=>p===f?null:f)},d=(f=>f.reduce((p,g)=>(p.totalNominal+=g.sum_nominal_on||0,p.totalPembayaran+=g.total_pembayaran||0,p),{totalNominal:0,totalPembayaran:0}))(i),h=v.useMemo(()=>[{accessorKey:"wilayah",id:"collapse",cell:f=>f.getValue(),header:()=>"Wilayah"},{accessorKey:"sum_nominal_on",id:"sum_nominal_on",cell:f=>w(it,{value:f.getValue()}),header:()=>`Bulan ${n}`,footer:f=>w(it,{value:d.totalNominal})},{accessorKey:"total_pembayaran",id:"total_pembayaran",cell:f=>w(it,{value:f.getValue()}),header:()=>"Total Goro",footer:f=>w(it,{value:d.totalPembayaran})},{accessorKey:"sisa_goro",id:"sisa_goro",cell:f=>w(it,{value:f.getValue()}),header:()=>"Sisa Goro"}],[]),u=rn({data:i,columns:h,getCoreRowModel:fn()});return v.useEffect(()=>{l(parseInt(e.wilayah_show.wilayah))},[]),w(Ue,{loading:o,children:rt(pt,{judul:"Goro Umrah",children:[w(pt.subTitle,{children:rt("div",{className:"flex lg:flex-row flex-col lg:justify-between items-center gap-3",children:[w(pt.startContent,{className:"flex-wrap mb-3 lg:mb-0"}),w(pt.endContent,{className:"flex-wrap",children:w(Ke,{loading:o,setLoading:r,urlLink:route("goroumrah.goro_index"),localState:"goroumrah_goro_index",availableMonth:!0})})]})}),w("div",{className:"overflow-auto rounded-lg shadow",children:rt(sn,{className:"border",children:[w(an,{children:u.getHeaderGroups().map(f=>w(mt,{children:f.headers.map(p=>w(Xt,{className:`text-center lg:whitespace-nowrap whitespace-pre-line duration-300 ease-linear ${a?"text-transparent":""}`,children:ht(p.column.columnDef.header,p.getContext())},p.id))},f.id))}),w(cn,{children:u.getRowModel().rows.length?u.getRowModel().rows.map((f,p)=>rt(Ge.Fragment,{children:[w(mt,{id:f.id,className:`${a==f.id?"border-b-0 bg-green-100":""}`,children:f.getVisibleCells().map(g=>w(Gt,{className:g.column.columnDef.className,children:g.column.id=="collapse"?rt("div",{className:"flex w-full items-center justify-center gap-3",children:[w("button",{onClick:()=>l(f.id),className:`flex justify-center items-start hover:text-roman-500 ${a==f.id?"rotate-90 text-roman-500":""} `,children:w(dn,{})}),w("div",{children:ht(g.column.columnDef.cell,g.getContext())})]}):a==f.id?"":ht(g.column.columnDef.cell,g.getContext())},g.id))},f.id),a==f.id&&w(mt,{className:"p-0 hover:bg-transparent",children:w(Gt,{colSpan:"4",className:"p-0 border-0",children:w(un,{triggerId:a})})},`newrow${f.id}`)]},f.id)):null}),a?"":w(ln,{children:u.getFooterGroups().map(f=>w(mt,{children:f.headers.map(p=>w(Xt,{className:"text-center bg-gray-100 text-black",children:ht(p.column.columnDef.footer,p.getContext())},p.id))},f.id))})]})})]})})};export{lr as default};

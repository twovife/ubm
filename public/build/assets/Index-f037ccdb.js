import{r as l,j as e,a as o,R as C,F as _}from"./app-6b350258.js";import{A as S}from"./AuthenticatedLayout-525b99af.js";import{C as n}from"./Navbar-d6dc625d.js";import{S as R}from"./Search-c6424d0e.js";import"./DefaultTable-2056dd10.js";import k from"./TabelUnit-fdea9eb1.js";import{u as j,T as F,a as L,b as g,c as f,f as i,d as D,e as M,g as A,h as I}from"./table-0e6de7d4.js";import{T as K,a as V,b as E,c as H}from"./tabs-afec94c9.js";import{F as w}from"./FormatNumbering-7e0a9655.js";import"./Loading-dee41ab2.js";import"./transition-725fd075.js";import"./iconBase-e1e919d8.js";import"./index.esm-07504674.js";import"./index.esm-ac2c333a.js";import"./PrimaryButton-38a62dbf.js";import"./SelectList-f0d0fe1f.js";import"./useServerFilter-c7d84d6e.js";import"./TextInput-1c629780.js";import"./ButtonWrapper-e564710a.js";import"./Create-72fd1021.js";import"./InputError-c2bb987c.js";import"./InputLabel-d209c271.js";import"./index.esm-d3dd4622.js";import"./dialog-7116bd5a.js";import"./index-b54cf00b.js";import"./utils-01642ffa.js";import"./react-number-format.es-6188b67c.js";import"./index-aa16c950.js";const we=({branch:W,server_filters:B,datas:m,batch_datas:s,...G})=>{const[d,p]=l.useState(!1),[x,h]=l.useState(0),y=t=>{localStorage.setItem("tabsActive_unitsaving_index",t),h(t)};l.useEffect(()=>{const t=localStorage.getItem("tabsActive_unitsaving_index");h(parseInt(t)||0)},[]);const[b,v]=l.useState(()=>m);l.useEffect(()=>{v(m)},[m]);const T=(t=>t.reduce((r,a)=>(r.total+=a.total||0,r),{total:0}))(b),N=l.useMemo(()=>[{accessorKey:"wilayah",id:"wilayah",cell:t=>t.getValue(),header:()=>"Wilayah"},{accessorKey:"total",id:"total",cell:t=>e(w,{value:t.getValue()}),header:()=>"Total",footer:t=>e(w,{value:T.total})},{accessorKey:"last_month_payment",id:"last_month_payment",cell:t=>t.getValue(),header:()=>"Keterangan"}],[]),c=j({data:b,columns:N,getCoreRowModel:I()});return o(S,{loading:d,children:[o(n,{judul:"Tabungan 1JT Unit",children:[e(n.subTitle,{children:o("div",{className:"flex flex-col items-center gap-3 lg:flex-row lg:justify-between",children:[e(n.startContent,{className:"flex-wrap mb-3 lg:mb-0"}),e(n.endContent,{className:"flex-wrap",children:e(R,{loading:d,setLoading:p,urlLink:route("unitsaving.index"),localState:"unitsaving_index",availableMonth:!0})})]})}),o(F,{className:"border",children:[e(L,{children:c.getHeaderGroups().map((t,r)=>e(g,{children:t.headers.map((a,u)=>e(f,{className:"text-center",children:i(a.column.columnDef.header,a.getContext())},u))},r))}),e(D,{children:c.getRowModel().rows.length?c.getRowModel().rows.map((t,r)=>e(C.Fragment,{children:e(g,{className:"text-center",children:t.getVisibleCells().map((a,u)=>e(M,{className:a.column.columnDef.className,children:a.column.columnDef.type=="action"?e("div",{className:"flex items-center justify-center-center",children:e("div",{className:"w-full",children:i(a.row.original.button_type)==2?e("button",{onClick:()=>handleOpenCreate(a.row.original.branch_id,a.row.original.unit),className:"px-2 py-1 text-white bg-green-500 rounded-lg",children:"Baru"}):i(a.row.original.button_type)==3?e(Link,{href:route("unitsaving.savingdetails",a.row.original.id),className:"px-2 py-1 text-white bg-gray-500 rounded-lg",children:"Tutup"}):i(a.row.original.button_type)==4?e("div",{className:"px-2 py-1 rounded-lg",children:"Non Aktif"}):i(a.row.original.button_type)==1?e(Link,{href:route("unitsaving.savingdetails",a.row.original.id),className:"px-2 py-1 text-white bg-indigo-500 rounded-lg",children:"Setor"}):i(a.row.original.button_type)==5?e(Link,{href:route("unitsaving.savingdetails",a.row.original.id),className:"px-2 py-1 text-white rounded-lg bg-amber-500",children:"Nihil"}):"invalid"})}):i(a.column.columnDef.cell,a.getContext())},u))},r)},r)):null}),e(A,{children:c.getFooterGroups().map((t,r)=>e(g,{children:t.headers.map(a=>e(f,{className:"text-center text-black bg-gray-100",children:i(a.column.columnDef.footer,a.getContext())},a.id))},r))})]})]}),e(n,{judul:"Wilayah",children:e("div",{className:"w-full",children:o(K,{className:"w-full",value:x,children:[e(V,{children:s.length>0?s.map((t,r)=>e(E,{onClick:()=>y(t.wilayah),value:t.wilayah,className:"ml-3 first:ml-0",children:t.wilayah})):null}),e(_,{children:s.length>0?s.map((t,r)=>e(H,{value:t.wilayah,children:e(k,{triggeredWilayah:t.wilayah,loading:d,setLoading:p})})):null})]})})})]})};export{we as default};

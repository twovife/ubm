import{r as x,j as e,a as n,d as c}from"./app-258a1468.js";import{C as l}from"./Navbar-529fc64f.js";import{D as t}from"./DefaultTable-e74413be.js";import{L as y}from"./LinkButton-ece79410.js";import{S as b}from"./Search-2d01961b.js";import{u as g}from"./useFilter-f09c12d8.js";import{A as N}from"./AuthenticatedLayout-1ea76ba9.js";import{d as w}from"./dayjs.min-5d8728ad.js";import{N as r}from"./react-number-format.es-f31e0940.js";import"./index.esm-51cbb4d0.js";import"./iconBase-7cca4eff.js";import"./transition-53531391.js";import"./index.esm-08d0fd97.js";import"./PrimaryButton-5610387c.js";import"./SelectList-90c5b685.js";import"./useServerFilter-6ca97ab2.js";import"./TextInput-a811f270.js";import"./ButtonWrapper-1f1a0533.js";import"./Loading-cf00d0b5.js";const U=({branch:_,server_filters:v,datas:p,...T})=>{const[i,m]=x.useState(!1),{filter:h,removeFilter:u,returnedData:d,totals:s}=g(p,100,"bonpriv_index"),f=[{type:"default",headers:{filterable:"no",name:"Nomor",column:"no"}},{type:"default",headers:{filterable:"no",name:"Wilayah",column:"wilayah"}},{type:"default",headers:{filterable:"no",name:"Unit",column:"branch",class_name:"whitespace-nowrap"}},{type:"default",headers:{filterable:"no",name:"Nama Karyawan",column:"nama_karyawan",class_name:"whitespace-nowrap"}},{type:"default",headers:{filterable:"no",name:"Jabatan",column:"jabatan"}},{type:"default",headers:{filterable:"no",name:"Tanggal Pinjam",column:"tanggal_pinjaman",format:"date"}},{type:"default",headers:{filterable:"no",name:"Keterangan",column:"keterangan"}},{type:"default",headers:{filterable:"no",name:"Nominal Bon",column:"nominal_pinjaman",format:"currency"}},{type:"default",headers:{filterable:"no",name:"Saldo Terakhir",column:"saldo_bulan_lalu",format:"currency"}},{type:"default",headers:{filterable:"no",name:"Angsuran Bulan Ini",column:"setoran_bulan_ini",format:"currency"}},{type:"default",headers:{filterable:"no",name:"Total Angsuran",column:"total_setoran",format:"currency"}},{type:"default",headers:{filterable:"no",name:"Saldo",column:"saldo",format:"currency"}}];return e(N,{loading:i,children:n(l,{judul:"Bon Prive",children:[e(l.subTitle,{children:n("div",{className:"flex lg:flex-row flex-col lg:justify-between items-center gap-3",children:[e(l.startContent,{className:"flex-wrap mb-3 lg:mb-0",children:e(l.filterItem,{filter:h,removeFilter:u})}),e(l.endContent,{className:"flex-wrap",children:e(b,{loading:i,setLoading:m,urlLink:route("bonpriv.index"),localState:"bonpriv_index",availableMonth:!0,children:e(y,{href:route("bonpriv.create"),title:"Tambah",size:"sm",type:"button",theme:"green"})})})]})}),n(t,{children:[e(t.thead,{children:f.map((a,o)=>e(t.th,{type:a.type,headers:a.headers},o))}),e(t.tbody,{children:d==null?void 0:d.map((a,o)=>n(t.tr,{children:[n(t.td,{className:"text-center",children:[e("span",{className:"mr-2",children:o+1}),a.keterangan=="unpaid"?e(c,{href:route("bonpriv.show",a.id),className:"px-2 py-1 rounded-lg bg-red-500 text-white",children:"Bayar"}):e(c,{href:route("bonpriv.show",a.id),className:"px-2 py-1 rounded-lg bg-green-500 text-white",children:"Lihat"})]}),e(t.td,{className:"text-center",children:a.wilayah}),e(t.td,{className:"text-center",children:a.branch}),e(t.td,{className:"text-center",children:a.nama_karyawan}),e(t.td,{className:"text-center",children:a.jabatan}),e(t.td,{className:"text-center",children:w(a.tanggal_pinjaman).format("DD/MM/YYYY")}),e(t.td,{className:"text-center",children:a.keterangan}),e(t.td,{className:"text-end",children:e(r,{value:a.nominal_pinjaman,displayType:"text",thousandSeparator:","})}),e(t.td,{className:"text-end",children:e(r,{value:a.saldo_bulan_lalu,displayType:"text",thousandSeparator:","})}),e(t.td,{className:"text-end",children:e(r,{value:a.setoran_bulan_ini,displayType:"text",thousandSeparator:","})}),e(t.td,{className:"text-end",children:e(r,{value:a.total_setoran,displayType:"text",thousandSeparator:","})}),e(t.td,{className:"text-end",children:e(r,{value:a.saldo,displayType:"text",thousandSeparator:","})})]},o))}),e("tfoot",{className:"sticky bottom-0 left-0 w-full bg-gray-300 shadow border-t border-t-white text-end",children:n("tr",{className:"bg-blue-200 font-semibold text-black",children:[e("td",{className:"px-3 py-1 text-start",colSpan:"7",children:"TOTAL"}),e("td",{className:"px-3 py-1 bg-green-500 text-white",children:e("div",{className:"whitespace-nowrap text-right",children:e(r,{value:s.nominal_pinjaman,displayType:"text",thousandSeparator:",",prefix:"Rp. "})})}),e("td",{className:"px-3 py-1 bg-green-500 text-white",children:e("div",{className:"whitespace-nowrap text-right",children:e(r,{value:s.saldo_bulan_lalu,displayType:"text",thousandSeparator:",",prefix:"Rp. "})})}),e("td",{className:"px-3 py-1 bg-green-500 text-white",children:e("div",{className:"whitespace-nowrap text-right",children:e(r,{value:s.setoran_bulan_ini,displayType:"text",thousandSeparator:",",prefix:"Rp. "})})}),e("td",{className:"px-3 py-1 bg-green-500 text-white"}),e("td",{className:"px-3 py-1 bg-green-500 text-white",children:e("div",{className:"whitespace-nowrap text-right",children:e(r,{value:s.saldo,displayType:"text",thousandSeparator:",",prefix:"Rp. "})})})]})})]})]})})};export{U as default};

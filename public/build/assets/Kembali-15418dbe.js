import{W as C,_ as K,a as e,j as a}from"./app-9421caf2.js";import{I as r}from"./InputError-5ecee304.js";import{I as s}from"./InputLabel-a3b7f67a.js";import{P as I}from"./PrimaryButton-30d82767.js";import{S as o}from"./SelectList-6b46cf50.js";import{T as p}from"./TextInput-740ebec0.js";import{u as W}from"./useServerFilter-fd871b60.js";const A=({typeMutasi:g,closedModal:h,setLoading:v})=>{const{employee:y}=C().props,{wilayah:b,selectedWilayah:f,setSelectedWilayah:k,filteredBranch:N}=W(),{data:l,setData:c,put:w,processing:q,recentlySuccessful:P,errors:i}=K({typeMutasi:parseInt(g),branch_id:"",tanggal_kembali:"",status_kontrak:"",jabatan:"",area:0,jenis_jaminan:""}),j=[{id:1,value:"mantri",display:"Mantri"},{id:3,value:"admin",display:"Admin"},{id:4,value:"kasir",display:"Kasir"},{id:2,value:"kepala mantri",display:"Kepala Mantri"},{id:5,value:"wakil pimpinan",display:"Wakil Pimpinan"},{id:6,value:"pimpinan",display:"Pimpinan"},{id:7,value:"staf",display:"Staf"},{id:8,value:"staf kontrol",display:"Staf Kontrol"},{id:9,value:"pengawas",display:"Pengawas"}],x=[{id:1,value:1,display:"Cadangan"},{id:2,value:2,display:"Kontrak"}],m=n=>{const{name:t,value:u}=n.target;c(t,u)},_=n=>{const{name:t,value:u}=n.target,d={[t]:u,area:0};c(S=>({...S,...d}))};return e("form",{onSubmit:n=>{n.preventDefault(),v(!0),w(route("emp.kembali_karyawan",y.id),{onSuccess:t=>{h()},onFinish:t=>{v(!1)},replace:!0})},className:"mt-3 bg-inherit",children:[a("div",{className:"text-gray-500 font-semibold text-xl mono",children:"Pilih Unit Dan Jabatan Baru"}),e("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-3 mt-3",children:[e("div",{className:"flex-1 w-full",children:[a(s,{value:"Wilayah"}),a(o,{name:"wilayah",value:f,className:"w-full",nullValue:!0,required:!0,options:b,onChange:n=>{const{value:t}=n.target;k(t);const u={branch_id:t};c(d=>({...d,...u}))}})]}),f!==""&&e("div",{className:"flex-1 w-full",children:[a(s,{value:"Unit"}),a(o,{name:"branch_id",className:"w-full",value:l.branch_id,nullValue:!0,required:!0,options:N,onChange:m}),a(r,{message:i.branch_id,className:"mt-2"})]})]}),e("div",{className:"mt-3",children:[a(s,{value:"Tanggal Kembali"}),a(p,{name:"tanggal_kembali",value:l.tangal,required:!0,className:"w-full",type:"date",onChange:m}),a(r,{message:i.tanggal_kembali,className:"mt-2"})]}),e("div",{className:"mt-3",children:[a(s,{value:"Status Kontrak"}),a(o,{required:!0,name:"status_kontrak",value:l.status_kontrak,className:"w-full",nullvalue:!0,options:x,onChange:m}),a(r,{message:i.status_kontrak,className:"mt-2"})]}),e("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-3 mt-3",children:[e("div",{className:"flex-1 w-full",children:[a(s,{value:"Jabatan"}),a(o,{required:!0,value:l.jabatan,className:"w-full",nullvalue:!0,options:j,name:"jabatan",onChange:_}),a(r,{message:i.jabatan,className:"mt-2"})]}),l.jabatan==="mantri"&&e("div",{className:"flex-1 w-full",children:[a(s,{value:"Kelompok"}),a(p,{required:!0,name:"area",value:l.area,type:"number",min:"0",onChange:m}),a(r,{message:i.area,className:"mt-2"})]})]}),e("div",{className:"mt-3",children:[a(s,{value:"Jenis Jaminan",optional:!0}),a(p,{name:"jenis_jaminan",value:l.jenis_jaminan,className:"w-full",onChange:m}),a(r,{message:i.status_kontrak,className:"mt-2"})]}),a("div",{className:"mt-3 flex justify-end items-center",children:a(I,{title:"Submit",type:"submit",theme:"green"})})]})};export{A as default};

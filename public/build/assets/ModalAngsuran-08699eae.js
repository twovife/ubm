import{_ as v,j as t,a}from"./app-8bcfbfa1.js";import{I as s}from"./InputLabel-d897d6fd.js";import{L as k}from"./Loading-f90bd2c5.js";import{M as w}from"./Modal-322aa14e.js";import{P as M}from"./PrimaryButton-07709e79.js";import{S as Y}from"./SelectList-8aa63605.js";import{T as j}from"./TextInput-1e83dd9e.js";import{d as m}from"./dayjs.min-3e871396.js";import{N as C}from"./react-number-format.es-6cdc0fe5.js";import{C as S}from"./index.esm-da156e51.js";import{I as D}from"./InputError-2ffd5a6f.js";import{C as I}from"./Checkbox-2b1a6b2f.js";import"./transition-057572af.js";const H=({onClose:i,...d})=>{const{show:u,dataArray:r}=d.data,{data:o,setData:c,put:p,processing:h,reset:f,errors:g}=v({pembayaran_date:"",jumlah:"",status:"",danatitipan:!1}),y=(e,l)=>{c(l,e)};d.mantri.map(e=>({id:e.id,value:e.id,display:`${e.nama_karyawan} - Kelompok ${e.area}`}));const x=[{id:1,value:"normal",display:"Normal"},{id:2,value:"cm",display:"CM"},{id:3,value:"mb",display:"MB"},{id:4,value:"ml",display:"ML"}],n=e=>{c(e.target.name,e.target.type==="checkbox"?e.target.checked:e.target.value)},b=()=>{f(),i()},N=e=>{e.preventDefault(),p(route("unit.pinjaman.angsuran.bayar",r.id),{onSuccess:()=>b()})};return t(w,{show:u,onClose:i,children:[a(k,{show:h}),t("div",{className:"p-6 overflow-auto",children:[t("table",{className:"w-full text-sm text-left text-main-500 dark:text-main-400 mb-3",children:[a("thead",{className:"text-xs text-main-700 uppercase bg-main-100 dark:bg-gray-700 dark:text-main-400",children:t("tr",{children:[a("th",{className:"px-6 py-3",children:"No"}),a("th",{className:"px-6 py-3",children:"Tanggal Pembayaran"}),a("th",{className:"px-6 py-3",children:"Jumlah Pembayaran"})]})}),a("tbody",{children:r&&(r.angsuran.length!==0?r.angsuran.map((e,l)=>t("tr",{children:[a("td",{className:"px-6 py-3",children:l+1}),a("td",{className:"px-6 py-3",children:m(e.pembayaran_date).format("DD-MMM-YYYY")}),a("td",{className:"px-6 py-3",children:a(C,{value:e.jumlah,displayType:"text",thousandSeparator:",",prefix:"Rp. "})})]},l)):a("tr",{children:a("td",{className:"px-6 py-3",colSpan:2,children:"Belum Ada Angsuran Terdeteksi"})}))})]}),t("div",{children:[a("h1",{className:"text-xl",children:"Buat Pembayaran Baru"}),t("form",{onSubmit:N,className:"mb-3",children:[t("div",{className:"flex gap-3",children:[t("div",{className:"flex-1",children:[a(s,{value:"Tanggal Pembayaran"}),a(j,{required:!0,name:"pembayaran_date",onChange:n,type:"date",className:"mt-1 block w-full",max:m().format("YYYY-MM-DD"),min:r?m(r.tanggal_drop).add(1,"week").format("YYYY-MM-DD"):null}),a(D,{message:g.pembayaran_date,className:"mt-2"})]}),t("div",{className:"flex-1",children:[a(s,{value:"Jumlah Pembayaran"}),a(S,{name:"jumlah",id:"jumlah",className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full mt-1",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:y,value:o.pinjaman,placeholder:"Inputkan angka tanpa sparator"})]})]}),a("div",{className:"flex gap-3 mt-3",children:t("div",{className:"flex-1",children:[a(s,{value:"Status Angsuran"}),a(Y,{required:!0,name:"status",className:"w-full mt-1",onChange:n,nullValue:!0,options:x})]})}),a("div",{className:"block mt-4",children:t("label",{className:"flex items-center",children:[a(I,{name:"danatitipan",value:o.danatitipan,onChange:n}),a("span",{className:"ml-2 text-sm text-gray-600",children:"Dana Titipan?"})]})}),a("div",{className:"w-full mt-3",children:a(M,{className:"ml-auto",title:"Setuju",type:"submit"})})]})]})]})]})};export{H as default};

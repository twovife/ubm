import{_ as k,j as t,a}from"./app-2c12b11b.js";import{I as m}from"./InputLabel-4de9e356.js";import{L as w}from"./Loading-087a059a.js";import{M}from"./Modal-4a68f660.js";import{P as j}from"./PrimaryButton-1295aef1.js";import{S as Y}from"./SelectList-6da952b3.js";import{T as C}from"./TextInput-5e12d623.js";import{d as i}from"./dayjs.min-7dedc68d.js";import{N as D}from"./react-number-format.es-52d5ad8d.js";import{C as S}from"./index.esm-d46b80da.js";import{I as p}from"./InputError-dcde4c82.js";import{C as I}from"./Checkbox-64d73015.js";import"./transition-aaa1cb80.js";const H=({onClose:d,...o})=>{const{show:h,dataArray:r}=o.data,{data:n,setData:c,put:f,processing:g,reset:y,errors:u}=k({pembayaran_date:"",jumlah:"",status:"",danatitipan:!1}),x=(e,l)=>{c(l,e)};o.mantri.map(e=>({id:e.id,value:e.id,display:`${e.nama_karyawan} - Kelompok ${e.area}`}));const b=[{id:1,value:"normal",display:"Normal"},{id:2,value:"cm",display:"CM"},{id:3,value:"mb",display:"MB"},{id:4,value:"ml",display:"ML"}],s=e=>{c(e.target.name,e.target.type==="checkbox"?e.target.checked:e.target.value)},N=()=>{y(),d()},v=e=>{e.preventDefault(),f(route("unit.pinjaman.angsuran.bayar",r.id),{onSuccess:()=>N()})};return t(M,{show:h,onClose:d,children:[a(w,{show:g}),t("div",{className:"p-6 overflow-auto",children:[t("table",{className:"w-full text-sm text-left text-main-500 dark:text-main-400 mb-3",children:[a("thead",{className:"text-xs text-main-700 uppercase bg-main-100 dark:bg-gray-700 dark:text-main-400",children:t("tr",{children:[a("th",{className:"px-6 py-3",children:"No"}),a("th",{className:"px-6 py-3",children:"Tanggal Pembayaran"}),a("th",{className:"px-6 py-3",children:"Jumlah Pembayaran"})]})}),a("tbody",{children:r&&(r.angsuran.length!==0?r.angsuran.map((e,l)=>t("tr",{children:[a("td",{className:"px-6 py-3",children:l+1}),a("td",{className:"px-6 py-3",children:i(e.pembayaran_date).format("DD-MMM-YYYY")}),a("td",{className:"px-6 py-3",children:a(D,{value:e.jumlah,displayType:"text",thousandSeparator:",",prefix:"Rp. "})})]},`angsuran${l}`)):a("tr",{children:a("td",{className:"px-6 py-3",colSpan:2,children:"Belum Ada Angsuran Terdeteksi"})}))})]}),t("div",{children:[a("h1",{className:"text-xl",children:"Buat Pembayaran Baru"}),t("form",{onSubmit:v,className:"mb-3",children:[t("div",{className:"flex gap-3",children:[t("div",{className:"flex-1",children:[a(m,{value:"Tanggal Pembayaran"}),a(C,{required:!0,name:"pembayaran_date",onChange:s,type:"date",className:"mt-1 block w-full",value:n.pembayaran_date,max:i().format("YYYY-MM-DD"),min:r?i(r.tanggal_drop).add(1,"week").format("YYYY-MM-DD"):null}),a(p,{message:u.pembayaran_date,className:"mt-2"})]}),t("div",{className:"flex-1",children:[a(m,{value:"Jumlah Pembayaran"}),a(S,{name:"jumlah",id:"jumlah",className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full mt-1",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:x,value:n.jumlah,placeholder:"Inputkan angka tanpa sparator"}),a(p,{message:u.jumlah,className:"mt-2"})]})]}),a("div",{className:"flex gap-3 mt-3",children:t("div",{className:"flex-1",children:[a(m,{value:"Status Angsuran"}),a(Y,{required:!0,name:"status",className:"w-full mt-1",onChange:s,nullValue:!0,options:b})]})}),a("div",{className:"flex w-full mt-4",children:t("label",{className:"flex items-center",children:[a(I,{name:"danatitipan",value:n.danatitipan,onChange:s}),a("span",{className:"ml-2 text-sm text-gray-600",children:"Dana Titipan DO?"})]})}),a("div",{className:"w-full mt-3",children:a(j,{className:"ml-auto",title:"Setuju",type:"submit"})})]})]})]})]})};export{H as default};

import{_ as N,j as t,a}from"./app-b3afb448.js";import{I as s}from"./InputLabel-6bf1377d.js";import{L as v}from"./Loading-e9759365.js";import{M as k}from"./Modal-fe9b553f.js";import{P as w}from"./PrimaryButton-724723da.js";import{S as j}from"./SelectList-9fc3e3ff.js";import{T as C}from"./TextInput-f72ced76.js";import{d as S}from"./dayjs.min-1c513307.js";import{N as I}from"./react-number-format.es-092d3933.js";import{C as M}from"./index.esm-ba3fa5c9.js";import{I as P}from"./InputError-233f4281.js";import{C as T}from"./Checkbox-9e70aecd.js";import"./transition-ec730b13.js";const H=({onClose:m,...i})=>{const{show:p,dataArray:r}=i.data,{data:d,setData:o,put:u,processing:h,reset:g,errors:c}=N({pembayaran_date:"",jumlah:"",status:"",danatitipan:!1});console.log(c);const y=(e,l)=>{o(l,e)};i.mantri.map(e=>({id:e.id,value:e.id,display:`${e.nama_karyawan} - Kelompok ${e.area}`}));const f=[{id:1,value:"normal",display:"Normal"},{id:2,value:"cm",display:"CM"},{id:3,value:"mb",display:"MB"},{id:4,value:"ml",display:"ML"}],n=e=>{o(e.target.name,e.target.type==="checkbox"?e.target.checked:e.target.value)},b=()=>{g(),m()},x=e=>{e.preventDefault(),u(route("unit.pinjaman.angsuran.bayar",r.id),{onSuccess:()=>b()})};return t(k,{show:p,onClose:m,children:[a(v,{show:h}),t("div",{className:"p-6 overflow-auto",children:[t("table",{className:"w-full text-sm text-left text-main-500 dark:text-main-400 mb-3",children:[a("thead",{className:"text-xs text-main-700 uppercase bg-main-100 dark:bg-gray-700 dark:text-main-400",children:t("tr",{children:[a("th",{className:"px-6 py-3",children:"No"}),a("th",{className:"px-6 py-3",children:"Tanggal Pembayaran"}),a("th",{className:"px-6 py-3",children:"Jumlah Pembayaran"})]})}),a("tbody",{children:r&&(r.angsuran.length!==0?r.angsuran.map((e,l)=>t("tr",{children:[a("td",{className:"px-6 py-3",children:l+1}),a("td",{className:"px-6 py-3",children:e.pembayaran_date}),a("td",{className:"px-6 py-3",children:a(I,{value:e.jumlah,displayType:"text",thousandSeparator:",",prefix:"Rp. "})})]},l)):a("tr",{children:a("td",{className:"px-6 py-3",colSpan:2,children:"Belum Ada Angsuran Terdeteksi"})}))})]}),t("div",{children:[a("h1",{className:"text-xl",children:"Buat Pembayaran Baru"}),t("form",{onSubmit:x,className:"mb-3",children:[t("div",{className:"flex gap-3",children:[t("div",{className:"flex-1",children:[a(s,{value:"Tanggal Pembayaran"}),a(C,{name:"pembayaran_date",onChange:n,type:"date",className:"mt-1 block w-full",min:r?S(r.tanggal_drop).add(1,"week").format("YYYY-MM-DD"):null}),a(P,{message:c.pembayaran_date,className:"mt-2"})]}),t("div",{className:"flex-1",children:[a(s,{value:"Jumlah Pembayaran"}),a(M,{name:"jumlah",id:"jumlah",className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full mt-1",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:y,value:d.pinjaman,placeholder:"Inputkan angka tanpa sparator"})]})]}),a("div",{className:"flex gap-3 mt-3",children:t("div",{className:"flex-1",children:[a(s,{value:"Status Angsuran"}),a(j,{name:"status",className:"w-full mt-1",onChange:n,nullValue:!0,options:f})]})}),a("div",{className:"block mt-4",children:t("label",{className:"flex items-center",children:[a(T,{name:"danatitipan",value:d.danatitipan,onChange:n}),a("span",{className:"ml-2 text-sm text-gray-600",children:"Dana Titipan?"})]})}),a("div",{className:"w-full mt-3",children:a(w,{className:"ml-auto",title:"Setuju",type:"submit"})})]})]})]})]})};export{H as default};

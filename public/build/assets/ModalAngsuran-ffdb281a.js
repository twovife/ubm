import{_ as v,j as t,a}from"./app-6794986b.js";import{I as s}from"./InputLabel-dc1061f9.js";import{L as k}from"./Loading-26b5fb87.js";import{M as w}from"./Modal-7476a281.js";import{P as j}from"./PrimaryButton-7b63f9f8.js";import{S as C}from"./SelectList-5775e0b8.js";import{T as M}from"./TextInput-d1ef2681.js";import{d as c}from"./dayjs.min-1fd87308.js";import{N as S}from"./react-number-format.es-e752f356.js";import{C as D}from"./index.esm-83c4a1d0.js";import{I}from"./InputError-254a1205.js";import{C as Y}from"./Checkbox-3f8e85a6.js";import"./transition-2a1bbb41.js";const H=({onClose:m,...i})=>{const{show:u,dataArray:r}=i.data,{data:d,setData:o,put:p,processing:h,reset:f,errors:g}=v({pembayaran_date:"",jumlah:"",status:"",danatitipan:!1}),y=(e,l)=>{o(l,e)};i.mantri.map(e=>({id:e.id,value:e.id,display:`${e.nama_karyawan} - Kelompok ${e.area}`}));const b=[{id:1,value:"normal",display:"Normal"},{id:2,value:"cm",display:"CM"},{id:3,value:"mb",display:"MB"},{id:4,value:"ml",display:"ML"}],n=e=>{o(e.target.name,e.target.type==="checkbox"?e.target.checked:e.target.value)},x=()=>{f(),m()},N=e=>{e.preventDefault(),p(route("unit.pinjaman.angsuran.bayar",r.id),{onSuccess:()=>x()})};return t(w,{show:u,onClose:m,children:[a(k,{show:h}),t("div",{className:"p-6 overflow-auto",children:[t("table",{className:"w-full text-sm text-left text-main-500 dark:text-main-400 mb-3",children:[a("thead",{className:"text-xs text-main-700 uppercase bg-main-100 dark:bg-gray-700 dark:text-main-400",children:t("tr",{children:[a("th",{className:"px-6 py-3",children:"No"}),a("th",{className:"px-6 py-3",children:"Tanggal Pembayaran"}),a("th",{className:"px-6 py-3",children:"Jumlah Pembayaran"})]})}),a("tbody",{children:r&&(r.angsuran.length!==0?r.angsuran.map((e,l)=>t("tr",{children:[a("td",{className:"px-6 py-3",children:l+1}),a("td",{className:"px-6 py-3",children:c(e.pembayaran_date).format("DD-MMM-YYYY")}),a("td",{className:"px-6 py-3",children:a(S,{value:e.jumlah,displayType:"text",thousandSeparator:",",prefix:"Rp. "})})]},l)):a("tr",{children:a("td",{className:"px-6 py-3",colSpan:2,children:"Belum Ada Angsuran Terdeteksi"})}))})]}),t("div",{children:[a("h1",{className:"text-xl",children:"Buat Pembayaran Baru"}),t("form",{onSubmit:N,className:"mb-3",children:[t("div",{className:"flex gap-3",children:[t("div",{className:"flex-1",children:[a(s,{value:"Tanggal Pembayaran"}),a(M,{required:!0,name:"pembayaran_date",onChange:n,type:"date",className:"mt-1 block w-full",min:r?c(r.tanggal_drop).add(1,"week").format("YYYY-MM-DD"):null}),a(I,{message:g.pembayaran_date,className:"mt-2"})]}),t("div",{className:"flex-1",children:[a(s,{value:"Jumlah Pembayaran"}),a(D,{name:"jumlah",id:"jumlah",className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full mt-1",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:y,value:d.pinjaman,placeholder:"Inputkan angka tanpa sparator"})]})]}),a("div",{className:"flex gap-3 mt-3",children:t("div",{className:"flex-1",children:[a(s,{value:"Status Angsuran"}),a(C,{required:!0,name:"status",className:"w-full mt-1",onChange:n,nullValue:!0,options:b})]})}),a("div",{className:"block mt-4",children:t("label",{className:"flex items-center",children:[a(Y,{name:"danatitipan",value:d.danatitipan,onChange:n}),a("span",{className:"ml-2 text-sm text-gray-600",children:"Dana Titipan?"})]})}),a("div",{className:"w-full mt-3",children:a(j,{className:"ml-auto",title:"Setuju",type:"submit"})})]})]})]})]})};export{H as default};

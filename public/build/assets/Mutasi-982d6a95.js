import{W as j,_ as C,a as e,j as a}from"./app-80d7f38d.js";import{I as u}from"./InputError-5c6efaae.js";import{I as s}from"./InputLabel-9f21d199.js";import{P as I}from"./PrimaryButton-4e1f76cb.js";import{S as o}from"./SelectList-0c5ae4ac.js";import{T as f}from"./TextInput-63fb0233.js";import{u as K}from"./useServerFilter-fbd363eb.js";const V=({typeMutasi:v,closedModal:g})=>{const{employee:h}=j().props,{wilayah:y,selectedWilayah:p,setSelectedWilayah:b,filteredBranch:N}=K(),{data:n,setData:c,put:w,processing:P,recentlySuccessful:W,errors:i}=C({typeMutasi:parseInt(v),branch_id:"",tanggal_mutasi:"",status_kontrak:""}),k=[{id:1,value:"mantri",display:"Mantri"},{id:3,value:"admin",display:"Admin"},{id:4,value:"kasir",display:"Kasir"},{id:2,value:"kepala mantri",display:"Kepala Mantri"},{id:5,value:"wakil pimpinan",display:"Wakil Pimpinan"},{id:6,value:"pimpinan",display:"Pimpinan"},{id:7,value:"staf",display:"Staf"},{id:8,value:"staf kontrol",display:"Staf Kontrol"},{id:9,value:"pengawas",display:"Pengawas"}],x=[{id:1,value:1,display:"Cadangan"},{id:2,value:2,display:"Kontrak"}],m=t=>{const{name:l,value:r}=t.target;c(l,r)},_=t=>{const{name:l,value:r}=t.target,d={[l]:r,area:0};c(S=>({...S,...d}))};return e("form",{onSubmit:t=>{t.preventDefault(),w(route("emp.perpindahan_karyawan",h.id),{onSuccess:l=>{g()},replace:!0})},className:"mt-3 bg-inherit",children:[a("div",{className:"text-gray-500 font-semibold text-xl mono",children:"Pilih Unit Dan Jabatan Baru"}),e("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-3 mt-3",children:[e("div",{className:"flex-1 w-full",children:[a(s,{value:"Wilayah"}),a(o,{name:"wilayah",value:p,className:"w-full",nullValue:!0,required:!0,options:y,onChange:t=>{const{value:l}=t.target;b(l);const r={branch_id:l};c(d=>({...d,...r}))}})]}),p!==""&&e("div",{className:"flex-1 w-full",children:[a(s,{value:"Unit"}),a(o,{name:"branch_id",className:"w-full",value:n.branch_id,nullValue:!0,required:!0,options:N,onChange:m}),a(u,{message:i.branch_id,className:"mt-2"})]})]}),e("div",{className:"mt-3",children:[a(s,{value:"Tanggal Perpindahan"}),a(f,{name:"tanggal_mutasi",value:n.tangal,required:!0,className:"w-full",type:"date",onChange:m}),a(u,{message:i.tanggal_mutasi,className:"mt-2"})]}),e("div",{className:"mt-3",children:[a(s,{value:"Status Kontrak"}),a(o,{required:!0,name:"status_kontrak",value:n.status_kontrak,className:"w-full",nullvalue:!0,options:x,onChange:m}),a(u,{message:i.status_kontrak,className:"mt-2"})]}),e("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-3 mt-3",children:[e("div",{className:"flex-1 w-full",children:[a(s,{value:"Jabatan"}),a(o,{required:!0,value:n.jabatan,className:"w-full",nullvalue:!0,options:k,name:"jabatan",onChange:_}),a(u,{message:i.jabatan,className:"mt-2"})]}),n.jabatan==="mantri"&&e("div",{className:"flex-1 w-full",children:[a(s,{value:"Kelompok"}),a(f,{required:!0,name:"area",value:n.area,type:"number",min:"0",onChange:m}),a(u,{message:i.area,className:"mt-2"})]})]}),a("div",{className:"mt-3 flex justify-end items-center",children:a(I,{title:"Submit",type:"submit",theme:"green"})})]})};export{V as default};

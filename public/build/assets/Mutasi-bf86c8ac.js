import{q as C,W as q,a as e,j as a}from"./app-95cea68d.js";import{I as u}from"./InputError-b72dd979.js";import{I as s}from"./InputLabel-0ef526aa.js";import{P as I}from"./PrimaryButton-bd47640b.js";import{S as o}from"./SelectList-63c32c8a.js";import{T as h}from"./TextInput-71876430.js";import{u as K}from"./useServerFilter-e75d586e.js";const A=({typeMutasi:v,closedModal:g,setLoading:p})=>{const{employee:y}=C().props,{wilayah:b,selectedWilayah:f,setSelectedWilayah:N,filteredBranch:w}=K(),{data:n,setData:c,put:k,processing:P,recentlySuccessful:W,errors:i}=q({typeMutasi:parseInt(v),branch_id:"",tanggal_mutasi:"",status_kontrak:""}),x=[{id:1,value:"mantri",display:"Mantri"},{id:3,value:"admin",display:"Admin"},{id:4,value:"kasir",display:"Kasir"},{id:2,value:"kepala mantri",display:"Kepala Mantri"},{id:5,value:"wakil pimpinan",display:"Wakil Pimpinan"},{id:6,value:"pimpinan",display:"Pimpinan"},{id:7,value:"staf",display:"Staf"},{id:8,value:"staf kontrol",display:"Staf Kontrol"},{id:9,value:"pengawas",display:"Pengawas"}],S=[{id:1,value:1,display:"Cadangan"},{id:2,value:2,display:"Kontrak"}],m=l=>{const{name:t,value:r}=l.target;c(t,r)},_=l=>{const{name:t,value:r}=l.target,d={[t]:r,area:0};c(j=>({...j,...d}))};return e("form",{onSubmit:l=>{l.preventDefault(),p(!0),k(route("emp.perpindahan_karyawan",y.id),{onSuccess:t=>{g()},onFinish:t=>{p(!1)},replace:!0})},className:"mt-3 bg-inherit",children:[a("div",{className:"text-gray-500 font-semibold text-xl mono",children:"Pilih Unit Dan Jabatan Baru"}),e("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-3 mt-3",children:[e("div",{className:"flex-1 w-full",children:[a(s,{value:"Wilayah"}),a(o,{name:"wilayah",value:f,className:"w-full",nullValue:!0,required:!0,options:b,onChange:l=>{const{value:t}=l.target;N(t);const r={branch_id:t};c(d=>({...d,...r}))}})]}),f!==""&&e("div",{className:"flex-1 w-full",children:[a(s,{value:"Unit"}),a(o,{name:"branch_id",className:"w-full",value:n.branch_id,nullValue:!0,required:!0,options:w,onChange:m}),a(u,{message:i.branch_id,className:"mt-2"})]})]}),e("div",{className:"mt-3",children:[a(s,{value:"Tanggal Perpindahan"}),a(h,{name:"tanggal_mutasi",value:n.tangal,required:!0,className:"w-full",type:"date",onChange:m}),a(u,{message:i.tanggal_mutasi,className:"mt-2"})]}),e("div",{className:"mt-3",children:[a(s,{value:"Status Kontrak"}),a(o,{required:!0,name:"status_kontrak",value:n.status_kontrak,className:"w-full",nullvalue:!0,options:S,onChange:m}),a(u,{message:i.status_kontrak,className:"mt-2"})]}),e("div",{className:"flex flex-col lg:flex-row items-center justify-center gap-3 mt-3",children:[e("div",{className:"flex-1 w-full",children:[a(s,{value:"Jabatan"}),a(o,{required:!0,value:n.jabatan,className:"w-full",nullvalue:!0,options:x,name:"jabatan",onChange:_}),a(u,{message:i.jabatan,className:"mt-2"})]}),n.jabatan==="mantri"&&e("div",{className:"flex-1 w-full",children:[a(s,{value:"Kelompok"}),a(h,{required:!0,name:"area",value:n.area,type:"number",min:"0",onChange:m}),a(u,{message:i.area,className:"mt-2"})]})]}),a("div",{className:"mt-3 flex justify-end items-center",children:a(I,{title:"Submit",type:"submit",theme:"green"})})]})};export{A as default};

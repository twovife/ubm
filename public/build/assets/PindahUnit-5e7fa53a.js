import{W as _,_ as x,r as C,j as n,a as e,F as P}from"./app-7acde36e.js";import{I as i}from"./InputLabel-226deb26.js";import{P as S}from"./PrimaryButton-2b6f8c05.js";import{S as u}from"./SelectList-4d72bb8c.js";import{T as p}from"./TextInput-41c1ca08.js";const W=()=>{const{branch:o,employees:q,title:h,aset:b}=_().props,{data:s,setData:m,put:v,processing:T,errors:F}=x({keterangan_keluar:"",tanggal_keluar:"",jabatan:"",area:0,branch_id:""}),d=a=>{const{value:t,name:l}=a.target;m(l,t)},[c,f]=C.useState(),y=Object.values(o.reduce((a,t)=>{const l=t.wilayah;return a[l]={id:l,value:l,display:`wilayah ${l}`},a},{})),N=h.map(a=>({id:a.id,value:a.title,display:a.title})),w=a=>{const{value:t}=a.target,l=o.filter(r=>r.wilayah==t).map(({id:r,unit:j})=>({id:r,display:j,value:r}));f(l)},k=a=>{const{value:t,name:l}=a.target;m(l,t)},g=a=>{const{value:t,name:l}=a.target;m(l,t)};return n("form",{onSubmit:a=>{a.preventDefault(),v(route("aset.mutating",b.id))},children:[e("div",{className:"mb-1 font-semibold text-gray-500",children:"Migrasi / Perpindahan Tangan"}),n("div",{className:"mb-3",children:[e(i,{value:"Pilih Status"}),e(u,{nullValue:!0,name:"keterangan_keluar",className:"w-full lg:w-3/4",onChange:d,required:!0,value:s.keterangan_keluar,options:[{id:1,value:"mutasi",display:"Mutasi / Pindah Barang"},{id:2,value:"jual",display:"Jual"},{id:3,value:"hilang",display:"Hilang"},{id:4,value:"rusak",display:"Rusak"}]})]}),n("div",{className:"mb-3",children:[e(i,{value:"Tanggal Keluar Aset"}),e(p,{name:"tanggal_keluar",required:!0,type:"date",onChange:d,value:s.tanggal_keluar,className:"w-full lg:w-3/4"})]}),s.keterangan_keluar=="mutasi"&&n("div",{className:"col-span-1 w-full",children:[n("div",{className:"mb-2",children:[e(i,{value:"Wilayah Penempatan Aset",className:"mb-1"}),e(u,{onChange:w,options:y,required:!0,nullValue:!0,className:"block w-full lg:w-3/4"})]}),c&&n(P,{children:[n("div",{className:"mb-2",children:[e(i,{value:"Unit Penempatan Aset",className:"mb-1"}),e(u,{onChange:g,nullValue:!0,required:!0,options:c,name:"branch_id",value:s.branch_id,className:"block w-full lg:w-3/4"})]}),n("div",{className:"mb-2",children:[e(i,{value:"Jabatan",className:"mb-1"}),n("div",{className:"flex gap-2 w-full lg:w-3/4",children:[e(u,{required:!0,onChange:k,nullValue:!0,options:N,className:"flex-[2]",name:"jabatan",id:"jabatan"}),s.jabatan==="mantri"&&e(p,{onChange:g,className:"flex-1",type:"number",required:!0,name:"area",id:"area"})]})]})]})]}),e("div",{className:"mb-2 flex items-end justify-end",children:e(S,{type:"submit",title:"Submit"})})]})};export{W as default};

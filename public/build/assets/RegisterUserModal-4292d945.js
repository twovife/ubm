import{r as c,_ as E,a as e,j as s}from"./app-0a330f65.js";import{I as l}from"./InputError-328ca8b1.js";import{I as t}from"./InputLabel-8ba3c8d6.js";import{M as F}from"./Modal-9477831f.js";import{P as I}from"./PrimaryButton-181769c9.js";import{S as p}from"./SelectList-b2603293.js";import{T as i}from"./TextInput-43f542d2.js";import"./transition-29ff6cc3.js";const S=({show:f,onClose:d,...w})=>{const{employees:h,unit:g}=w,[N,y]=c.useState(),{data:n,setData:v,post:_,processing:b,errors:o,reset:u}=E({username:"",employee_id:"",password:"",password_confirmation:""}),x=g.map(a=>({id:a.id,value:a.id,display:a.unit})),C=a=>{const k=h.filter(r=>r.branch_id==a.target.value).map(r=>({id:r.id,value:r.id,display:r.nama_karyawan}));y(k)};c.useEffect(()=>()=>{u("password","password_confirmation")},[]);const m=a=>{v(a.target.name,a.target.type==="checkbox"?a.target.checked:a.target.value)};return e(F,{maxWidth:"2xl",show:f,onClose:d,children:s("form",{onSubmit:a=>{a.preventDefault(),_(route("register"),{onSuccess:()=>{u("password"),d()}})},className:"p-6",children:[s("div",{children:[e(t,{htmlFor:"username",value:"Username"}),e(i,{id:"username",name:"username",value:n.username,className:"mt-1 block w-full",autoComplete:"username",isFocused:!0,onChange:m,required:!0}),e(l,{message:o.username,className:"mt-2"})]}),s("div",{className:"mt-4",children:[e(t,{value:"Unit"}),e(p,{options:x,className:"mt-1 block w-full",onChange:C,nullValue:!0})]}),s("div",{className:"mt-4",children:[e(t,{htmlFor:"employee_id",value:"Nama Karyawan"}),e(p,{options:N,nullValue:!0,onChange:m,name:"employee_id",className:"mt-1 block w-full"}),e(l,{message:o.employee_id,className:"mt-2"})]}),s("div",{className:"mt-4",children:[e(t,{htmlFor:"password",value:"Password"}),e(i,{id:"password",type:"password",name:"password",value:n.password,className:"mt-1 block w-full",autoComplete:"new-password",onChange:m,required:!0}),e(l,{message:o.password,className:"mt-2"})]}),s("div",{className:"mt-4",children:[e(t,{htmlFor:"password_confirmation",value:"Confirm Password"}),e(i,{id:"password_confirmation",type:"password",name:"password_confirmation",value:n.password_confirmation,className:"mt-1 block w-full",autoComplete:"new-password",onChange:m,required:!0}),e(l,{message:o.password_confirmation,className:"mt-2"})]}),e("div",{className:"flex items-center justify-end mt-4",children:e(I,{type:"submit",className:"ml-4",disabled:b,children:"Register"})})]})})},V=S;export{V as default};

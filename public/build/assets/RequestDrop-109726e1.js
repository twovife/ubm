import{r as n,j as t,a as e,n as p,F as x,g as b}from"./app-ff24692e.js";import{I as N}from"./InputLabel-35b3bafd.js";import{P as y}from"./PrimaryButton-7b80c783.js";import{T as f}from"./TextInput-57b11146.js";import{M as v}from"./MobileLayout-bcbcd87a.js";import k from"./OldCustomer-11d391d3.js";import g from"./NewCustomer-7710ac62.js";import"./LinkButton-809221fc.js";import"./index.esm-70caf1be.js";import"./iconBase-18c4a41e.js";import"./Checkbox-bc797398.js";import"./InputError-5311aa99.js";import"./Loading-8d725140.js";import"./transition-384ffdb0.js";const U=({customer:c,...l})=>{console.log(l);const[s,w]=n.useState(c),[j,d]=n.useState(!1),[i,o]=n.useState(l.keyword??""),m=l.employees.map(a=>({id:a.id,value:a.id,display:`${a.nama_karyawan} - ${a.jabatan} ${a.area}`})),h=a=>{o(a.target.value)},u=a=>{a.preventDefault(),b.get(route("mantriapps.pinjaman.requestDrop"),{nik:i},{onBefore:()=>d(!0),onFinish:()=>d(!1)})};return t(v,{auth:l.auth,errors:l.errors,header:e("h1",{children:"Tambah Permohonan Drop / Pinjaman"}),children:[e(p,{title:"Data Pinjaman"}),e("div",{className:"py-3",children:e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e("div",{className:"border p-6 text-main-800",children:t("div",{className:"gap-6",children:[t("div",{children:[t("form",{onSubmit:u,className:"mb-3",children:[e(N,{value:"Masukkan Nomor KTP"}),t("div",{className:"flex items-baseline gap-3",children:[e(f,{className:"mt-1 block w-full",name:"cek_ktp",value:i,onChange:h,id:"cek_ktp"}),e(y,{size:"sm",className:"whitespace-nowrap",title:"Cek KTP",type:"submit"})]})]}),s&&t(x,{children:[t("div",{className:"mb-6",children:[e("h1",{className:"text-lg font-semibold",children:"Data Customer"}),t("div",{className:"flex w-full justify-between border-b border-black/40 mb-2",children:[e("div",{children:"NIK"}),e("div",{children:s.nik})]}),t("div",{className:"flex w-full justify-between border-b border-black/40 mb-2",children:[e("div",{children:"Nomor KK"}),e("div",{children:s.no_kk})]}),t("div",{className:"flex w-full justify-between border-b border-black/40 mb-2",children:[e("div",{children:"Nama"}),e("div",{children:s.nama})]})]}),l.request.length!==0&&t("div",{className:"mb-6",children:[e("h1",{className:"text-lg font-semibold mb-3",children:"Request Berjalan"}),e("div",{className:"max-h-[30vh] overflow-y-auto",children:t("table",{className:"w-full text-sm text-left text-main-500 dark:text-main-400",children:[e("thead",{className:"text-xs text-main-700 uppercase bg-main-100 dark:bg-gray-700 dark:text-main-400",children:t("tr",{children:[e("th",{className:"px-6 py-3",children:"Drop"}),e("th",{className:"px-6 py-3",children:"Unit"}),e("th",{className:"px-6 py-3",children:"Status"})]})}),e("tbody",{children:l.request.map((a,r)=>t("tr",{children:[e("td",{className:"px-6 py-4",children:a.tanggal_drop}),e("td",{className:"px-6 py-4",children:a.branch.unit}),e("td",{className:"px-6 py-4",children:a.status})]},r))})]})})]}),l.pinjaman.length!==0?t("div",{className:"mb-6",children:[e("h1",{className:"text-lg font-semibold mb-3",children:"History Pinjaman"}),e("div",{className:"max-h-[30vh] overflow-y-auto",children:t("table",{className:"w-full text-sm text-left text-main-500 dark:text-main-400",children:[e("thead",{className:"text-xs text-main-700 uppercase bg-main-100 dark:bg-gray-700 dark:text-main-400",children:t("tr",{className:"text-center",children:[e("th",{className:"px-6 py-3",children:"Drop"}),e("th",{className:"px-6 py-3",children:"Unit"}),e("th",{className:"px-6 py-3",children:"Status"}),e("th",{className:"px-6 py-3",children:"Ket"})]})}),e("tbody",{className:"text-center",children:l.pinjaman.map((a,r)=>t("tr",{children:[e("td",{className:"px-6 py-4",children:a.tanggal_drop}),e("td",{className:"px-6 py-4",children:a.branch.unit}),e("td",{className:"px-6 py-4 uppercase",children:a.status}),e("td",{className:"px-6 py-4 uppercase",children:a.saldo==0?"Lunas":"Belum Lunas"})]},r))})]})})]}):e("div",{className:"text-lg font-semibold",children:"Customer Belum Pernah Melakukan Pinjaman"})]}),l.keyword&&!s&&e("div",{className:"text-xl",children:"Data Customer Tidak Ditemukan"})]}),l.keyword&&!s&&e("div",{children:e(g,{nik:i,auth:l.auth,employees:m})}),s&&e("div",{children:e(k,{nik:i,auth:l.auth,employees:m})})]})})})})]})};export{U as default};

import{r as l,j as t,a as e,b as x,F as c,y as b}from"./app-0a1a056b.js";import{I as N}from"./InputLabel-472e2c98.js";import{P as y}from"./PrimaryButton-cdff6b9c.js";import{T as f}from"./TextInput-1d3cf388.js";import{M as w}from"./MobileLayout-b05dbe3f.js";import k from"./OldCustomer-fad7b1cd.js";import v from"./NewCustomer-e81582e4.js";import"./LinkButton-31e261d1.js";import"./index.esm-893fc784.js";import"./iconBase-359f7aca.js";import"./Checkbox-b7b565a9.js";import"./InputError-9141874c.js";import"./Loading-319b2562.js";import"./transition-d63cfb93.js";import"./index.esm-4705c6ea.js";import"./TextArea-198364fb.js";const E=({customer:o,...r})=>{const[s,g]=l.useState(o),[j,d]=l.useState(!1),[i,h]=l.useState(r.keyword??""),m=r.employees.map(a=>({id:a.id,value:a.id,display:`${a.nama_karyawan} - ${a.jabatan} ${a.area}`})),p=a=>{h(a.target.value)},u=a=>{a.preventDefault(),b.get(route("mantriapps.pinjaman.requestDrop"),{nik:i},{onBefore:()=>d(!0),onFinish:()=>d(!1)})};return t(w,{auth:r.auth,errors:r.errors,header:e("h1",{children:"Tambah Permohonan Drop / Pinjaman"}),children:[e(x,{title:"Data Pinjaman"}),e("div",{className:"py-3",children:t("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:[e("div",{className:"py-3 px-6 text-main-800 rounded-md border mb-3",children:t("form",{onSubmit:u,children:[e(N,{value:"Masukkan Nomor KTP"}),t("div",{className:"flex items-baseline gap-3",children:[e(f,{className:"mt-1 block w-full",name:"cek_ktp",value:i,onChange:p,id:"cek_ktp"}),e(y,{size:"sm",className:"whitespace-nowrap",title:"Cek KTP",type:"submit"})]})]})}),s&&t(c,{children:[t("div",{className:"py-3 px-6 text-main-800 rounded-md border mb-3",children:[e("h1",{className:"text-lg font-semibold",children:"Data Customer"}),t("div",{className:"flex w-full justify-between border-b border-black/40 mb-2",children:[e("div",{children:"NIK"}),e("div",{children:s.nik})]}),t("div",{className:"flex w-full justify-between border-b border-black/40 mb-2",children:[e("div",{children:"Nomor KK"}),e("div",{children:s.no_kk})]}),t("div",{className:"flex w-full justify-between border-b border-black/40 mb-2",children:[e("div",{children:"Nama"}),e("div",{children:s.nama})]})]}),r.request.length!==0&&t("div",{className:"py-3 px-6 text-main-800 rounded-md border mb-3",children:[e("h1",{className:"text-lg font-semibold mb-3",children:"Request Berjalan"}),e("div",{className:"max-h-[30vh] overflow-y-auto",children:t("table",{className:"w-full text-sm text-left text-main-500 dark:text-main-400",children:[e("thead",{className:"text-xs text-main-700 uppercase bg-main-100 dark:bg-gray-700 dark:text-main-400",children:t("tr",{children:[e("th",{className:"px-6 py-3",children:"Drop"}),e("th",{className:"px-6 py-3",children:"Unit"}),e("th",{className:"px-6 py-3",children:"Status"})]})}),e("tbody",{children:r.request.map((a,n)=>t("tr",{children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:a.tanggal_drop}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:a.branch.unit}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:a.status})]},n))})]})})]}),r.pinjaman.length!==0?t("div",{className:"py-3 px-6 text-main-800 rounded-md border mb-3",children:[e("h1",{className:"text-lg font-semibold mb-3",children:"History Pinjaman"}),e("div",{className:"max-h-[30vh] overflow-y-auto overflow-x-auto",children:t("table",{className:"w-full text-sm text-left text-main-500 dark:text-main-400",children:[e("thead",{className:"text-xs text-main-700 uppercase bg-main-100 dark:bg-gray-700 dark:text-main-400",children:t("tr",{className:"text-center",children:[e("th",{className:"px-6 py-3",children:"Drop"}),e("th",{className:"px-6 py-3",children:"Unit"}),e("th",{className:"px-6 py-3",children:"Status"}),e("th",{className:"px-6 py-3",children:"Ket"})]})}),e("tbody",{className:"text-center",children:r.pinjaman.map((a,n)=>t("tr",{children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:a.tanggal_drop}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:a.branch.unit}),e("td",{className:"px-6 py-4 uppercase whitespace-nowrap",children:a.status}),e("td",{className:"px-6 py-4 uppercase  whitespace-nowrap",children:a.saldo==0?"Lunas":"Belum Lunas"})]},n))})]})})]}):e("div",{className:"py-3 px-6 rounded-md border mb-3 text-red-500 font-semibold",children:"Customer Belum Pernah Melakukan Pinjaman"}),e(k,{nik:i,auth:r.auth,employees:m})]}),r.keyword&&!s&&t(c,{children:[e("div",{className:"py-3 px-6 rounded-md border mb-3 text-red-500 font-semibold",children:"Data Customer Tidak Ditemukan"}),e("div",{children:e(v,{nik:i,auth:r.auth,employees:m})})]})]})})]})};export{E as default};

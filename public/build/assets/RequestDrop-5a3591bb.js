import{r as s,j as t,a as e,F as y,b as j}from"./app-155bc9b8.js";import{I as B}from"./InputLabel-e565b117.js";import{P as i}from"./PrimaryButton-a178a35d.js";import{T as O}from"./TextInput-ffcc00a9.js";import{M as T}from"./MobileLayout-b1c12fa7.js";import{A,c as M}from"./index.esm-4316ac1d.js";import P from"./CreateNewCustomerModal-a4780614.js";import D from"./CreateOldCustomerModal-7174db98.js";import"./iconBase-fb62eb37.js";import"./InputError-cbe4b63a.js";import"./Modal-2979aa42.js";import"./transition-f8075e29.js";const V=({data:I,...n})=>{const[z,N]=s.useState(),[r,d]=s.useState(),[l,p]=s.useState(null),[f,c]=s.useState(!1),[C,u]=s.useState(!1),[o,k]=s.useState("customer"),x=a=>{d(null),p(a.target.value)},w=async a=>{a.preventDefault();const{status:b,data:v}=await j.get(route("api.cekcustomerbynik"),{params:{nik:l}}).then(m=>m).catch(m=>m);d(b),N(v.data),b==200&&document.getElementById("nik").setAttribute("readOnly","readOnly")},g=a=>{c(!1)},S=a=>{u(!1)},h=a=>{k(a.target.getAttribute("data-button"))};return t(T,{auth:n.auth,errors:n.errors,header:e("h1",{children:"Tambah Permohonan Drop / Pinjaman"}),children:[t("form",{onSubmit:w,children:[e(B,{value:"Silahkan Masukkan NIK Customer :"}),e(O,{className:"w-full text-xl mt-2",name:"nik",id:"nik",onChange:x,required:!0}),t("div",{className:"mt-2 flex gap-2",children:[e(i,{disabled:r==200,type:"submit",size:"md",className:"block ml-auto",title:"Cari",theme:"primary",icon:e(A,{})}),e(i,{size:"md",className:`block ${r==200?"":"hidden"}`,title:"Buat Baru",theme:"primary",icon:e(M,{}),onClick:()=>u(!0)})]})]}),r&&(r==200?t(y,{children:[e("div",{className:"mt-2",children:t("div",{className:"w-full bg-red-50 flex",children:[e(i,{disabled:o=="customer",className:"w-full rounded-none rounded-l-lg flex justify-center py-3",title:"Customer","data-button":"customer",onClick:h}),e(i,{disabled:o=="pinjaman",className:"w-full rounded-none rounded-r-lg flex justify-center",title:"Pinjaman","data-button":"pinjaman",onClick:h})]})}),t("div",{className:"mt-2",id:"tabContent",children:[e("div",{"data-tab":"customer",className:`${o=="customer"?"":"hidden"}`,children:e("div",{className:"p-4 rounded-lg shadow-md border",children:e("h1",{className:"font-semibold text-lg text-main-800",children:"Detail Nasabah"})})}),e("div",{"data-tab":"pinjaman",className:`${o=="pinjaman"?"":"hidden"}`,children:e("div",{className:"p-4 rounded-lg shadow-md border",children:e("h1",{className:"font-semibold text-lg text-main-800",children:"History Pinjaman Nasabah"})})})]})]}):r==204?e("div",{className:"mt-2",children:t("div",{className:"border p-4 rounded shadow border-gray-300 text-main-800 text-lg",children:[t("div",{className:" text-center",children:[e("h1",{className:"text-2xl font-semibold",children:"Customer Belum Terdaftar di Sistem UBM"}),e("p",{className:"mt-2",children:"Tambahkan Customer ke Sistem UBM untuk melanjutkan proses pinjaman baru"})]}),e("div",{className:"mt-2",children:e(i,{className:"block ml-auto",size:"md",title:"Buat Baru",onClick:()=>c(!0)})})]})}):e("div",{children:"Somethink error detection"})),e(P,{show:f,onClose:g,auth:n.auth,dataNik:l}),e(D,{show:C,onClose:S,auth:n.auth,dataNik:l})]})};export{V as default};

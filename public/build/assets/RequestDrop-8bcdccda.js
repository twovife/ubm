import{r as l,j as t,a as e,n as x,F as c,g as b}from"./app-7acde36e.js";import{I as N}from"./InputLabel-226deb26.js";import{P as y}from"./PrimaryButton-2b6f8c05.js";import{T as f}from"./TextInput-41c1ca08.js";import{M as w}from"./MobileLayout-2746871f.js";import k from"./OldCustomer-ced8fbef.js";import v from"./NewCustomer-e927db6c.js";import"./LinkButton-adc96ab6.js";import"./index.esm-2ecd4612.js";import"./iconBase-81aed7fc.js";import"./Checkbox-12fd6555.js";import"./InputError-e5c0ff07.js";import"./Loading-ef120ae5.js";import"./transition-2f2c3694.js";import"./index.esm-a0a88423.js";import"./TextArea-fac603ba.js";const E=({customer:o,...r})=>{const[n,g]=l.useState(o),[j,d]=l.useState(!1),[s,h]=l.useState(r.keyword??""),m=r.employees.map(a=>({id:a.id,value:a.id,display:`${a.nama_karyawan} - ${a.jabatan} ${a.area}`})),p=a=>{h(a.target.value)},u=a=>{a.preventDefault(),b.get(route("mantriapps.pinjaman.requestDrop"),{nik:s},{onBefore:()=>d(!0),onFinish:()=>d(!1)})};return t(w,{auth:r.auth,errors:r.errors,header:e("h1",{children:"Tambah Permohonan Drop / Pinjaman"}),children:[e(x,{title:"Data Pinjaman"}),e("div",{className:"py-3",children:t("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:[e("div",{className:"py-3 px-6 text-main-800 rounded-md border mb-3",children:t("form",{onSubmit:u,children:[e(N,{value:"Masukkan Nomor KTP"}),t("div",{className:"flex items-baseline gap-3",children:[e(f,{className:"mt-1 block w-full",name:"cek_ktp",value:s,onChange:p,id:"cek_ktp"}),e(y,{size:"sm",className:"whitespace-nowrap",title:"Cek KTP",type:"submit"})]})]})}),n&&t(c,{children:[t("div",{className:"py-3 px-6 text-main-800 rounded-md border mb-3",children:[e("h1",{className:"text-lg font-semibold",children:"Data Customer"}),t("div",{className:"flex w-full justify-between border-b border-black/40 mb-2",children:[e("div",{children:"NIK"}),e("div",{children:n.nik})]}),t("div",{className:"flex w-full justify-between border-b border-black/40 mb-2",children:[e("div",{children:"Nomor KK"}),e("div",{children:n.no_kk})]}),t("div",{className:"flex w-full justify-between border-b border-black/40 mb-2",children:[e("div",{children:"Nama"}),e("div",{children:n.nama})]})]}),r.request.length!==0&&t("div",{className:"py-3 px-6 text-main-800 rounded-md border mb-3",children:[e("h1",{className:"text-lg font-semibold mb-3",children:"Request Berjalan"}),e("div",{className:"max-h-[30vh] overflow-y-auto",children:t("table",{className:"w-full text-sm text-left text-main-500 dark:text-main-400",children:[e("thead",{className:"text-xs text-main-700 uppercase bg-main-100 dark:bg-gray-700 dark:text-main-400",children:t("tr",{children:[e("th",{className:"px-6 py-3",children:"Drop"}),e("th",{className:"px-6 py-3",children:"Unit"}),e("th",{className:"px-6 py-3",children:"Status"})]})}),e("tbody",{children:r.request.map((a,i)=>t("tr",{children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:a.tanggal_drop}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:a.branch.unit}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:a.status})]},i))})]})})]}),r.pinjaman.length!==0?t("div",{className:"py-3 px-6 text-main-800 rounded-md border mb-3",children:[e("h1",{className:"text-lg font-semibold mb-3",children:"History Pinjaman"}),e("div",{className:"max-h-[30vh] overflow-y-auto overflow-x-auto",children:t("table",{className:"w-full text-sm text-left text-main-500 dark:text-main-400",children:[e("thead",{className:"text-xs text-main-700 uppercase bg-main-100 dark:bg-gray-700 dark:text-main-400",children:t("tr",{className:"text-center",children:[e("th",{className:"px-6 py-3",children:"Drop"}),e("th",{className:"px-6 py-3",children:"Unit"}),e("th",{className:"px-6 py-3",children:"Status"}),e("th",{className:"px-6 py-3",children:"Ket"})]})}),e("tbody",{className:"text-center",children:r.pinjaman.map((a,i)=>t("tr",{children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:a.tanggal_drop}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:a.branch.unit}),e("td",{className:"px-6 py-4 uppercase whitespace-nowrap",children:a.status}),e("td",{className:"px-6 py-4 uppercase  whitespace-nowrap",children:a.saldo==0?"Lunas":"Belum Lunas"})]},i))})]})})]}):e("div",{className:"py-3 px-6 rounded-md border mb-3 text-red-500 font-semibold",children:"Customer Belum Pernah Melakukan Pinjaman"}),e(k,{nik:s,auth:r.auth,employees:m})]}),r.keyword&&!n&&t(c,{children:[e("div",{className:"py-3 px-6 rounded-md border mb-3 text-red-500 font-semibold",children:"Data Customer Tidak Ditemukan"}),e("div",{children:e(v,{nik:s,auth:r.auth,employees:m})})]})]})})]})};export{E as default};

import{r as l,j as t,a as e,b as x,F as c,y as b}from"./app-42a4cbf4.js";import{I as N}from"./InputLabel-6f1fa1e8.js";import{P as y}from"./PrimaryButton-7c299fa1.js";import{T as f}from"./TextInput-96ee7a2f.js";import{M as w}from"./MobileLayout-9183c8a2.js";import k from"./OldCustomer-c9aa91f2.js";import v from"./NewCustomer-aa8087a6.js";import"./LinkButton-1fb403df.js";import"./index.esm-9d4d4872.js";import"./iconBase-30bf290a.js";import"./Checkbox-70ab1deb.js";import"./InputError-0cedbe19.js";import"./Loading-a3bef163.js";import"./transition-c6ecc3b6.js";import"./index.esm-b1b6a470.js";import"./TextArea-41acb85f.js";const E=({customer:o,...r})=>{const[s,g]=l.useState(o),[j,d]=l.useState(!1),[i,h]=l.useState(r.keyword??""),m=r.employees.map(a=>({id:a.id,value:a.id,display:`${a.nama_karyawan} - ${a.jabatan} ${a.area}`})),p=a=>{h(a.target.value)},u=a=>{a.preventDefault(),b.get(route("mantriapps.pinjaman.requestDrop"),{nik:i},{onBefore:()=>d(!0),onFinish:()=>d(!1)})};return t(w,{auth:r.auth,errors:r.errors,header:e("h1",{children:"Tambah Permohonan Drop / Pinjaman"}),children:[e(x,{title:"Data Pinjaman"}),e("div",{className:"py-3",children:t("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:[e("div",{className:"py-3 px-6 text-main-800 rounded-md border mb-3",children:t("form",{onSubmit:u,children:[e(N,{value:"Masukkan Nomor KTP"}),t("div",{className:"flex items-baseline gap-3",children:[e(f,{className:"mt-1 block w-full",name:"cek_ktp",value:i,onChange:p,id:"cek_ktp"}),e(y,{size:"sm",className:"whitespace-nowrap",title:"Cek KTP",type:"submit"})]})]})}),s&&t(c,{children:[t("div",{className:"py-3 px-6 text-main-800 rounded-md border mb-3",children:[e("h1",{className:"text-lg font-semibold",children:"Data Customer"}),t("div",{className:"flex w-full justify-between border-b border-black/40 mb-2",children:[e("div",{children:"NIK"}),e("div",{children:s.nik})]}),t("div",{className:"flex w-full justify-between border-b border-black/40 mb-2",children:[e("div",{children:"Nomor KK"}),e("div",{children:s.no_kk})]}),t("div",{className:"flex w-full justify-between border-b border-black/40 mb-2",children:[e("div",{children:"Nama"}),e("div",{children:s.nama})]})]}),r.request.length!==0&&t("div",{className:"py-3 px-6 text-main-800 rounded-md border mb-3",children:[e("h1",{className:"text-lg font-semibold mb-3",children:"Request Berjalan"}),e("div",{className:"max-h-[30vh] overflow-y-auto",children:t("table",{className:"w-full text-sm text-left text-main-500 dark:text-main-400",children:[e("thead",{className:"text-xs text-main-700 uppercase bg-main-100 dark:bg-gray-700 dark:text-main-400",children:t("tr",{children:[e("th",{className:"px-6 py-3",children:"Drop"}),e("th",{className:"px-6 py-3",children:"Unit"}),e("th",{className:"px-6 py-3",children:"Status"})]})}),e("tbody",{children:r.request.map((a,n)=>t("tr",{children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:a.tanggal_drop}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:a.branch.unit}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:a.status})]},n))})]})})]}),r.pinjaman.length!==0?t("div",{className:"py-3 px-6 text-main-800 rounded-md border mb-3",children:[e("h1",{className:"text-lg font-semibold mb-3",children:"History Pinjaman"}),e("div",{className:"max-h-[30vh] overflow-y-auto overflow-x-auto",children:t("table",{className:"w-full text-sm text-left text-main-500 dark:text-main-400",children:[e("thead",{className:"text-xs text-main-700 uppercase bg-main-100 dark:bg-gray-700 dark:text-main-400",children:t("tr",{className:"text-center",children:[e("th",{className:"px-6 py-3",children:"Drop"}),e("th",{className:"px-6 py-3",children:"Unit"}),e("th",{className:"px-6 py-3",children:"Status"}),e("th",{className:"px-6 py-3",children:"Ket"})]})}),e("tbody",{className:"text-center",children:r.pinjaman.map((a,n)=>t("tr",{children:[e("td",{className:"px-6 py-4 whitespace-nowrap",children:a.tanggal_drop}),e("td",{className:"px-6 py-4 whitespace-nowrap",children:a.branch.unit}),e("td",{className:"px-6 py-4 uppercase whitespace-nowrap",children:a.status}),e("td",{className:"px-6 py-4 uppercase  whitespace-nowrap",children:a.saldo==0?"Lunas":"Belum Lunas"})]},n))})]})})]}):e("div",{className:"py-3 px-6 rounded-md border mb-3 text-red-500 font-semibold",children:"Customer Belum Pernah Melakukan Pinjaman"}),e(k,{nik:i,auth:r.auth,employees:m})]}),r.keyword&&!s&&t(c,{children:[e("div",{className:"py-3 px-6 rounded-md border mb-3 text-red-500 font-semibold",children:"Data Customer Tidak Ditemukan"}),e("div",{children:e(v,{nik:i,auth:r.auth,employees:m})})]})]})})]})};export{E as default};

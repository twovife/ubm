import{_ as R,r as x,a as i,j as t,F as q,g as J}from"./app-34cdcbf9.js";import{P as j}from"./PrimaryButton-dc934c7f.js";import{S as h}from"./SelectList-9aed8459.js";import{u as z}from"./useServerFilter-6d653e23.js";import{T as m}from"./TextInput-0970bdd4.js";import{B as A}from"./ButtonWrapper-1ebf408f.js";const Y=({loading:G,setLoading:c,urlLink:g=route("emp.index"),localState:B,FilterWilayahOnly:F=!1,availableBranch:N=!1,availableDate:_=!1,availableMonth:k=!1,availablePlanText:w=!1,planTextName:l="search",children:D})=>{const{selectedSearchParam:d,wilayah:p,selectedWilayah:o,setSelectedWilayah:W,filteredBranch:E,selectedBranch_id:y,selectedBulan:b}=z(),{data:s,setData:n,get:O,processing:v}=R({}),r=e=>{const{name:a,value:u}=e.target;w?a==l?n(f=>{const S={[a]:u};for(const C in f)C!=="search"&&(S[C]="");return S}):n(f=>({...f,[a]:u,[l]:""})):n(a,u)},P=e=>{const{value:a}=e.target;W(a),n({branch_id:""})},V=e=>{e.preventDefault(),O(g)},I=e=>{e.preventDefault(),J.visit(g,{onStart:a=>c(!0),onFinish:a=>c(!1)}),localStorage.setItem(B,JSON.stringify({oldFilter:[],oldPage:1}))};return x.useEffect(()=>{const e={};d?e[l]=d:(y&&(e.branch_id=y),b&&(e.bulan=b),o&&(e.wilayah=o)),Object.keys(e).length>0&&n(e)},[]),x.useEffect(()=>{c(v)},[v]),i("form",{onSubmit:V,className:"flex w-full flex-col lg:flex-row gap-3 items-end lg:items-center justify-end",children:[i("div",{className:"flex flex-row justify-end gap-3 flex-wrap w-full lg:w-auto",children:[k&&t(m,{type:"month",className:"w-full lg:w-auto",onChange:r,name:"bulan",value:s.bulan}),_&&t(m,{type:"date",className:"w-full lg:w-auto",onChange:r,name:"tanggal",value:s.tanggal}),F&&t(h,{name:"wilayah",value:s.wilayah,className:"w-full lg:w-auto",nullValue:!0,options:p,onChange:r}),w&&t(m,{type:"text",className:"w-full lg:w-auto",onChange:r,name:l,value:s[l],placeholder:l}),N&&i(q,{children:[t(h,{name:"wilayah",value:o,className:"w-full lg:w-auto inline-block",nullValue:!0,options:p,onChange:P}),o!==""&&t(h,{name:"branch_id",className:"w-full lg:w-auto",value:s.branch_id,nullValue:!0,required:!0,options:E,onChange:r})]})]}),i(A,{children:[t(j,{type:"submit",theme:"green",className:"block",title:"Cari"}),t(j,{onClick:I,type:"button",theme:"yellow",className:"block",title:"Reset"}),D]})]})};export{Y as S};

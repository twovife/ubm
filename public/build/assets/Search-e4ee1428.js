import{_ as W,r as p,a as o,j as a,F as E,g as O}from"./app-0b5f1112.js";import{P as d}from"./PrimaryButton-15ae1d1a.js";import{S as u}from"./SelectList-a39251a6.js";import{u as P}from"./useServerFilter-89952a47.js";import{T as w}from"./TextInput-67fb2e62.js";import{B as V}from"./ButtonWrapper-9d00536d.js";const G=({loading:I,setLoading:r,urlLink:c=route("emp.index"),localState:y,FilterWilayahOnly:b=!1,availableBranch:v=!1,availableDate:S=!1,availableMonth:x=!1,children:N})=>{const{wilayah:m,selectedWilayah:l,setSelectedWilayah:C,filteredBranch:j,selectedBranch_id:f,selectedBulan:h}=P(),{data:n,setData:i,get:B,processing:g}=W({}),s=e=>{const{name:t,value:D}=e.target;i(t,D)},F=e=>{const{value:t}=e.target;C(t),i({branch_id:""})},_=e=>{e.preventDefault(),B(c)},k=e=>{e.preventDefault(),O.visit(c,{onStart:t=>r(!0),onFinish:t=>r(!1)}),localStorage.setItem(y,JSON.stringify({oldFilter:[],oldPage:1}))};return p.useEffect(()=>{const e={};f&&(e.branch_id=f),h&&(e.bulan=h),l&&(e.wilayah=l),Object.keys(e).length>0&&i(e)},[]),p.useEffect(()=>{r(g)},[g]),o("form",{onSubmit:_,className:"flex w-full flex-col lg:flex-row gap-3 items-end lg:items-center justify-end",children:[o("div",{className:"flex flex-row justify-end gap-3 flex-wrap w-full lg:w-auto",children:[x&&a(w,{type:"month",className:"w-full lg:w-auto",onChange:s,name:"bulan",value:n.bulan}),S&&a(w,{type:"date",className:"w-full lg:w-auto",onChange:s,name:"tanggal",value:n.tanggal}),b&&a(u,{name:"wilayah",value:n.wilayah,className:"w-full lg:w-auto",nullValue:!0,options:m,onChange:s}),v&&o(E,{children:[a(u,{name:"wilayah",value:l,className:"w-full lg:w-auto inline-block",nullValue:!0,options:m,onChange:F}),l!==""&&a(u,{name:"branch_id",className:"w-full lg:w-auto",value:n.branch_id,nullValue:!0,required:!0,options:j,onChange:s})]})]}),o(V,{children:[a(d,{type:"submit",theme:"green",className:"block",title:"Cari"}),a(d,{onClick:k,type:"button",theme:"yellow",className:"block",title:"Reset"}),N]})]})};export{G as S};

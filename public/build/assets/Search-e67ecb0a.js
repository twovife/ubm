import{_ as E,r as p,a as i,j as a,F as O,g as P}from"./app-80d7f38d.js";import{P as d}from"./PrimaryButton-4e1f76cb.js";import{S as c}from"./SelectList-0c5ae4ac.js";import{u as V}from"./useServerFilter-fbd363eb.js";import{T as y}from"./TextInput-63fb0233.js";const z=({loading:W,setLoading:r,urlLink:u=route("emp.index"),localState:w,FilterWilayahOnly:b=!1,availableBranch:v=!1,availableDate:S=!1,availableMonth:x=!1,children:N})=>{const{wilayah:m,selectedWilayah:s,setSelectedWilayah:C,filteredBranch:_,selectedBranch_id:f,selectedBulan:h}=V(),{data:t,setData:o,get:F,processing:g}=E({});console.log(t);const n=e=>{const{name:l,value:k}=e.target;o(l,k)},j=e=>{const{value:l}=e.target;C(l),o({branch_id:""})},B=e=>{e.preventDefault(),F(u,{only:["datas","server_filter","batch_datas"]})},D=e=>{e.preventDefault(),P.visit(u,{onStart:l=>r(!0),onFinish:l=>r(!1)}),localStorage.setItem(w,JSON.stringify({oldFilter:[],oldPage:1}))};return p.useEffect(()=>{const e={};f&&(e.branch_id=f),h&&(e.bulan=h),s&&(e.wilayah=s),Object.keys(e).length>0&&o(e)},[]),p.useEffect(()=>{r(g)},[g]),i("form",{onSubmit:B,className:"flex lg:flex-row flex-col items-center justify-start gap-3 w-full lg:w-auto",children:[x&&a(y,{type:"month",className:"w-full",onChange:n,name:"bulan",value:t.bulan}),S&&a(y,{type:"date",className:"w-full",onChange:n,name:"tanggal",value:t.tanggal}),b&&a(c,{name:"wilayah",value:t.wilayah,className:"w-full",nullValue:!0,options:m,onChange:n}),v&&i(O,{children:[a(c,{name:"wilayah",value:s,className:"w-full",nullValue:!0,options:m,onChange:j}),s!==""&&a(c,{name:"branch_id",className:"w-full",value:t.branch_id,nullValue:!0,required:!0,options:_,onChange:n})]}),i("div",{className:"flex flex-row gap-3",children:[a(d,{type:"submit",theme:"green",className:"block",title:"Cari"}),a(d,{onClick:D,type:"button",theme:"yellow",className:"block",title:"Reset"}),N]})]})};export{z as S};

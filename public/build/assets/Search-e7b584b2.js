import{_ as k,r as p,j as i,a,F as E,g as O}from"./app-577095aa.js";import{P as d}from"./PrimaryButton-e87527a9.js";import{S as c}from"./SelectList-2f891eca.js";import{u as P}from"./useServerFilter-39cea4dc.js";import{T as y}from"./TextInput-f601cbff.js";const J=({loading:V,setLoading:r,urlLink:u=route("emp.index"),localState:w,FilterWilayahOnly:b=!1,availableBranch:v=!1,availableDate:S=!1,availableMonth:x=!1})=>{const{wilayah:m,selectedWilayah:s,setSelectedWilayah:N,filteredBranch:C,selectedBranch_id:f,selectedBulan:h}=P(),{data:t,setData:o,get:_,processing:g}=k({});console.log(t);const n=e=>{const{name:l,value:D}=e.target;o(l,D)},F=e=>{const{value:l}=e.target;N(l),o({branch_id:""})},j=e=>{e.preventDefault(),_(u,{only:["datas","server_filter","batch_datas"]})},B=e=>{e.preventDefault(),O.visit(u,{onStart:l=>r(!0),onFinish:l=>r(!1)}),localStorage.setItem(w,JSON.stringify({oldFilter:[],oldPage:1}))};return p.useEffect(()=>{const e={};f&&(e.branch_id=f),h&&(e.bulan=h),s&&(e.wilayah=s),Object.keys(e).length>0&&o(e)},[]),p.useEffect(()=>{r(g)},[g]),i("form",{onSubmit:j,className:"flex lg:flex-row flex-col items-center justify-start gap-3 w-full lg:w-auto",children:[x&&a(y,{type:"month",className:"w-full",onChange:n,name:"bulan",value:t.bulan}),S&&a(y,{type:"date",className:"w-full",onChange:n,name:"tanggal",value:t.tanggal}),b&&a(c,{name:"wilayah",value:t.wilayah,className:"w-full",nullValue:!0,options:m,onChange:n}),v&&i(E,{children:[a(c,{name:"wilayah",value:s,className:"w-full",nullValue:!0,options:m,onChange:F}),s!==""&&a(c,{name:"branch_id",className:"w-full",value:t.branch_id,nullValue:!0,required:!0,options:C,onChange:n})]}),i("div",{className:"flex flex-row gap-3",children:[a(d,{type:"submit",theme:"green",className:"block",title:"Cari"}),a(d,{onClick:B,type:"button",theme:"yellow",className:"block",title:"Reset"})]})]})};export{J as S};

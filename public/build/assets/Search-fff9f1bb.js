import{W as R,r as x,a as i,j as t,F as q,y as J}from"./app-4f05f94d.js";import{P as j}from"./PrimaryButton-98ce0df1.js";import{S as m}from"./SelectList-e6bf5ee2.js";import{u as z}from"./useServerFilter-43a566ce.js";import{T as h}from"./TextInput-a0b3ec1e.js";import{B as A}from"./ButtonWrapper-e9d9afef.js";const Y=({loading:G,setLoading:c,urlLink:g=route("emp.index"),localState:B,FilterWilayahOnly:F=!1,availableBranch:N=!1,availableDate:k=!1,availableMonth:D=!1,availablePlanText:w=!1,planTextName:l="search",children:W})=>{const{selectedSearchParam:d,wilayah:p,selectedWilayah:r,setSelectedWilayah:_,filteredBranch:E,selectedBranch_id:y,selectedBulan:b}=z(),{data:s,setData:n,get:O,processing:v}=R({}),o=e=>{const{name:a,value:u}=e.target;w?a==l?n(f=>{const S={[a]:u};for(const C in f)C!==a&&(S[C]="");return S}):n(f=>({...f,[a]:u,[l]:""})):n(a,u)},P=e=>{const{value:a}=e.target;_(a),n({branch_id:""})},V=e=>{e.preventDefault(),O(g)},I=e=>{e.preventDefault(),J.visit(g,{onStart:a=>c(!0),onFinish:a=>c(!1)}),localStorage.setItem(B,JSON.stringify({oldFilter:[],oldPage:1}))};return x.useEffect(()=>{const e={};d?e[l]=d:(y&&(e.branch_id=y),b&&(e.bulan=b),r&&(e.wilayah=r)),Object.keys(e).length>0&&n(e)},[]),x.useEffect(()=>{c(v)},[v]),i("form",{onSubmit:V,className:"flex w-full flex-col lg:flex-row gap-3 items-end lg:items-center justify-end",children:[i("div",{className:"flex flex-row justify-end gap-3 flex-wrap w-full lg:w-auto",children:[D&&t(h,{type:"month",className:"w-full lg:w-auto",onChange:o,name:"bulan",value:s.bulan}),k&&t(h,{type:"date",className:"w-full lg:w-auto",onChange:o,name:"tanggal",value:s.tanggal}),F&&t(m,{name:"wilayah",value:s.wilayah,className:"w-full lg:w-auto",nullValue:!0,options:p,onChange:o}),w&&t(h,{type:"text",className:"w-full lg:w-auto",onChange:o,name:l,value:s[l],placeholder:l}),N&&i(q,{children:[t(m,{name:"wilayah",value:r,className:"w-full lg:w-auto inline-block",nullValue:!0,options:p,onChange:P}),r!==""&&t(m,{name:"branch_id",className:"w-full lg:w-auto",value:s.branch_id,nullValue:!0,required:!0,options:E,onChange:o})]})]}),i(A,{children:[t(j,{type:"submit",theme:"green",className:"block",title:"Cari"}),t(j,{onClick:I,type:"button",theme:"yellow",className:"block",title:"Reset"}),W]})]})};export{Y as S};

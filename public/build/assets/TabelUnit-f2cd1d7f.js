import{W as _,r as n,j as a,a as B,R as D,d as l}from"./app-b1202655.js";import"./DefaultTable-7605e5f1.js";import{u as F,T as K,a as M,b as c,c as h,f as o,d as S,e as V,g as j,h as O}from"./table-4d97d4b9.js";import{F as b}from"./FormatNumbering-4d2ae8d6.js";import k from"./Create-e4e49027.js";import"./utils-01642ffa.js";import"./react-number-format.es-8f8ffa02.js";import"./Navbar-1e1bb46a.js";import"./iconBase-08200384.js";import"./index.esm-79a8d40c.js";import"./transition-70084075.js";import"./index.esm-fb576fe9.js";import"./InputError-1376385d.js";import"./InputLabel-fe8edd69.js";import"./PrimaryButton-4bd2d8b2.js";import"./TextInput-3bd624d5.js";import"./Loading-1de8f34a.js";import"./index.esm-994503c4.js";import"./dialog-90d4d277.js";const ne=({triggeredWilayah:d,loading:H,setLoading:I})=>{const{batch_datas:u}=_().props,[g,f]=n.useState([]),[w,m]=n.useState(!1),[x,y]=n.useState(""),[N,p]=n.useState(""),T=(t,r)=>{m(!0),y(t),p(r)},C=t=>{m(!1),p("")};n.useEffect(()=>{var r,e;const t=(e=(r=u.filter(i=>i.wilayah==d))==null?void 0:r[0])==null?void 0:e.data;f(t)},[d,u]);const v=(t=>t.reduce((r,e)=>(r.total+=e.total||0,r),{total:0}))(g),R=n.useMemo(()=>[{accessorKey:"button_type",id:"button_type",type:"action",cell:t=>t.getValue(),header:()=>"Action"},{accessorKey:"unit",id:"unit",cell:t=>t.getValue(),header:()=>"Unit"},{accessorKey:"total",id:"total",cell:t=>a(b,{value:t.getValue()}),header:()=>"Total",footer:t=>a(b,{value:v.totalNominal})},{accessorKey:"tanggungan",id:"tanggungan",cell:t=>t.getValue(),header:()=>"Keterangan"}],[]),s=F({data:g,columns:R,getCoreRowModel:O()});return B(K,{className:"border",children:[a(k,{branch:N,branchId:x,open:w,onClosed:C}),a(M,{children:s.getHeaderGroups().map((t,r)=>a(c,{children:t.headers.map((e,i)=>a(h,{className:"text-center",children:o(e.column.columnDef.header,e.getContext())},i))},r))}),a(S,{children:s.getRowModel().rows.length?s.getRowModel().rows.map((t,r)=>a(D.Fragment,{children:a(c,{className:"text-center",children:t.getVisibleCells().map((e,i)=>a(V,{className:e.column.columnDef.className,children:e.column.columnDef.type=="action"?a("div",{className:"flex items-center justify-center-center",children:a("div",{className:"w-full",children:o(e.row.original.button_type)==2?a("button",{onClick:()=>T(e.row.original.branch_id,e.row.original.unit),className:"px-2 py-1 rounded-lg bg-green-500 text-white",children:"Baru"}):o(e.row.original.button_type)==3?a(l,{href:route("unitsaving.savingdetails",e.row.original.id),className:"px-2 py-1 rounded-lg bg-gray-500 text-white",children:"Tutup"}):o(e.row.original.button_type)==4?a("div",{className:"px-2 py-1 rounded-lg",children:"Non Aktif"}):o(e.row.original.button_type)==1?a(l,{href:route("unitsaving.savingdetails",e.row.original.id),className:"px-2 py-1 rounded-lg bg-indigo-500 text-white",children:"Setor"}):o(e.row.original.button_type)==5?a(l,{href:route("unitsaving.savingdetails",e.row.original.id),className:"px-2 py-1 rounded-lg bg-amber-500 text-white",children:"Nihil"}):"invalid"})}):o(e.column.columnDef.cell,e.getContext())},i))},r)},r)):null}),a(j,{children:s.getFooterGroups().map((t,r)=>a(c,{children:t.headers.map(e=>a(h,{className:"text-center bg-gray-100 text-black",children:o(e.column.columnDef.footer,e.getContext())},e.id))},r))})]})};export{ne as default};

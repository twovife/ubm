import{r as x,_ as T,a as s,j as a,g as R}from"./app-1d785132.js";import{I as t}from"./InputLabel-faf6f2c6.js";import{L as I}from"./LinkButton-a4b9655b.js";import{P as M}from"./PrimaryButton-d85fef6e.js";import{S as y}from"./SelectList-244562dc.js";import{T as u}from"./TextInput-bd1c020b.js";import{A as C}from"./AuthenticatedLayout-3cf4e6d7.js";import{d as g}from"./dayjs.min-fd529046.js";import{C as o}from"./index.esm-6428d631.js";import{N as l}from"./react-number-format.es-ef5f37df.js";import j from"./Mutasi-3b8636fa.js";import{C as m}from"./Navbar-5bc1c263.js";import"./Loading-03bb076d.js";import"./transition-773de677.js";import"./index.esm-cfc0a015.js";import"./iconBase-72367d21.js";import"./index.esm-f651b8a5.js";import"./index.esm-0983ca43.js";const la=({branch:W,datas:f,employees:q,deposit:i,validating:h,...J})=>{const[k,V]=x.useState(!1),{data:r,setData:d,put:N,processing:_,errors:A,reset:v}=T({saldo_awal_sk:i.sk_balance,nominal_sk:0,saldo_awal_sw:i.sw_balance,nominal_sw:0,transaction_date:"",transaction:"",transaction_type:"",income_note:"Setoran Awal"}),w=e=>{const{value:n,name:c}=e.target;d(c,n)},p=(e,n)=>{d(n,parseInt(e))},[S,b]=x.useState(),D=e=>{b(null);const{value:n,name:c}=e.target;n==="D"&&(b([{id:1,value:"D",display:"Debit / Setor"}]),d({...r,nominal_sw:1e5,[c]:n})),n==="K"&&(d(c,n),b([{id:1,value:"K",display:"Pengambilan Sukarela"},{id:2,value:"KRMD",display:"Kredit Resign / MD"}]))},K=e=>{e.preventDefault(),N(route("sksw.addtransaksi",i.id),{onFinish:()=>{R.visit(route("sksw.transaksi",i.id),{only:["deposit"]},{preserveState:!0}),v()}})};return s(C,{loading:_||k,children:[a(m,{judul:"Transaksi SKSW",children:a(m.subTitle,{children:s("div",{className:"flex lg:flex-row flex-col lg:justify-between items-center gap-3",children:[s(m.startContent,{className:"flex-wrap mb-3 lg:mb-0",children:[a("p",{className:"text-xs",children:"* jika ada debit dan kredit dalam satu bulan, cara input disendirikan ( setelah debit baru kredit / sebaliknya)"}),a("p",{className:"text-xs",children:"*Jika Terjadi Kesalahan Input bisa hubungi tim IT ( jangan mengurangi transaksi jika memang tidak ada transaksi kredit )"})]}),a(m.endContent,{className:"flex-wrap",children:a(I,{href:route("sksw.dashboard"),title:"Halaman Utama"})})]})})}),a("div",{className:"p-5 mt-3 bg-gray-50 rounded shadow overflow-auto",children:s("table",{className:"w-full text-sm text-left text-gray-500 shadow rounded",children:[a("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:s("tr",{children:[a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Wilayah"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Unit"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Bulan"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Tanggal Transaksi"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap bg-blue-200 text-black font-semibold",children:"Saldo SW Sebelumnya"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap bg-blue-200 text-black font-semibold",children:"Debit SW"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap bg-blue-200 text-black font-semibold",children:"Kredit SW"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap bg-blue-200 text-black font-semibold",children:"Saldo SW"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap bg-blue-200 text-black font-semibold",children:"Setoran SW(D)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap bg-blue-200 text-black font-semibold",children:"Debit Mutasi SW(D)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap bg-blue-200 text-black font-semibold",children:"Pengambilan SW(K)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap bg-blue-200 text-black font-semibold",children:"Kredit Mutasi SW(K)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap bg-blue-200 text-black font-semibold",children:"Kredit Resign / MD SW(K)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap bg-red-200 text-black font-semibold",children:"Saldo SK Sebelumnya"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap bg-red-200 text-black font-semibold",children:"Debit SK"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap bg-red-200 text-black font-semibold",children:"Kredit SK"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap bg-red-200 text-black font-semibold",children:"Saldo SK"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap bg-red-200 text-black font-semibold",children:"Setoran SK(D)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap bg-red-200 text-black font-semibold",children:"Debit Mutasi SK(D)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap bg-red-200 text-black font-semibold",children:"Pengambilan SK(K)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap bg-red-200 text-black font-semibold",children:"Kredit Mutasi SK(K)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap bg-red-200 text-black font-semibold",children:"Kredit Resign / MD SK(K)"})]})}),a("tbody",{children:f.map((e,n)=>s("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[a("td",{className:"px-6 py-4",children:e.wilayah}),a("td",{className:"px-6 py-4 whitespace-nowrap",children:e.unit}),a("td",{className:"px-6 py-4",children:g(e==null?void 0:e.transaction_date).format("MMM")}),a("td",{className:"px-6 py-4",children:g(e==null?void 0:e.transaction_date).format("DD-MM-YYYY")}),a("td",{className:"px-6 py-4 whitespace-nowrap bg-gray-100",children:a(l,{value:e.sw_balance_before,displayType:"text",thousandSeparator:",",prefix:"Rp. "})}),a("td",{className:"px-6 py-4 whitespace-nowrap bg-green-100 text-black",children:a(l,{value:e.sw_debit,displayType:"text",thousandSeparator:",",prefix:"Rp. "})}),a("td",{className:"px-6 py-4 whitespace-nowrap bg-red-100 text-black",children:a(l,{value:e.sw_kredit,displayType:"text",thousandSeparator:",",prefix:"Rp. "})}),a("td",{className:"px-6 py-4 whitespace-nowrap bg-green-200 text-black font-semibold",children:a(l,{value:e.sw_saldo,displayType:"text",thousandSeparator:",",prefix:"Rp. "})}),a("td",{className:"px-6 py-4 whitespace-nowrap bg-blue-100",children:a(l,{value:e.D_sw,displayType:"text",thousandSeparator:",",prefix:"Rp. "})}),a("td",{className:"px-6 py-4 whitespace-nowrap bg-blue-100",children:a(l,{value:e.DM_sw,displayType:"text",thousandSeparator:",",prefix:"Rp. "})}),a("td",{className:"px-6 py-4 whitespace-nowrap bg-blue-100",children:a(l,{value:e.K_sw,displayType:"text",thousandSeparator:",",prefix:"Rp. "})}),a("td",{className:"px-6 py-4 whitespace-nowrap bg-blue-100",children:a(l,{value:e.KM_sw,displayType:"text",thousandSeparator:",",prefix:"Rp. "})}),a("td",{className:"px-6 py-4 whitespace-nowrap bg-blue-100",children:a(l,{value:e.KRMD_sw,displayType:"text",thousandSeparator:",",prefix:"Rp. "})}),a("td",{className:"px-6 py-4 whitespace-nowrap bg-gray-50",children:a(l,{value:e.sk_balance_before,displayType:"text",thousandSeparator:",",prefix:"Rp. "})}),a("td",{className:"px-6 py-4 whitespace-nowrap bg-green-100 text-black",children:a(l,{value:e.sk_debit,displayType:"text",thousandSeparator:",",prefix:"Rp. "})}),a("td",{className:"px-6 py-4 whitespace-nowrap bg-red-100 text-black",children:a(l,{value:e.sk_kredit,displayType:"text",thousandSeparator:",",prefix:"Rp. "})}),a("td",{className:"px-6 py-4 whitespace-nowrap bg-green-200 text-black font-semibold",children:a(l,{value:e.sk_saldo,displayType:"text",thousandSeparator:",",prefix:"Rp. "})}),a("td",{className:"px-6 py-4 whitespace-nowrap bg-blue-100",children:a(l,{value:e.D_sk,displayType:"text",thousandSeparator:",",prefix:"Rp. "})}),a("td",{className:"px-6 py-4 whitespace-nowrap bg-blue-100",children:a(l,{value:e.DM_sk,displayType:"text",thousandSeparator:",",prefix:"Rp. "})}),a("td",{className:"px-6 py-4 whitespace-nowrap bg-blue-100",children:a(l,{value:e.K_sk,displayType:"text",thousandSeparator:",",prefix:"Rp. "})}),a("td",{className:"px-6 py-4 whitespace-nowrap bg-blue-100",children:a(l,{value:e.KM_sk,displayType:"text",thousandSeparator:",",prefix:"Rp. "})}),a("td",{className:"px-6 py-4 whitespace-nowrap bg-blue-100",children:a(l,{value:e.KRMD_sk,displayType:"text",thousandSeparator:",",prefix:"Rp. "})})]},n))})]})}),s("div",{className:"mx-auto sm:px-6 lg:px-8 mb-6",children:[a("div",{className:"p-3 bg-white rounded shadow mt-3",children:s("div",{className:"lg:flex justify-start items-start gap-3",children:[s("div",{className:"mb-3 flex-1",children:[a(t,{value:"Nama Karyawan"}),a(u,{type:"text",disabled:!0,value:i.nama_karyawan,name:"transaction_date",className:"w-full uppercase"})]}),s("div",{className:"mb-3 flex-1",children:[a(t,{value:"Unit Sekarang"}),a(u,{type:"text",disabled:!0,value:i.unit,name:"transaction_date",className:"w-full"})]}),a("div",{className:"mb-3 flex-1"}),a("div",{className:"mb-3 flex-1"})]})}),a("div",{className:"p-3 bg-white rounded shadow mt-3",children:s("form",{onSubmit:K,children:[a("span",{className:"font-semibold mb-3",children:"Transaksi"}),s("div",{className:"lg:flex justify-start items-start gap-3",children:[s("div",{className:"mb-3 flex-1",children:[a(t,{value:"Tanggal Transaksi"}),a(u,{type:"month",required:!0,max:h.max_date,min:h.min_date,onChange:w,name:"transaction_date",className:"w-full"})]}),s("div",{className:"mb-3 flex-1",children:[a(t,{value:"Jenis Transaksi"}),a(y,{className:"w-full",nullValue:!0,required:!0,name:"transaction",value:r.transaction,onChange:D,options:[{id:1,value:"D",display:"Debit"},{id:2,value:"K",display:"Kredit"}]})]}),s("div",{className:"mb-3 flex-1",children:[a(t,{value:"Jenis Transaksi"}),a(y,{className:"w-full",nullValue:!0,name:"transaction_type",required:!0,onChange:w,options:S})]}),s("div",{className:"flex-[2] flex gap-3",children:[s("div",{className:"flex-1",children:[s("div",{className:"mb-3",children:[a(t,{value:"Saldo Simpanan Wajib"}),a(o,{name:"saldo_awal_sw",id:"saldo_awal_sw",readOnly:!0,className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-md read-only:bg-gray-100 read-only:cursor-not-allowed",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:p,value:r.saldo_awal_sw,placeholder:"Inputkan angka tanpa sparator"})]}),s("div",{className:"mb-3",children:[a(t,{value:"Nominal Transaksi Simpanan Wajib"}),a(o,{name:"nominal_sw",id:"nominal_sw",className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-md",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:p,value:r.nominal_sw,placeholder:"Inputkan angka tanpa sparator"})]}),s("div",{className:"mb-3",children:[a(t,{value:"Saldo Akhir Transaksi Simpanan Wajib"}),a(o,{name:"sw_balance",id:"sw_balance",readOnly:!0,className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-md read-only:bg-gray-100 read-only:cursor-not-allowed",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,value:r.transaction=="D"?parseInt(r.saldo_awal_sw)+parseInt(r.nominal_sw):parseInt(r.saldo_awal_sw)-parseInt(r.nominal_sw),placeholder:"Inputkan angka tanpa sparator"})]})]}),s("div",{className:"flex-1",children:[s("div",{className:"mb-3",children:[a(t,{value:"Saldo Simpanan Sukarela"}),a(o,{name:"saldo_awal_sk",readOnly:!0,id:"saldo_awal_sk",className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-md read-only:bg-gray-100 read-only:cursor-not-allowed",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:p,value:r.saldo_awal_sk,placeholder:"Inputkan angka tanpa sparator"})]}),s("div",{className:"mb-3",children:[a(t,{value:"Nominal Transaksi Simpanan Sukarela"}),a(o,{name:"nominal_sk",id:"nominal_sk",className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-md",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:p,value:r.nominal_sk,placeholder:"Inputkan angka tanpa sparator"})]}),s("div",{className:"mb-3",children:[a(t,{value:"Saldo Akhir Transaksi Simpanan Sukarela"}),a(o,{name:"sk_balance",id:"sk_balance",readOnly:!0,className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-md read-only:bg-gray-100 read-only:cursor-not-allowed",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,value:r.transaction=="D"?parseInt(r.saldo_awal_sk)+parseInt(r.nominal_sk):parseInt(r.saldo_awal_sk)-parseInt(r.nominal_sk),placeholder:"Inputkan angka tanpa sparator"})]})]})]})]}),a("div",{children:a(M,{title:"Submit",type:"submit"})})]})}),a(j,{})]})]})};export{la as default};

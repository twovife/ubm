import{r as u,_ as M,a,j as l,F as K}from"./app-eef8e79b.js";import{I as n}from"./InputLabel-f00a3889.js";import{L as I}from"./LinkButton-cc80a8b2.js";import{P as T}from"./PrimaryButton-1f1744c7.js";import{S as x}from"./SelectList-8f167ed5.js";import{T as b}from"./TextInput-9b26db07.js";import{A as C}from"./AuthenticatedLayout-50137d44.js";import{d as h}from"./dayjs.min-07e4f441.js";import{C as c}from"./index.esm-948940fb.js";import R from"./Mutasi-8dc9b772.js";import{a as N}from"./index.esm-d51942f8.js";import"./SweetAlert-025d8f7e.js";import"./transition-01aa2c2c.js";import"./iconBase-45b1f385.js";import"./index.esm-1669daa0.js";import"./Loading-9186af18.js";const X=({branch:j,employees:q,deposit:t,...y})=>{console.log(t),u.useState(!1);const{data:s,setData:d,put:f,processing:k,errors:Y}=M({saldo_awal_sk:t.sk_balance,nominal_sk:0,saldo_awal_sw:t.sw_balance,nominal_sw:0,transaction_date:"",transaction:"",transaction_type:"",income_note:"Setoran Awal"}),w=e=>{const{value:r,name:p}=e.target;d(p,r)},i=(e,r)=>{d(r,parseInt(e))},[v,m]=u.useState(),_=e=>{m(null);const{value:r,name:p}=e.target;r==="D"&&(m([{id:1,value:"D",display:"Debit / Setor"}]),d({...s,nominal_sw:1e5,[p]:r})),r==="K"&&(d(p,r),m([{id:1,value:"K",display:"Pengambilan Sukarela"},{id:2,value:"KRMD",display:"Kredit Resign / MD"}]))},D=e=>{e.preventDefault(),console.log(s),f(route("simpanan.addtransaksi",t.id))},[o,S]=u.useState(1),g=e=>{S(e)};return a(C,{loading:k,auth:y.auth,errors:y.errors,header:l(K,{children:[a("h2",{className:"font-semibold text-xl text-main-800 leading-tight",children:"Transaksi Simpanan"}),a("div",{className:"ml-auto flex items-center",children:a(I,{href:route("simpanan.index"),title:"Halaman Utama"})})]}),children:l("div",{className:"mx-auto sm:px-6 lg:px-8",children:[l("ul",{className:"tab-list flex justify-start gap-3",children:[a("li",{className:`tab ${o===1?"active bg-main-400 ring-2 ring-main-500":""} px-3 py-1 border rounded hover:bg-main-400 hover:cursor-pointer`,onClick:()=>g(1),children:"Simpanan Wajib"}),a("li",{className:`tab ${o===2?"active bg-main-400 ring-2 ring-main-500":""} px-3 py-1 border rounded hover:bg-main-400 hover:cursor-pointer`,onClick:()=>g(2),children:"Simpanan Sukarela"})]}),l("div",{className:"tab-content mt-3",children:[a("div",{className:o===1?"active":"hidden",children:a("div",{className:"p-3 bg-white rounded shadow",children:a("div",{className:"relative overflow-x-auto max-h-[50vh]",children:l("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[a("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:l("tr",{children:[a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Wilayah"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Unit"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Bulan"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Tanggal Transaksi"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Saldo Sebelumnya"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Debit"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Kredit"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Saldo"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Setoran (D)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Debit Mutasi (D)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Pengambilan Sukarela (K)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Kredit Mutasi (K)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Kredit Resign / MD (K)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Delete"})]})}),a("tbody",{children:t.mandatorytrasactions.map((e,r)=>l("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[a("td",{className:"px-6 py-4",children:e.branch.wilayah}),a("td",{className:"px-6 py-4 whitespace-nowrap",children:e.branch.unit}),a("td",{className:"px-6 py-4",children:h(e==null?void 0:e.transaction_date).format("MMM")}),a("td",{className:"px-6 py-4",children:h(e==null?void 0:e.transaction_date).format("DD-MM-YYYY")}),a("td",{className:"px-6 py-4 bg-gray-200",children:e.balance_before}),a("td",{className:"px-6 py-4 bg-green-200",children:e.debit}),a("td",{className:"px-6 py-4 bg-red-200",children:e.kredit}),a("td",{className:"px-6 py-4 bg-emerald-100",children:e.balance}),a("td",{className:"px-6 py-4 bg-yellow-100",children:e.transaction_type=="D"?e.debit:"-"}),a("td",{className:"px-6 py-4 bg-yellow-100",children:e.transaction_type=="DM"?e.debit:"-"}),a("td",{className:"px-6 py-4 bg-yellow-100",children:e.transaction_type=="K"?e.kredit:"-"}),a("td",{className:"px-6 py-4 bg-yellow-100",children:e.transaction_type=="KM"?e.kredit:"-"}),a("td",{className:"px-6 py-4 bg-yellow-100",children:e.transaction_type=="KRMD"?e.kredit:"-"}),a("td",{className:"px-6 py-4 bg-blue-100",children:a(N,{})})]},r))})]})})})}),a("div",{className:o===2?"active":"hidden",children:a("div",{className:"p-3 bg-white rounded shadow",children:a("div",{className:"relative overflow-x-auto max-h-[50vh]",children:l("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[a("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:l("tr",{children:[a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Wilayah"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Unit"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Bulan"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Tanggal Transaksi"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Saldo Sebelumnya"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Debit"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Kredit"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Saldo"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Setoran (D)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Debit Mutasi (D)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Pengambilan Sukarela (K)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Kredit Mutasi (K)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Kredit Resign / MD (K)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Delete"})]})}),a("tbody",{children:t.optionaltrasactions.map((e,r)=>l("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[a("td",{className:"px-6 py-4",children:e.branch.wilayah}),a("td",{className:"px-6 py-4 whitespace-nowrap",children:e.branch.unit}),a("td",{className:"px-6 py-4",children:h(e==null?void 0:e.transaction_date).format("MMM")}),a("td",{className:"px-6 py-4",children:h(e==null?void 0:e.transaction_date).format("DD-MM-YYYY")}),a("td",{className:"px-6 py-4 bg-gray-200",children:e.balance_before}),a("td",{className:"px-6 py-4 bg-green-200",children:e.debit}),a("td",{className:"px-6 py-4 bg-red-200",children:e.kredit}),a("td",{className:"px-6 py-4 bg-emerald-100",children:e.balance}),a("td",{className:"px-6 py-4 bg-yellow-100",children:e.transaction_type=="D"?e.debit:"-"}),a("td",{className:"px-6 py-4 bg-yellow-100",children:e.transaction_type=="DM"?e.debit:"-"}),a("td",{className:"px-6 py-4 bg-yellow-100",children:e.transaction_type=="K"?e.kredit:"-"}),a("td",{className:"px-6 py-4 bg-yellow-100",children:e.transaction_type=="KM"?e.kredit:"-"}),a("td",{className:"px-6 py-4 bg-yellow-100",children:e.transaction_type=="KRMD"?e.kredit:"-"}),a("td",{className:"px-6 py-4 bg-blue-100",children:a(N,{})})]},r))})]})})})})]}),a("div",{className:"p-3 bg-white rounded shadow mt-3",children:l("div",{className:"lg:flex justify-start items-start gap-3",children:[l("div",{className:"mb-3 flex-1",children:[a(n,{value:"Nama Karyawan"}),a(b,{type:"text",disabled:!0,value:t.employee.nama_karyawan,name:"transaction_date",className:"w-full uppercase"})]}),l("div",{className:"mb-3 flex-1",children:[a(n,{value:"Unit Sekarang"}),a(b,{type:"text",disabled:!0,value:t.branch.unit,name:"transaction_date",className:"w-full"})]}),a("div",{className:"mb-3 flex-1"}),a("div",{className:"mb-3 flex-1"})]})}),a("div",{className:"p-3 bg-white rounded shadow mt-3",children:l("form",{onSubmit:D,children:[a("span",{className:"font-semibold mb-3",children:"Transaksi"}),l("div",{className:"lg:flex justify-start items-start gap-3",children:[l("div",{className:"mb-3 flex-1",children:[a(n,{value:"Tanggal Transaksi"}),a(b,{type:"month",required:!0,onChange:w,name:"transaction_date",className:"w-full"})]}),l("div",{className:"mb-3 flex-1",children:[a(n,{value:"Jenis Transaksi"}),a(x,{className:"w-full",nullValue:!0,required:!0,name:"transaction",value:s.transaction,onChange:_,options:[{id:1,value:"D",display:"Debit"},{id:2,value:"K",display:"Kredit"}]})]}),l("div",{className:"mb-3 flex-1",children:[a(n,{value:"Jenis Transaksi"}),a(x,{className:"w-full",nullValue:!0,name:"transaction_type",required:!0,onChange:w,options:v})]}),l("div",{className:"flex-[2] flex gap-3",children:[l("div",{className:"flex-1",children:[l("div",{className:"mb-3",children:[a(n,{value:"Saldo Simpanan Wajib"}),a(c,{name:"saldo_awal_sw",id:"saldo_awal_sw",readOnly:!0,className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-md read-only:bg-gray-100 read-only:cursor-not-allowed",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:i,value:s.saldo_awal_sw,placeholder:"Inputkan angka tanpa sparator"})]}),l("div",{className:"mb-3",children:[a(n,{value:"Nominal Transaksi Simpanan Wajib"}),a(c,{name:"nominal_sw",id:"nominal_sw",className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-md",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:i,value:s.nominal_sw,placeholder:"Inputkan angka tanpa sparator"})]}),l("div",{className:"mb-3",children:[a(n,{value:"Saldo Akhir Transaksi Simpanan Wajib"}),a(c,{name:"sw_balance",id:"sw_balance",readOnly:!0,className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-md read-only:bg-gray-100 read-only:cursor-not-allowed",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,value:s.transaction=="D"?parseInt(s.saldo_awal_sw)+parseInt(s.nominal_sw):parseInt(s.saldo_awal_sw)-parseInt(s.nominal_sw),placeholder:"Inputkan angka tanpa sparator"})]})]}),l("div",{className:"flex-1",children:[l("div",{className:"mb-3",children:[a(n,{value:"Saldo Simpanan Sukarela"}),a(c,{name:"saldo_awal_sk",readOnly:!0,id:"saldo_awal_sk",className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-md read-only:bg-gray-100 read-only:cursor-not-allowed",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:i,value:s.saldo_awal_sk,placeholder:"Inputkan angka tanpa sparator"})]}),l("div",{className:"mb-3",children:[a(n,{value:"Nominal Transaksi Simpanan Sukarela"}),a(c,{name:"nominal_sk",id:"nominal_sk",className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-md",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:i,value:s.nominal_sk,placeholder:"Inputkan angka tanpa sparator"})]}),l("div",{className:"mb-3",children:[a(n,{value:"Saldo Akhir Transaksi Simpanan Sukarela"}),a(c,{name:"sk_balance",id:"sk_balance",readOnly:!0,className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-md read-only:bg-gray-100 read-only:cursor-not-allowed",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,value:s.transaction=="D"?parseInt(s.saldo_awal_sk)+parseInt(s.nominal_sk):parseInt(s.saldo_awal_sk)-parseInt(s.nominal_sk),placeholder:"Inputkan angka tanpa sparator"})]})]})]})]}),a("div",{children:a(T,{title:"Submit",type:"submit"})})]})}),a(R,{})]})})};export{X as default};

import{r as u,_ as M,a,j as l,F as I}from"./app-62eb9655.js";import{I as n}from"./InputLabel-23ccd222.js";import{L as b}from"./LinkButton-07ad72cd.js";import{P as T}from"./PrimaryButton-c6c1178d.js";import{S as N}from"./SelectList-c044c9da.js";import{T as y}from"./TextInput-ca643556.js";import{A as C}from"./AuthenticatedLayout-9936f508.js";import{d as h}from"./dayjs.min-21f7e36d.js";import{C as c}from"./index.esm-8ac900ba.js";import R from"./Mutasi-f4463c62.js";import"./SweetAlert-e2c5e5b7.js";import"./transition-a78dee6c.js";import"./iconBase-fa43618f.js";import"./index.esm-e930102c.js";import"./index.esm-b4c81a09.js";import"./Loading-a76b646a.js";const Z=({branch:j,employees:q,deposit:t,...w})=>{const[f,Y]=u.useState(!1),{data:s,setData:d,put:k,processing:v,errors:A}=M({saldo_awal_sk:t.sk_balance,nominal_sk:0,saldo_awal_sw:t.sw_balance,nominal_sw:0,transaction_date:"",transaction:"",transaction_type:"",income_note:"Setoran Awal"}),g=e=>{const{value:r,name:p}=e.target;d(p,r)},i=(e,r)=>{d(r,parseInt(e))},[_,m]=u.useState(),D=e=>{m(null);const{value:r,name:p}=e.target;r==="D"&&(m([{id:1,value:"D",display:"Debit / Setor"}]),d({...s,nominal_sw:1e5,[p]:r})),r==="K"&&(d(p,r),m([{id:1,value:"K",display:"Pengambilan Sukarela"},{id:2,value:"KRMD",display:"Kredit Resign / MD"}]))},S=e=>{e.preventDefault(),console.log(s),k(route("simpanan.addtransaksi",t.id))},[o,K]=u.useState(1),x=e=>{K(e)};return a(C,{loading:v||f,auth:w.auth,errors:w.errors,header:l(I,{children:[a("h2",{className:"font-semibold text-xl text-main-800 leading-tight",children:"Transaksi Simpanan"}),a("div",{className:"ml-auto flex items-center",children:a(b,{href:route("simpanan.index"),title:"Halaman Utama"})})]}),children:l("div",{className:"mx-auto sm:px-6 lg:px-8 mb-6",children:[l("ul",{className:"tab-list flex justify-start gap-3",children:[a("li",{className:`tab ${o===1?"active bg-main-400 ring-2 ring-main-500":""} px-3 py-1 border rounded hover:bg-main-400 hover:cursor-pointer`,onClick:()=>x(1),children:"Simpanan Wajib"}),a("li",{className:`tab ${o===2?"active bg-main-400 ring-2 ring-main-500":""} px-3 py-1 border rounded hover:bg-main-400 hover:cursor-pointer`,onClick:()=>x(2),children:"Simpanan Sukarela"})]}),l("div",{className:"tab-content mt-3",children:[a("div",{className:o===1?"active":"hidden",children:a("div",{className:"p-3 bg-white rounded shadow",children:a("div",{className:"relative overflow-x-auto max-h-[50vh]",children:l("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[a("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:l("tr",{children:[a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Wilayah"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Unit"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Bulan"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Tanggal Transaksi"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Saldo Sebelumnya"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Debit"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Kredit"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Saldo"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Setoran (D)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Debit Mutasi (D)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Pengambilan Sukarela (K)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Kredit Mutasi (K)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Kredit Resign / MD (K)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Delete"})]})}),a("tbody",{children:t.mandatorytrasactions.map((e,r)=>l("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[a("td",{className:"px-6 py-4",children:e.branch.wilayah}),a("td",{className:"px-6 py-4 whitespace-nowrap",children:e.branch.unit}),a("td",{className:"px-6 py-4",children:h(e==null?void 0:e.transaction_date).format("MMM")}),a("td",{className:"px-6 py-4",children:h(e==null?void 0:e.transaction_date).format("DD-MM-YYYY")}),a("td",{className:"px-6 py-4 bg-gray-200",children:e.balance_before}),a("td",{className:"px-6 py-4 bg-green-200",children:e.debit}),a("td",{className:"px-6 py-4 bg-red-200",children:e.kredit}),a("td",{className:"px-6 py-4 bg-emerald-100",children:e.balance}),a("td",{className:"px-6 py-4 bg-yellow-100",children:e.transaction_type=="D"?e.debit:"-"}),a("td",{className:"px-6 py-4 bg-yellow-100",children:e.transaction_type=="DM"?e.debit:"-"}),a("td",{className:"px-6 py-4 bg-yellow-100",children:e.transaction_type=="K"?e.kredit:"-"}),a("td",{className:"px-6 py-4 bg-yellow-100",children:e.transaction_type=="KM"?e.kredit:"-"}),a("td",{className:"px-6 py-4 bg-yellow-100",children:e.transaction_type=="KRMD"?e.kredit:"-"}),a("td",{className:"px-6 py-4 bg-blue-100",children:r==t.mandatorytrasactions.length-1&&a(b,{href:route("simpanan.destroysw",e.id),type:"button",method:"delete",title:"Delete"})})]},r))})]})})})}),a("div",{className:o===2?"active":"hidden",children:a("div",{className:"p-3 bg-white rounded shadow",children:a("div",{className:"relative overflow-x-auto max-h-[50vh]",children:l("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[a("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:l("tr",{children:[a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Wilayah"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Unit"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Bulan"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Tanggal Transaksi"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Saldo Sebelumnya"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Debit"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Kredit"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Saldo"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Setoran (D)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Debit Mutasi (D)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Pengambilan Sukarela (K)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Kredit Mutasi (K)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Kredit Resign / MD (K)"}),a("th",{scope:"col",className:"px-6 py-3 whitespace-nowrap",children:"Delete"})]})}),a("tbody",{children:t.optionaltrasactions.map((e,r)=>l("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[a("td",{className:"px-6 py-4",children:e.branch.wilayah}),a("td",{className:"px-6 py-4 whitespace-nowrap",children:e.branch.unit}),a("td",{className:"px-6 py-4",children:h(e==null?void 0:e.transaction_date).format("MMM")}),a("td",{className:"px-6 py-4",children:h(e==null?void 0:e.transaction_date).format("DD-MM-YYYY")}),a("td",{className:"px-6 py-4 bg-gray-200",children:e.balance_before}),a("td",{className:"px-6 py-4 bg-green-200",children:e.debit}),a("td",{className:"px-6 py-4 bg-red-200",children:e.kredit}),a("td",{className:"px-6 py-4 bg-emerald-100",children:e.balance}),a("td",{className:"px-6 py-4 bg-yellow-100",children:e.transaction_type=="D"?e.debit:"-"}),a("td",{className:"px-6 py-4 bg-yellow-100",children:e.transaction_type=="DM"?e.debit:"-"}),a("td",{className:"px-6 py-4 bg-yellow-100",children:e.transaction_type=="K"?e.kredit:"-"}),a("td",{className:"px-6 py-4 bg-yellow-100",children:e.transaction_type=="KM"?e.kredit:"-"}),a("td",{className:"px-6 py-4 bg-yellow-100",children:e.transaction_type=="KRMD"?e.kredit:"-"}),a("td",{className:"px-6 py-4 bg-blue-100",children:r==t.optionaltrasactions.length-1&&a(b,{href:route("simpanan.destroysk",e.id),type:"button",method:"delete",title:"Delete"})})]},r))})]})})})})]}),a("div",{className:"p-3 bg-white rounded shadow mt-3",children:l("div",{className:"lg:flex justify-start items-start gap-3",children:[l("div",{className:"mb-3 flex-1",children:[a(n,{value:"Nama Karyawan"}),a(y,{type:"text",disabled:!0,value:t.employee.nama_karyawan,name:"transaction_date",className:"w-full uppercase"})]}),l("div",{className:"mb-3 flex-1",children:[a(n,{value:"Unit Sekarang"}),a(y,{type:"text",disabled:!0,value:t.branch.unit,name:"transaction_date",className:"w-full"})]}),a("div",{className:"mb-3 flex-1"}),a("div",{className:"mb-3 flex-1"})]})}),a("div",{className:"p-3 bg-white rounded shadow mt-3",children:l("form",{onSubmit:S,children:[a("span",{className:"font-semibold mb-3",children:"Transaksi"}),l("div",{className:"lg:flex justify-start items-start gap-3",children:[l("div",{className:"mb-3 flex-1",children:[a(n,{value:"Tanggal Transaksi"}),a(y,{type:"month",required:!0,onChange:g,name:"transaction_date",className:"w-full"})]}),l("div",{className:"mb-3 flex-1",children:[a(n,{value:"Jenis Transaksi"}),a(N,{className:"w-full",nullValue:!0,required:!0,name:"transaction",value:s.transaction,onChange:D,options:[{id:1,value:"D",display:"Debit"},{id:2,value:"K",display:"Kredit"}]})]}),l("div",{className:"mb-3 flex-1",children:[a(n,{value:"Jenis Transaksi"}),a(N,{className:"w-full",nullValue:!0,name:"transaction_type",required:!0,onChange:g,options:_})]}),l("div",{className:"flex-[2] flex gap-3",children:[l("div",{className:"flex-1",children:[l("div",{className:"mb-3",children:[a(n,{value:"Saldo Simpanan Wajib"}),a(c,{name:"saldo_awal_sw",id:"saldo_awal_sw",readOnly:!0,className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-md read-only:bg-gray-100 read-only:cursor-not-allowed",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:i,value:s.saldo_awal_sw,placeholder:"Inputkan angka tanpa sparator"})]}),l("div",{className:"mb-3",children:[a(n,{value:"Nominal Transaksi Simpanan Wajib"}),a(c,{name:"nominal_sw",id:"nominal_sw",className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-md",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:i,value:s.nominal_sw,placeholder:"Inputkan angka tanpa sparator"})]}),l("div",{className:"mb-3",children:[a(n,{value:"Saldo Akhir Transaksi Simpanan Wajib"}),a(c,{name:"sw_balance",id:"sw_balance",readOnly:!0,className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-md read-only:bg-gray-100 read-only:cursor-not-allowed",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,value:s.transaction=="D"?parseInt(s.saldo_awal_sw)+parseInt(s.nominal_sw):parseInt(s.saldo_awal_sw)-parseInt(s.nominal_sw),placeholder:"Inputkan angka tanpa sparator"})]})]}),l("div",{className:"flex-1",children:[l("div",{className:"mb-3",children:[a(n,{value:"Saldo Simpanan Sukarela"}),a(c,{name:"saldo_awal_sk",readOnly:!0,id:"saldo_awal_sk",className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-md read-only:bg-gray-100 read-only:cursor-not-allowed",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:i,value:s.saldo_awal_sk,placeholder:"Inputkan angka tanpa sparator"})]}),l("div",{className:"mb-3",children:[a(n,{value:"Nominal Transaksi Simpanan Sukarela"}),a(c,{name:"nominal_sk",id:"nominal_sk",className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-md",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,onValueChange:i,value:s.nominal_sk,placeholder:"Inputkan angka tanpa sparator"})]}),l("div",{className:"mb-3",children:[a(n,{value:"Saldo Akhir Transaksi Simpanan Sukarela"}),a(c,{name:"sk_balance",id:"sk_balance",readOnly:!0,className:"border-gray-300 focus:border-brand-500 focus:ring-brand-500 bg-white dark:bg-gray-800 rounded-md shadow-sm block w-full text-md read-only:bg-gray-100 read-only:cursor-not-allowed",allowDecimals:!1,prefix:"Rp. ",min:1,required:!0,value:s.transaction=="D"?parseInt(s.saldo_awal_sk)+parseInt(s.nominal_sk):parseInt(s.saldo_awal_sk)-parseInt(s.nominal_sk),placeholder:"Inputkan angka tanpa sparator"})]})]})]})]}),a("div",{children:a(T,{title:"Submit",type:"submit"})})]})}),a(R,{})]})})};export{Z as default};

import{r as E,R as Se}from"./app-1ade0aeb.js";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var l=function(){return l=Object.assign||function(r){for(var a,t=1,u=arguments.length;t<u;t++){a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(r[n]=a[n])}return r},l.apply(this,arguments)};function je(e,r){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,t=Object.getOwnPropertySymbols(e);u<t.length;u++)r.indexOf(t[u])<0&&Object.prototype.propertyIsEnumerable.call(e,t[u])&&(a[t[u]]=e[t[u]]);return a}function V(e,r,a){if(a||arguments.length===2)for(var t=0,u=r.length,n;t<u;t++)(n||!(t in r))&&(n||(n=Array.prototype.slice.call(r,0,t)),n[t]=r[t]);return e.concat(n||r)}var N=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},Le={k:1e3,m:1e6,b:1e9},Ue=function(e,r){r===void 0&&(r=".");var a=new RegExp("(\\d+("+N(r)+"\\d*)?)([kmb])$","i"),t=e.match(a);if(t){var u=t[1],n=t[3],i=Le[n.toLowerCase()];return Number(u.replace(r,"."))*i}},Be=function(e,r){r===void 0&&(r=",");var a=new RegExp(N(r),"g");return e.replace(a,"")},Ge=function(e,r){var a=N(r.join("")),t=new RegExp("[^\\d"+a+"]","gi");return e.replace(t,"")},le=function(e){var r=e.value,a=e.groupSeparator,t=a===void 0?",":a,u=e.decimalSeparator,n=u===void 0?".":u,i=e.allowDecimals,f=i===void 0?!0:i,o=e.decimalsLimit,C=o===void 0?2:o,D=e.allowNegativeValue,p=D===void 0?!0:D,v=e.disableAbbreviations,P=v===void 0?!1:v,d=e.prefix,c=d===void 0?"":d,m=e.transformRawValue,K=m===void 0?function($){return $}:m,x=K(r);if(x==="-")return x;var O=P?[]:["k","m","b"],I=new RegExp("((^|\\D)-\\d)|(-"+N(c)+")"),ae=I.test(x),j=RegExp("(\\d+)-?"+N(c)).exec(r)||[],F=j[0],q=j[1],z=c?F?x.replace(F,"").concat(q):x.replace(c,""):x,J=Be(z,t),A=Ge(J,V([t,n],O)),L=A;if(!P){if(O.some(function($){return $===A.toLowerCase()}))return"";var Q=Ue(A,n);Q&&(L=String(Q))}var U=ae&&p?"-":"";if(n&&L.includes(n)){var B=A.split(n),X=B[0],G=B[1],M=C&&G?G.slice(0,C):G,Y=f?""+n+M:"";return""+U+X+Y}return""+U+L},Me=function(e,r,a){if(a&&e.length>1){if(e.includes(r)){var t=e.split(r),u=t[0],n=t[1];if(n.length>a)return""+u+r+n.slice(0,a)}var i=e.length>a?new RegExp("(\\d+)(\\d{"+a+"})"):new RegExp("(\\d)(\\d+)"),f=e.match(i);if(f){var u=f[1],n=f[2];return""+u+r+n}}return e},ye=function(e,r){var a=r.groupSeparator,t=a===void 0?",":a,u=r.decimalSeparator,n=u===void 0?".":u,i=new RegExp("\\d([^"+N(t)+N(n)+"0-9]+)"),f=e.match(i);return f?f[1]:void 0},H=function(e){var r=e.value,a=e.decimalSeparator,t=e.intlConfig,u=e.decimalScale,n=e.prefix,i=n===void 0?"":n,f=e.suffix,o=f===void 0?"":f;if(r===""||r===void 0)return"";if(r==="-")return"-";var C=new RegExp("^\\d?-"+(i?N(i)+"?":"")+"\\d").test(r),D=a!=="."?$e(r,a,C):r,p={minimumFractionDigits:u||0,maximumFractionDigits:20},v=t?new Intl.NumberFormat(t.locale,t.currency?l(l({},p),{style:"currency",currency:t.currency}):p):new Intl.NumberFormat(void 0,p),P=v.formatToParts(Number(D)),d=Te(P,e),c=ye(d,l({},e)),m=r.slice(-1)===a?a:"",K=D.match(RegExp("\\d+\\.(\\d+)"))||[],x=K[1];return u===void 0&&x&&a&&(d.includes(a)?d=d.replace(RegExp("(\\d+)("+N(a)+")(\\d+)","g"),"$1$2"+x):c&&!o?d=d.replace(c,""+a+x+c):d=""+d+a+x),o&&m?""+d+m+o:c&&m?d.replace(c,""+m+c):c&&o?d.replace(c,""+m+o):[d,m,o].join("")},$e=function(e,r,a){var t=e;return r&&r!=="."&&(t=t.replace(RegExp(N(r),"g"),"."),a&&r==="-"&&(t="-"+t.slice(1))),t},Te=function(e,r){var a=r.prefix,t=r.groupSeparator,u=r.decimalSeparator,n=r.decimalScale,i=r.disableGroupSeparators,f=i===void 0?!1:i;return e.reduce(function(o,C,D){var p=C.type,v=C.value;return D===0&&a?p==="minusSign"?[v,a]:p==="currency"?V(V([],o),[a]):[a,v]:p==="currency"?a?o:V(V([],o),[v]):p==="group"?f?o:V(V([],o),[t!==void 0?t:v]):p==="decimal"?n!==void 0&&n===0?o:V(V([],o),[u!==void 0?u:v]):p==="fraction"?V(V([],o),[n!==void 0?v.slice(0,n):v]):V(V([],o),[v])},[""]).join("")},We={currencySymbol:"",groupSeparator:"",decimalSeparator:"",prefix:"",suffix:""},He=function(e){var r=e||{},a=r.locale,t=r.currency,u=a?new Intl.NumberFormat(a,t?{currency:t,style:"currency"}:void 0):new Intl.NumberFormat;return u.formatToParts(1000.1).reduce(function(n,i,f){return i.type==="currency"?f===0?l(l({},n),{currencySymbol:i.value,prefix:i.value}):l(l({},n),{currencySymbol:i.value,suffix:i.value}):i.type==="group"?l(l({},n),{groupSeparator:i.value}):i.type==="decimal"?l(l({},n),{decimalSeparator:i.value}):n},We)},be=function(e){return RegExp(/\d/,"gi").test(e)},qe=function(e,r,a){if(r===void 0&&(r="."),a===void 0||e===""||e===void 0)return e;if(!e.match(/\d/g))return"";var t=e.split(r),u=t[0],n=t[1];if(a===0)return u;var i=n||"";if(i.length<a)for(;i.length<a;)i+="0";else i=i.slice(0,a);return""+u+r+i},ze=function(e){var r=e.selectionStart,a=e.value,t=e.lastKeyStroke,u=e.stateValue,n=e.groupSeparator,i=r,f=a;if(u&&i){var o=a.split("");return t==="Backspace"&&u[i]===n&&(o.splice(i-1,1),i-=1),t==="Delete"&&u[i]===n&&(o.splice(i,1),i+=1),f=o.join(""),{modifiedValue:f,cursorPosition:i}}return{modifiedValue:f,cursorPosition:r}},Je=E.forwardRef(function(e,r){var a=e.allowDecimals,t=a===void 0?!0:a,u=e.allowNegativeValue,n=u===void 0?!0:u,i=e.id,f=e.name,o=e.className,C=e.customInput,D=e.decimalsLimit,p=e.defaultValue,v=e.disabled,P=v===void 0?!1:v,d=e.maxLength,c=e.value,m=e.onValueChange,K=e.fixedDecimalLength,x=e.placeholder,O=e.decimalScale,I=e.prefix,ae=e.suffix,j=e.intlConfig,F=e.step,q=e.min,z=e.max,J=e.disableGroupSeparators,A=J===void 0?!1:J,L=e.disableAbbreviations,Q=L===void 0?!1:L,U=e.decimalSeparator,B=e.groupSeparator,X=e.onChange,G=e.onFocus,M=e.onBlur,Y=e.onKeyDown,$=e.onKeyUp,he=e.transformRawValue,we=je(e,["allowDecimals","allowNegativeValue","id","name","className","customInput","decimalsLimit","defaultValue","disabled","maxLength","value","onValueChange","fixedDecimalLength","placeholder","decimalScale","prefix","suffix","intlConfig","step","min","max","disableGroupSeparators","disableAbbreviations","decimalSeparator","groupSeparator","onChange","onFocus","onBlur","onKeyDown","onKeyUp","transformRawValue"]);if(U&&be(U))throw new Error("decimalSeparator cannot be a number");if(B&&be(B))throw new Error("groupSeparator cannot be a number");var Z=E.useMemo(function(){return He(j)},[j]),g=U||Z.decimalSeparator||"",T=B||Z.groupSeparator||"";if(g&&T&&g===T&&A===!1)throw new Error("decimalSeparator cannot be the same as groupSeparator");var W={decimalSeparator:g,groupSeparator:T,disableGroupSeparators:A,intlConfig:j,prefix:I||Z.prefix,suffix:ae},te={decimalSeparator:g,groupSeparator:T,allowDecimals:t,decimalsLimit:D||K||2,allowNegativeValue:n,disableAbbreviations:Q,prefix:I||Z.prefix,transformRawValue:he},xe=p!=null?H(l(l({},W),{decimalScale:O,value:String(p)})):c!=null?H(l(l({},W),{decimalScale:O,value:String(c)})):"",oe=E.useState(xe),S=oe[0],_=oe[1],fe=E.useState(!1),ne=fe[0],Ve=fe[1],ce=E.useState(0),ie=ce[0],se=ce[1],de=E.useState(0),pe=de[0],Re=de[1],ve=E.useState(null),Ce=ve[0],Ee=ve[1],k=E.useRef(null);E.useImperativeHandle(r,function(){return k.current});var me=function(s,b){Ve(!0);var y=ze({selectionStart:b,value:s,lastKeyStroke:Ce,stateValue:S,groupSeparator:T}),h=y.modifiedValue,w=y.cursorPosition,R=le(l({value:h},te));if(!(d&&R.replace(/-/g,"").length>d)){if(R===""||R==="-"||R===g){m&&m(void 0,f,{float:null,formatted:"",value:""}),_(R);return}var ee=g?R.replace(g,"."):R,Pe=parseFloat(ee),ue=H(l({value:R},W));if(w!=null){var re=w+(ue.length-s.length);re=re<=0?I?I.length:0:re,se(re),Re(pe+1)}if(_(ue),m){var Ie={float:Pe,formatted:ue,value:R};m(R,f,Ie)}}},Ne=function(s){var b=s.target,y=b.value,h=b.selectionStart;me(y,h),X&&X(s)},De=function(s){return G&&G(s),S?S.length:0},Oe=function(s){var b=s.target.value,y=le(l({value:b},te));if(y==="-"||!y){_(""),M&&M(s);return}var h=Me(y,g,K),w=qe(h,g,O!==void 0?O:K),R=parseFloat(w.replace(g,".")),ee=H(l(l({},W),{value:w}));m&&m(w,f,{float:R,formatted:ee,value:w}),_(ee),M&&M(s)},Fe=function(s){var b=s.key;if(Ee(b),F&&(b==="ArrowUp"||b==="ArrowDown")){s.preventDefault(),se(S.length);var y=parseFloat(c!=null?String(c).replace(g,"."):le(l({value:S},te)))||0,h=b==="ArrowUp"?y+F:y-F;if(q!==void 0&&h<q||z!==void 0&&h>z)return;var w=String(F).includes(".")?Number(String(F).split(".")[1].length):void 0;me(String(w?h.toFixed(w):h).replace(".",g))}Y&&Y(s)},ke=function(s){var b=s.key,y=s.currentTarget.selectionStart;if(b!=="ArrowUp"&&b!=="ArrowDown"&&S!=="-"){var h=ye(S,{groupSeparator:T,decimalSeparator:g});if(h&&y&&y>S.length-h.length&&k.current){var w=S.length-h.length;k.current.setSelectionRange(w,w)}}$&&$(s)};E.useEffect(function(){ne&&S!=="-"&&k.current&&document.activeElement===k.current&&k.current.setSelectionRange(ie,ie)},[S,ie,k,ne,pe]);var Ke=function(){return c!=null&&S!=="-"&&(!g||S!==g)?H(l(l({},W),{decimalScale:ne?void 0:O,value:String(c)})):S},ge=l({type:"text",inputMode:"decimal",id:i,name:f,className:o,onChange:Ne,onBlur:Oe,onFocus:De,onKeyDown:Fe,onKeyUp:ke,placeholder:x,disabled:P,value:Ke(),ref:k},we);if(C){var Ae=C;return Se.createElement(Ae,l({},ge))}return Se.createElement("input",l({},ge))});Je.displayName="CurrencyInput";export{Je as C};

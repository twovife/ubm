import{W as E,r as s}from"./app-71af67be.js";function v(p,a,g=null){const y=g??E().props.datas,[u,h]=s.useState([{column:"",operators:"1",values:"",...p}]),[o,S]=s.useState({column:"",orderby:""}),[l,c]=s.useState(1);s.useEffect(()=>{c(1)},[u,o]);const C=(r,t)=>{const e=r[t.column],n=t.values;return n==null||n===""?!0:parseInt(t.operators)===1?D(e,n):parseInt(t.operators)===2?w(e,n):!0},D=(r,t)=>{const e=r==null?void 0:r.toString().toLowerCase(),n=t==null?void 0:t.toString().toLowerCase();return!(typeof e=="string"&&!e.includes(n))},w=(r,t)=>r===t,f=y.filter(r=>{for(const t of u)if(!C(r,t))return!1;return!0}).slice().sort((r,t)=>{const e=o.column,n=o.orderby;if(o.column!==""){if(n==="asc")return r[e]<t[e]?-1:r[e]>t[e]?1:0;if(n==="desc")return r[e]>t[e]?-1:r[e]<t[e]?1:0}return 0}),F=Math.ceil(f.length/a),d=f.slice((l-1)*a,l*a);let i={};return d.forEach(r=>{for(let t in r)t!=="wilayah"&&t!=="bulan"&&(i[t]=(i[t]||0)+r[t])}),{filters:u,setFilters:h,orderData:o,setOrderData:S,currentPage:l,setCurrentPage:c,displayData:d,totalPages:F,handlePageChange:r=>{c(r)},totals:i}}export{v as u};
